!function(h){if("object"==typeof exports)module.exports=h();else if("function"==typeof define&&define.amd)define(h);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self);f.blobStream=h()}}(function(){return function f(c,g,a){function v(d,k){if(!g[d]){if(!c[d]){var M="function"==typeof require&&require;if(!k&&M)return M(d,!0);if(r)return r(d,!0);throw Error("Cannot find module '"+d+"'");}M=g[d]={exports:{}};c[d][0].call(M.exports,function(a){var f=
c[d][1][a];return v(f?f:a)},M,M.exports,f,c,g,a)}return g[d].exports}for(var r="function"==typeof require&&require,k=0;k<a.length;k++)v(a[k]);return v}({1:[function(f,c,g){(function(a){function v(){if(!(this instanceof v))return new v;r.call(this);this._chunks=[];this.length=0}var r=f("stream").Writable,k=f("util"),d=f("blob"),u=a.URL||a.webkitURL||a.mozURL;k.inherits(v,r);v.prototype._write=function(a,d,f){a instanceof Uint8Array||(a=new Uint8Array(a));this.length+=a.length;this._chunks.push(a);
f()};v.prototype.toBlob=function(a){return new d(this._chunks,{type:a||"application/octet-stream"})};v.prototype.toBlobURL=function(a){return u.createObjectURL(this.toBlob(a))};c.exports=v}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{blob:2,stream:10,util:18}],2:[function(f,c,g){(function(a){function f(a){for(var d=0;d<a.length;d++){var k=a[d];if(k.buffer instanceof ArrayBuffer){var c=k.buffer;if(k.byteLength!==c.byteLength){var u=new Uint8Array(k.byteLength);
u.set(new Uint8Array(c,k.byteOffset,k.byteLength));c=u.buffer}a[d]=c}}}function r(a,k){k=k||{};var c=new d;f(a);for(var u=0;u<a.length;u++)c.append(a[u]);return k.type?c.getBlob(k.type):c.getBlob()}function k(a,d){f(a);return new Blob(a,d||{})}var d=a.BlobBuilder||a.WebKitBlobBuilder||a.MSBlobBuilder||a.MozBlobBuilder,u;try{u=2===(new Blob(["hi"])).size}catch(g){u=!1}var B;if(B=u)try{B=2===(new Blob([new Uint8Array([1,2])])).size}catch(q){B=!1}var A=d&&d.prototype.append&&d.prototype.getBlob;a=u?
B?a.Blob:k:A?r:void 0;c.exports=a}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],3:[function(f,c,g){function a(m,b,e){if(!(this instanceof a))return new a(m,b,e);var d=typeof m;if("base64"===b&&"string"===d)for(m=m.trim?m.trim():m.replace(/^\s+|\s+$/g,"");0!==m.length%4;)m+="=";var k;if("number"===d)k=K(m);else if("string"===d)k=a.byteLength(m,b);else if("object"===d)k=K(m.length);else throw Error("First argument needs to be a number, array or string.");var p;
a._useTypedArrays?p=a._augment(new Uint8Array(k)):(p=this,p.length=k,p._isBuffer=!0);if(a._useTypedArrays&&"number"===typeof m.byteLength)p._set(m);else{var f=m;if(Q(f)||a.isBuffer(f)||f&&"object"===typeof f&&"number"===typeof f.length)for(b=0;b<k;b++)a.isBuffer(m)?p[b]=m.readUInt8(b):p[b]=m[b];else if("string"===d)p.write(m,0,b);else if("number"===d&&!a._useTypedArrays&&!e)for(b=0;b<k;b++)p[b]=0}return p}function v(m,b,La,d){for(var k=[],p=0;p<b.length;p++)k.push(b.charCodeAt(p)&255);return a._charsWritten=
e(k,m,La,d)}function r(m,b,e){var a="";for(e=Math.min(m.length,e);b<e;b++)a+=String.fromCharCode(m[b]);return a}function k(m,b,e,a){a||(n("boolean"===typeof e,"missing or invalid endian"),n(void 0!==b&&null!==b,"missing offset"),n(b+1<m.length,"Trying to read beyond buffer length"));a=m.length;if(!(b>=a))return e?(e=m[b],b+1<a&&(e|=m[b+1]<<8)):(e=m[b]<<8,b+1<a&&(e|=m[b+1])),e}function d(m,b,e,a){a||(n("boolean"===typeof e,"missing or invalid endian"),n(void 0!==b&&null!==b,"missing offset"),n(b+3<
m.length,"Trying to read beyond buffer length"));a=m.length;if(!(b>=a)){var d;e?(b+2<a&&(d=m[b+2]<<16),b+1<a&&(d|=m[b+1]<<8),d|=m[b],b+3<a&&(d+=m[b+3]<<24>>>0)):(b+1<a&&(d=m[b+1]<<16),b+2<a&&(d|=m[b+2]<<8),b+3<a&&(d|=m[b+3]),d+=m[b]<<24>>>0);return d}}function u(m,b,e,a){a||(n("boolean"===typeof e,"missing or invalid endian"),n(void 0!==b&&null!==b,"missing offset"),n(b+1<m.length,"Trying to read beyond buffer length"));if(!(b>=m.length))return m=k(m,b,e,!0),m&32768?-1*(65535-m+1):m}function M(m,
b,e,a){a||(n("boolean"===typeof e,"missing or invalid endian"),n(void 0!==b&&null!==b,"missing offset"),n(b+3<m.length,"Trying to read beyond buffer length"));if(!(b>=m.length))return m=d(m,b,e,!0),m&2147483648?-1*(4294967295-m+1):m}function B(m,b,e,a){a||(n("boolean"===typeof e,"missing or invalid endian"),n(b+3<m.length,"Trying to read beyond buffer length"));return Z.read(m,b,e,23,4)}function q(m,b,e,a){a||(n("boolean"===typeof e,"missing or invalid endian"),n(b+7<m.length,"Trying to read beyond buffer length"));
return Z.read(m,b,e,52,8)}function A(m,b,e,a,d){d||(n(void 0!==b&&null!==b,"missing value"),n("boolean"===typeof a,"missing or invalid endian"),n(void 0!==e&&null!==e,"missing offset"),n(e+1<m.length,"trying to write beyond buffer length"),ba(b,65535));var p=m.length;if(!(e>=p))for(d=0,p=Math.min(p-e,2);d<p;d++)m[e+d]=(b&255<<8*(a?d:1-d))>>>8*(a?d:1-d)}function z(m,b,e,a,d){d||(n(void 0!==b&&null!==b,"missing value"),n("boolean"===typeof a,"missing or invalid endian"),n(void 0!==e&&null!==e,"missing offset"),
n(e+3<m.length,"trying to write beyond buffer length"),ba(b,4294967295));var p=m.length;if(!(e>=p))for(d=0,p=Math.min(p-e,4);d<p;d++)m[e+d]=b>>>8*(a?d:3-d)&255}function F(m,b,e,a,d){d||(n(void 0!==b&&null!==b,"missing value"),n("boolean"===typeof a,"missing or invalid endian"),n(void 0!==e&&null!==e,"missing offset"),n(e+1<m.length,"Trying to write beyond buffer length"),I(b,32767,-32768));e>=m.length||(0<=b?A(m,b,e,a,d):A(m,65535+b+1,e,a,d))}function J(m,b,e,a,d){d||(n(void 0!==b&&null!==b,"missing value"),
n("boolean"===typeof a,"missing or invalid endian"),n(void 0!==e&&null!==e,"missing offset"),n(e+3<m.length,"Trying to write beyond buffer length"),I(b,2147483647,-2147483648));e>=m.length||(0<=b?z(m,b,e,a,d):z(m,4294967295+b+1,e,a,d))}function P(m,b,e,a,d){d||(n(void 0!==b&&null!==b,"missing value"),n("boolean"===typeof a,"missing or invalid endian"),n(void 0!==e&&null!==e,"missing offset"),n(e+3<m.length,"Trying to write beyond buffer length"),Ca(b,3.4028234663852886E38,-3.4028234663852886E38));
e>=m.length||Z.write(m,b,e,a,23,4)}function R(m,b,e,a,d){d||(n(void 0!==b&&null!==b,"missing value"),n("boolean"===typeof a,"missing or invalid endian"),n(void 0!==e&&null!==e,"missing offset"),n(e+7<m.length,"Trying to write beyond buffer length"),Ca(b,1.7976931348623157E308,-1.7976931348623157E308));e>=m.length||Z.write(m,b,e,a,52,8)}function H(m,b,e){if("number"!==typeof m)return e;m=~~m;if(m>=b)return b;if(0<=m)return m;m+=b;return 0<=m?m:0}function K(m){m=~~Math.ceil(+m);return 0>m?0:m}function Q(m){return(Array.isArray||
function(m){return"[object Array]"===Object.prototype.toString.call(m)})(m)}function N(m){return 16>m?"0"+m.toString(16):m.toString(16)}function b(m){for(var b=[],e=0;e<m.length;e++){var a=m.charCodeAt(e);if(127>=a)b.push(m.charCodeAt(e));else{var d=e;55296<=a&&57343>=a&&e++;a=encodeURIComponent(m.slice(d,e+1)).substr(1).split("%");for(d=0;d<a.length;d++)b.push(parseInt(a[d],16))}}return b}function e(b,e,a,d){for(var p=0;p<d&&!(p+a>=e.length||p>=b.length);p++)e[p+a]=b[p];return p}function p(b){try{return decodeURIComponent(b)}catch(e){return String.fromCharCode(65533)}}
function ba(b,e){n("number"===typeof b,"cannot write a non-number as a number");n(0<=b,"specified a negative value for writing an unsigned value");n(b<=e,"value is larger than maximum value for type");n(Math.floor(b)===b,"value has a fractional component")}function I(b,e,a){n("number"===typeof b,"cannot write a non-number as a number");n(b<=e,"value larger than maximum allowed value");n(b>=a,"value smaller than minimum allowed value");n(Math.floor(b)===b,"value has a fractional component")}function Ca(b,
e,a){n("number"===typeof b,"cannot write a non-number as a number");n(b<=e,"value larger than maximum allowed value");n(b>=a,"value smaller than minimum allowed value")}function n(b,e){if(!b)throw Error(e||"Failed assertion");}var W=f("base64-js"),Z=f("ieee754");g.Buffer=a;g.SlowBuffer=a;g.INSPECT_MAX_BYTES=50;a.poolSize=8192;a._useTypedArrays=function(){if("function"!==typeof Uint8Array||"function"!==typeof ArrayBuffer)return!1;try{var b=new Uint8Array(0);b.foo=function(){return 42};return 42===
b.foo()&&"function"===typeof b.subarray}catch(e){return!1}}();a.isEncoding=function(b){switch(String(b).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "raw":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};a.isBuffer=function(b){return!(null===b||void 0===b||!b._isBuffer)};a.byteLength=function(m,e){var a;m+="";switch(e||"utf8"){case "hex":a=m.length/2;break;case "utf8":case "utf-8":a=b(m).length;break;case "ascii":case "binary":case "raw":a=
m.length;break;case "base64":a=W.toByteArray(m).length;break;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":a=2*m.length;break;default:throw Error("Unknown encoding");}return a};a.concat=function(b,e){n(Q(b),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array.");if(0===b.length)return new a(0);if(1===b.length)return b[0];var d;if("number"!==typeof e)for(d=e=0;d<b.length;d++)e+=b[d].length;var p=new a(e),k=0;for(d=0;d<b.length;d++){var f=b[d];f.copy(p,k);k+=f.length}return p};
a.prototype.write=function(m,d,p,k){if(isFinite(d))isFinite(p)||(k=p,p=void 0);else{var f=k;k=d;d=p;p=f}d=Number(d)||0;f=this.length-d;p?(p=Number(p),p>f&&(p=f)):p=f;k=String(k||"utf8").toLowerCase();switch(k){case "hex":d=Number(d)||0;k=this.length-d;p?(p=Number(p),p>k&&(p=k)):p=k;k=m.length;n(0===k%2,"Invalid hex string");p>k/2&&(p=k/2);for(k=0;k<p;k++)f=parseInt(m.substr(2*k,2),16),n(!isNaN(f),"Invalid hex string"),this[d+k]=f;a._charsWritten=2*k;m=k;break;case "utf8":case "utf-8":m=a._charsWritten=
e(b(m),this,d,p);break;case "ascii":m=v(this,m,d,p);break;case "binary":m=v(this,m,d,p);break;case "base64":m=a._charsWritten=e(W.toByteArray(m),this,d,p);break;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":for(var c,f=[],x=0;x<m.length;x++)c=m.charCodeAt(x),k=c>>8,c%=256,f.push(c),f.push(k);m=a._charsWritten=e(f,this,d,p);break;default:throw Error("Unknown encoding");}return m};a.prototype.toString=function(b,e,a){b=String(b||"utf8").toLowerCase();e=Number(e)||0;a=void 0!==a?Number(a):
a=this.length;if(a===e)return"";switch(b){case "hex":b=e;e=this.length;if(!b||0>b)b=0;if(!a||0>a||a>e)a=e;for(e="";b<a;b++)e+=N(this[b]);a=e;break;case "utf8":case "utf-8":var d=e;e=b="";for(a=Math.min(this.length,a);d<a;d++)127>=this[d]?(b+=p(e)+String.fromCharCode(this[d]),e=""):e+="%"+this[d].toString(16);a=b+p(e);break;case "ascii":a=r(this,e,a);break;case "binary":a=r(this,e,a);break;case "base64":b=e;a=0===b&&a===this.length?W.fromByteArray(this):W.fromByteArray(this.slice(b,a));break;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":a=
this.slice(e,a);b="";for(e=0;e<a.length;e+=2)b+=String.fromCharCode(a[e]+256*a[e+1]);a=b;break;default:throw Error("Unknown encoding");}return a};a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};a.prototype.copy=function(b,e,d,p){d||(d=0);p||0===p||(p=this.length);e||(e=0);if(p!==d&&0!==b.length&&0!==this.length)if(n(p>=d,"sourceEnd < sourceStart"),n(0<=e&&e<b.length,"targetStart out of bounds"),n(0<=d&&d<this.length,"sourceStart out of bounds"),
n(0<=p&&p<=this.length,"sourceEnd out of bounds"),p>this.length&&(p=this.length),b.length-e<p-d&&(p=b.length-e+d),p-=d,100>p||!a._useTypedArrays)for(var k=0;k<p;k++)b[k+e]=this[k+d];else b._set(this.subarray(d,d+p),e)};a.prototype.slice=function(b,e){var d=this.length;b=H(b,d,0);e=H(e,d,d);if(a._useTypedArrays)return a._augment(this.subarray(b,e));for(var d=e-b,p=new a(d,void 0,!0),k=0;k<d;k++)p[k]=this[k+b];return p};a.prototype.get=function(b){console.log(".get() is deprecated. Access using array indexes instead.");
return this.readUInt8(b)};a.prototype.set=function(b,e){console.log(".set() is deprecated. Access using array indexes instead.");return this.writeUInt8(b,e)};a.prototype.readUInt8=function(b,e){e||(n(void 0!==b&&null!==b,"missing offset"),n(b<this.length,"Trying to read beyond buffer length"));if(!(b>=this.length))return this[b]};a.prototype.readUInt16LE=function(b,e){return k(this,b,!0,e)};a.prototype.readUInt16BE=function(b,e){return k(this,b,!1,e)};a.prototype.readUInt32LE=function(b,e){return d(this,
b,!0,e)};a.prototype.readUInt32BE=function(b,e){return d(this,b,!1,e)};a.prototype.readInt8=function(b,e){e||(n(void 0!==b&&null!==b,"missing offset"),n(b<this.length,"Trying to read beyond buffer length"));if(!(b>=this.length))return this[b]&128?-1*(255-this[b]+1):this[b]};a.prototype.readInt16LE=function(b,e){return u(this,b,!0,e)};a.prototype.readInt16BE=function(b,e){return u(this,b,!1,e)};a.prototype.readInt32LE=function(b,e){return M(this,b,!0,e)};a.prototype.readInt32BE=function(b,e){return M(this,
b,!1,e)};a.prototype.readFloatLE=function(b,e){return B(this,b,!0,e)};a.prototype.readFloatBE=function(b,e){return B(this,b,!1,e)};a.prototype.readDoubleLE=function(b,e){return q(this,b,!0,e)};a.prototype.readDoubleBE=function(b,e){return q(this,b,!1,e)};a.prototype.writeUInt8=function(b,e,a){a||(n(void 0!==b&&null!==b,"missing value"),n(void 0!==e&&null!==e,"missing offset"),n(e<this.length,"trying to write beyond buffer length"),ba(b,255));e>=this.length||(this[e]=b)};a.prototype.writeUInt16LE=
function(b,e,a){A(this,b,e,!0,a)};a.prototype.writeUInt16BE=function(b,e,a){A(this,b,e,!1,a)};a.prototype.writeUInt32LE=function(b,e,a){z(this,b,e,!0,a)};a.prototype.writeUInt32BE=function(b,e,a){z(this,b,e,!1,a)};a.prototype.writeInt8=function(b,e,a){a||(n(void 0!==b&&null!==b,"missing value"),n(void 0!==e&&null!==e,"missing offset"),n(e<this.length,"Trying to write beyond buffer length"),I(b,127,-128));e>=this.length||(0<=b?this.writeUInt8(b,e,a):this.writeUInt8(255+b+1,e,a))};a.prototype.writeInt16LE=
function(b,e,a){F(this,b,e,!0,a)};a.prototype.writeInt16BE=function(b,e,a){F(this,b,e,!1,a)};a.prototype.writeInt32LE=function(b,e,a){J(this,b,e,!0,a)};a.prototype.writeInt32BE=function(b,e,a){J(this,b,e,!1,a)};a.prototype.writeFloatLE=function(b,e,a){P(this,b,e,!0,a)};a.prototype.writeFloatBE=function(b,e,a){P(this,b,e,!1,a)};a.prototype.writeDoubleLE=function(b,e,a){R(this,b,e,!0,a)};a.prototype.writeDoubleBE=function(b,e,a){R(this,b,e,!1,a)};a.prototype.fill=function(b,e,a){b||(b=0);e||(e=0);a||
(a=this.length);"string"===typeof b&&(b=b.charCodeAt(0));n("number"===typeof b&&!isNaN(b),"value is not a number");n(a>=e,"end < start");if(a!==e&&0!==this.length)for(n(0<=e&&e<this.length,"start out of bounds"),n(0<=a&&a<=this.length,"end out of bounds");e<a;e++)this[e]=b};a.prototype.inspect=function(){for(var b=[],e=this.length,a=0;a<e;a++)if(b[a]=N(this[a]),a===g.INSPECT_MAX_BYTES){b[a+1]="...";break}return"<Buffer "+b.join(" ")+">"};a.prototype.toArrayBuffer=function(){if("function"===typeof Uint8Array){if(a._useTypedArrays)return(new a(this)).buffer;
for(var b=new Uint8Array(this.length),e=0,d=b.length;e<d;e+=1)b[e]=this[e];return b.buffer}throw Error("Buffer.toArrayBuffer not supported in this browser");};var x=a.prototype;a._augment=function(b){b._isBuffer=!0;b._get=b.get;b._set=b.set;b.get=x.get;b.set=x.set;b.write=x.write;b.toString=x.toString;b.toLocaleString=x.toString;b.toJSON=x.toJSON;b.copy=x.copy;b.slice=x.slice;b.readUInt8=x.readUInt8;b.readUInt16LE=x.readUInt16LE;b.readUInt16BE=x.readUInt16BE;b.readUInt32LE=x.readUInt32LE;b.readUInt32BE=
x.readUInt32BE;b.readInt8=x.readInt8;b.readInt16LE=x.readInt16LE;b.readInt16BE=x.readInt16BE;b.readInt32LE=x.readInt32LE;b.readInt32BE=x.readInt32BE;b.readFloatLE=x.readFloatLE;b.readFloatBE=x.readFloatBE;b.readDoubleLE=x.readDoubleLE;b.readDoubleBE=x.readDoubleBE;b.writeUInt8=x.writeUInt8;b.writeUInt16LE=x.writeUInt16LE;b.writeUInt16BE=x.writeUInt16BE;b.writeUInt32LE=x.writeUInt32LE;b.writeUInt32BE=x.writeUInt32BE;b.writeInt8=x.writeInt8;b.writeInt16LE=x.writeInt16LE;b.writeInt16BE=x.writeInt16BE;
b.writeInt32LE=x.writeInt32LE;b.writeInt32BE=x.writeInt32BE;b.writeFloatLE=x.writeFloatLE;b.writeFloatBE=x.writeFloatBE;b.writeDoubleLE=x.writeDoubleLE;b.writeDoubleBE=x.writeDoubleBE;b.fill=x.fill;b.inspect=x.inspect;b.toArrayBuffer=x.toArrayBuffer;return b}},{"base64-js":4,ieee754:5}],4:[function(f,c,g){(function(a){function f(a){a=a.charCodeAt(0);if(43===a)return 62;if(47===a)return 63;if(48>a)return-1;if(58>a)return a-48+52;if(91>a)return a-65;if(123>a)return a-97+26}var r="undefined"!==typeof Uint8Array?
Uint8Array:Array;c.exports.toByteArray=function(a){function d(a){A[z++]=a}var c,g,B,q,A;if(0<a.length%4)throw Error("Invalid string. Length must be a multiple of 4");c=a.length;q="="===a.charAt(c-2)?2:"="===a.charAt(c-1)?1:0;A=new r(3*a.length/4-q);g=0<q?a.length-4:a.length;var z=0;for(c=0;c<g;c+=4)B=f(a.charAt(c))<<18|f(a.charAt(c+1))<<12|f(a.charAt(c+2))<<6|f(a.charAt(c+3)),d((B&16711680)>>16),d((B&65280)>>8),d(B&255);2===q?(B=f(a.charAt(c))<<2|f(a.charAt(c+1))>>4,d(B&255)):1===q&&(B=f(a.charAt(c))<<
10|f(a.charAt(c+1))<<4|f(a.charAt(c+2))>>2,d(B>>8&255),d(B&255));return A};c.exports.fromByteArray=function(a){var d,f=a.length%3,c="",r,q;d=0;for(q=a.length-f;d<q;d+=3)r=(a[d]<<16)+(a[d+1]<<8)+a[d+2],r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>18&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>12&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>6&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r&
63),c+=r;switch(f){case 1:r=a[a.length-1];c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>2);c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r<<4&63);c+="==";break;case 2:r=(a[a.length-2]<<8)+a[a.length-1],c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>10),c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>4&63),c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r<<
2&63),c+="="}return c}})()},{}],5:[function(f,c,g){g.read=function(a,f,c,k,d){var u;u=8*d-k-1;var g=(1<<u)-1,B=g>>1,q=-7;d=c?d-1:0;var A=c?-1:1,z=a[f+d];d+=A;c=z&(1<<-q)-1;z>>=-q;for(q+=u;0<q;c=256*c+a[f+d],d+=A,q-=8);u=c&(1<<-q)-1;c>>=-q;for(q+=k;0<q;u=256*u+a[f+d],d+=A,q-=8);if(0===c)c=1-B;else{if(c===g)return u?NaN:Infinity*(z?-1:1);u+=Math.pow(2,k);c-=B}return(z?-1:1)*u*Math.pow(2,c-k)};g.write=function(a,c,f,k,d,u){var g,B=8*u-d-1,q=(1<<B)-1,A=q>>1,z=23===d?Math.pow(2,-24)-Math.pow(2,-77):0;
u=k?0:u-1;var F=k?1:-1,J=0>c||0===c&&0>1/c?1:0;c=Math.abs(c);isNaN(c)||Infinity===c?(c=isNaN(c)?1:0,k=q):(k=Math.floor(Math.log(c)/Math.LN2),1>c*(g=Math.pow(2,-k))&&(k--,g*=2),c=1<=k+A?c+z/g:c+z*Math.pow(2,1-A),2<=c*g&&(k++,g/=2),k+A>=q?(c=0,k=q):1<=k+A?(c=(c*g-1)*Math.pow(2,d),k+=A):(c=c*Math.pow(2,A-1)*Math.pow(2,d),k=0));for(;8<=d;a[f+u]=c&255,u+=F,c/=256,d-=8);k=k<<d|c;for(B+=d;0<B;a[f+u]=k&255,u+=F,k/=256,B-=8);a[f+u-F]|=128*J}},{}],6:[function(f,c,g){function a(){this._events=this._events||
{};this._maxListeners=this._maxListeners||void 0}function v(a){return"function"===typeof a}function r(a){return"object"===typeof a&&null!==a}c.exports=a;a.EventEmitter=a;a.prototype._events=void 0;a.prototype._maxListeners=void 0;a.defaultMaxListeners=10;a.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||isNaN(a))throw TypeError("n must be a positive number");this._maxListeners=a;return this};a.prototype.emit=function(a){var d,c,f,g;this._events||(this._events={});if("error"===a&&
(!this._events.error||r(this._events.error)&&!this._events.error.length)){d=arguments[1];if(d instanceof Error)throw d;throw TypeError('Uncaught, unspecified "error" event.');}c=this._events[a];if(void 0===c)return!1;if(v(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:d=arguments.length;f=Array(d-1);for(g=1;g<d;g++)f[g-1]=arguments[g];c.apply(this,f)}else if(r(c)){d=arguments.length;f=Array(d-
1);for(g=1;g<d;g++)f[g-1]=arguments[g];c=c.slice();d=c.length;for(g=0;g<d;g++)c[g].apply(this,f)}return!0};a.prototype.addListener=function(c,d){var f;if(!v(d))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",c,v(d.listener)?d.listener:d);this._events[c]?r(this._events[c])?this._events[c].push(d):this._events[c]=[this._events[c],d]:this._events[c]=d;r(this._events[c])&&!this._events[c].warned&&(f=void 0!==this._maxListeners?
this._maxListeners:a.defaultMaxListeners)&&0<f&&this._events[c].length>f&&(this._events[c].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[c].length),console.trace());return this};a.prototype.on=a.prototype.addListener;a.prototype.once=function(a,d){function c(){this.removeListener(a,c);f||(f=!0,d.apply(this,arguments))}if(!v(d))throw TypeError("listener must be a function");var f=
!1;c.listener=d;this.on(a,c);return this};a.prototype.removeListener=function(a,d){var c,f,g;if(!v(d))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;c=this._events[a];g=c.length;f=-1;if(c===d||v(c.listener)&&c.listener===d)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,d);else if(r(c)){for(;0<g--;)if(c[g]===d||c[g].listener&&c[g].listener===d){f=g;break}if(0>f)return this;1===c.length?(c.length=0,delete this._events[a]):
c.splice(f,1);this._events.removeListener&&this.emit("removeListener",a,d)}return this};a.prototype.removeAllListeners=function(a){var d;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(d in this._events)"removeListener"!==d&&this.removeAllListeners(d);this.removeAllListeners("removeListener");this._events={};return this}d=this._events[a];if(v(d))this.removeListener(a,
d);else for(;d.length;)this.removeListener(a,d[d.length-1]);delete this._events[a];return this};a.prototype.listeners=function(a){return this._events&&this._events[a]?v(this._events[a])?[this._events[a]]:this._events[a].slice():[]};a.listenerCount=function(a,d){return a._events&&a._events[d]?v(a._events[d])?1:a._events[d].length:0}},{}],7:[function(f,c,g){c.exports="function"===typeof Object.create?function(a,c){a.super_=c;a.prototype=Object.create(c.prototype,{constructor:{value:a,enumerable:!1,
writable:!0,configurable:!0}})}:function(a,c){a.super_=c;var f=function(){};f.prototype=c.prototype;a.prototype=new f;a.prototype.constructor=a}},{}],8:[function(f,c,g){function a(){}f=c.exports={};f.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(a){return window.setImmediate(a)};if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var a=[];window.addEventListener("message",function(c){var f=c.source;f!==window&&null!==f||"process-tick"!==
c.data||(c.stopPropagation(),0<a.length&&a.shift()())},!0);return function(c){a.push(c);window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}();f.title="browser";f.browser=!0;f.env={};f.argv=[];f.on=a;f.once=a;f.off=a;f.emit=a;f.binding=function(a){throw Error("process.binding is not supported");};f.cwd=function(){return"/"};f.chdir=function(a){throw Error("process.chdir is not supported");}},{}],9:[function(f,c,g){function a(c){if(!(this instanceof a))return new a(c);k.call(this,
c);d.call(this,c);c&&!1===c.readable&&(this.readable=!1);c&&!1===c.writable&&(this.writable=!1);this.allowHalfOpen=!0;c&&!1===c.allowHalfOpen&&(this.allowHalfOpen=!1);this.once("end",v)}function v(){if(!this.allowHalfOpen&&!this._writableState.ended){var a=this;r(function(){a.end()})}}c.exports=a;c=f("inherits");var r=f("process/browser.js").nextTick,k=f("./readable.js"),d=f("./writable.js");c(a,k);a.prototype.write=d.prototype.write;a.prototype.end=d.prototype.end;a.prototype._write=d.prototype._write},
{"./readable.js":13,"./writable.js":15,inherits:7,"process/browser.js":11}],10:[function(f,c,g){function a(){v.call(this)}c.exports=a;var v=f("events").EventEmitter;f("inherits")(a,v);a.Readable=f("./readable.js");a.Writable=f("./writable.js");a.Duplex=f("./duplex.js");a.Transform=f("./transform.js");a.PassThrough=f("./passthrough.js");a.Stream=a;a.prototype.pipe=function(a,c){function d(c){a.writable&&!1===a.write(c)&&z.pause&&z.pause()}function f(){z.readable&&z.resume&&z.resume()}function g(){F||
(F=!0,a.end())}function B(){F||(F=!0,"function"===typeof a.destroy&&a.destroy())}function q(a){A();if(0===v.listenerCount(this,"error"))throw a;}function A(){z.removeListener("data",d);a.removeListener("drain",f);z.removeListener("end",g);z.removeListener("close",B);z.removeListener("error",q);a.removeListener("error",q);z.removeListener("end",A);z.removeListener("close",A);a.removeListener("close",A)}var z=this;z.on("data",d);a.on("drain",f);a._isStdio||c&&!1===c.end||(z.on("end",g),z.on("close",
B));var F=!1;z.on("error",q);a.on("error",q);z.on("end",A);z.on("close",A);a.on("close",A);a.emit("pipe",z);return a}},{"./duplex.js":9,"./passthrough.js":12,"./readable.js":13,"./transform.js":14,"./writable.js":15,events:6,inherits:7}],11:[function(f,c,g){f=c.exports={};f.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(a){return window.setImmediate(a)};if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var a=[];window.addEventListener("message",
function(c){var f=c.source;f!==window&&null!==f||"process-tick"!==c.data||(c.stopPropagation(),0<a.length&&a.shift()())},!0);return function(c){a.push(c);window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}();f.title="browser";f.browser=!0;f.env={};f.argv=[];f.binding=function(a){throw Error("process.binding is not supported");};f.cwd=function(){return"/"};f.chdir=function(a){throw Error("process.chdir is not supported");}},{}],12:[function(f,c,g){function a(c){if(!(this instanceof
a))return new a(c);v.call(this,c)}c.exports=a;var v=f("./transform.js");f("inherits")(a,v);a.prototype._transform=function(a,c,d){d(null,a)}},{"./transform.js":14,inherits:7}],13:[function(f,c,g){(function(a){function g(b,e){b=b||{};var a=b.highWaterMark;this.highWaterMark=a||0===a?a:16384;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.pipes=null;this.pipesCount=0;this.calledRead=this.reading=this.endEmitted=this.ended=this.flowing=!1;this.sync=!0;this.readableListening=
this.emittedReadable=this.needReadable=!1;this.objectMode=!!b.objectMode;this.defaultEncoding=b.defaultEncoding||"utf8";this.ranOut=!1;this.awaitDrain=0;this.readingMore=!1;this.encoding=this.decoder=null;b.encoding&&(N||(N=f("string_decoder").StringDecoder),this.decoder=new N(b.encoding),this.encoding=b.encoding)}function r(b){if(!(this instanceof r))return new r(b);this._readableState=new g(b,this);this.readable=!0;H.call(this)}function k(b,e,a,c,d){var f;f=a;var g=null;K.isBuffer(f)||"string"===
typeof f||null===f||void 0===f||e.objectMode||g||(g=new TypeError("Invalid non-string/buffer chunk"));(f=g)?b.emit("error",f):null===a||void 0===a?(e.reading=!1,e.ended||(e.decoder&&!e.ended&&(a=e.decoder.end())&&a.length&&(e.buffer.push(a),e.length+=e.objectMode?1:a.length),e.ended=!0,0<e.length?u(b):J(b))):e.objectMode||a&&0<a.length?e.ended&&!d?(a=Error("stream.push() after EOF"),b.emit("error",a)):e.endEmitted&&d?(a=Error("stream.unshift() after end event"),b.emit("error",a)):(!e.decoder||d||
c||(a=e.decoder.write(a)),e.length+=e.objectMode?1:a.length,d?e.buffer.unshift(a):(e.reading=!1,e.buffer.push(a)),e.needReadable&&u(b),M(b,e)):d||(e.reading=!1);return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function d(b,e){if(0===e.length&&e.ended)return 0;if(e.objectMode)return 0===b?0:1;if(isNaN(b)||null===b)return e.flowing&&e.buffer.length?e.buffer[0].length:e.length;if(0>=b)return 0;if(b>e.highWaterMark){var a=b;if(8388608<=a)a=8388608;else{a--;for(var c=1;32>c;c<<=
1)a|=a>>c;a++}e.highWaterMark=a}if(b>e.length){if(e.ended)return e.length;e.needReadable=!0;return 0}return b}function u(b){var a=b._readableState;a.needReadable=!1;a.emittedReadable||(a.emittedReadable=!0,a.sync?Q(function(){b.emit("readable")}):b.emit("readable"))}function M(b,a){a.readingMore||(a.readingMore=!0,Q(function(){for(var c=a.length;!a.reading&&!a.flowing&&!a.ended&&a.length<a.highWaterMark&&(b.read(0),c!==a.length);)c=a.length;a.readingMore=!1}))}function B(b){return function(){var a=
b._readableState;a.awaitDrain--;0===a.awaitDrain&&q(b)}}function q(b){function a(b,e,f){!1===b.write(d)&&c.awaitDrain++}var c=b._readableState,d;for(c.awaitDrain=0;c.pipesCount&&null!==(d=b.read());)if(1===c.pipesCount?a(c.pipes,0,null):P(c.pipes,a),b.emit("data",d),0<c.awaitDrain)return;0===c.pipesCount?(c.flowing=!1,0<R.listenerCount(b,"data")&&z(b)):c.ranOut=!0}function A(){this._readableState.ranOut&&(this._readableState.ranOut=!1,q(this))}function z(b,a){if(b._readableState.flowing)throw Error("Cannot switch to old mode now.");
var c=a||!1,d=!1;b.readable=!0;b.pipe=H.prototype.pipe;b.on=b.addListener=H.prototype.on;b.on("readable",function(){d=!0;for(var a;!c&&null!==(a=b.read());)b.emit("data",a);null===a&&(d=!1,b._readableState.needReadable=!0)});b.pause=function(){c=!0;this.emit("pause")};b.resume=function(){c=!1;d?Q(function(){b.emit("readable")}):this.read(0);this.emit("resume")};b.emit("readable")}function F(b,a){var c=a.buffer,d=a.length,f=!!a.decoder,g=!!a.objectMode;if(0===c.length)return null;if(0===d)d=null;else if(g)d=
c.shift();else if(!b||b>=d)d=f?c.join(""):K.concat(c,d),c.length=0;else if(b<c[0].length)g=c[0],d=g.slice(0,b),c[0]=g.slice(b);else if(b===c[0].length)d=c.shift();else for(var d=f?"":new K(b),n=0,k=0,q=c.length;k<q&&n<b;k++){var g=c[0],x=Math.min(b-n,g.length);f?d+=g.slice(0,x):g.copy(d,n,0,x);x<g.length?c[0]=g.slice(x):c.shift();n+=x}return d}function J(b){var a=b._readableState;if(0<a.length)throw Error("endReadable called on non-empty stream");!a.endEmitted&&a.calledRead&&(a.ended=!0,Q(function(){a.endEmitted||
0!==a.length||(a.endEmitted=!0,b.readable=!1,b.emit("end"))}))}function P(b,a){for(var c=0,d=b.length;c<d;c++)a(b[c],c)}c.exports=r;r.ReadableState=g;var R=f("events").EventEmitter,H=f("./index.js"),K=f("buffer").Buffer,Q=f("process/browser.js").nextTick,N;f("inherits")(r,H);r.prototype.push=function(b,a){var c=this._readableState;"string"!==typeof b||c.objectMode||(a=a||c.defaultEncoding,a!==c.encoding&&(b=new K(b,a),a=""));return k(this,c,b,a,!1)};r.prototype.unshift=function(b){return k(this,this._readableState,
b,"",!0)};r.prototype.setEncoding=function(b){N||(N=f("string_decoder").StringDecoder);this._readableState.decoder=new N(b);this._readableState.encoding=b};r.prototype.read=function(b){var a=this._readableState;a.calledRead=!0;var c=b;if("number"!==typeof b||0<b)a.emittedReadable=!1;if(0===b&&a.needReadable&&(a.length>=a.highWaterMark||a.ended))return u(this),null;b=d(b,a);if(0===b&&a.ended)return 0===a.length&&J(this),null;var f=a.needReadable;a.length-b<=a.highWaterMark&&(f=!0);if(a.ended||a.reading)f=
!1;f&&(a.reading=!0,a.sync=!0,0===a.length&&(a.needReadable=!0),this._read(a.highWaterMark),a.sync=!1);f&&!a.reading&&(b=d(c,a));c=0<b?F(b,a):null;null===c&&(a.needReadable=!0,b=0);a.length-=b;0!==a.length||a.ended||(a.needReadable=!0);a.ended&&!a.endEmitted&&0===a.length&&J(this);return c};r.prototype._read=function(b){this.emit("error",Error("not implemented"))};r.prototype.pipe=function(b,e){function c(b){b===r&&f()}function d(){b.end()}function f(){b.removeListener("close",k);b.removeListener("finish",
u);b.removeListener("drain",N);b.removeListener("error",g);b.removeListener("unpipe",c);r.removeListener("end",d);r.removeListener("end",f);b._writableState&&!b._writableState.needDrain||N()}function g(a){r.unpipe(b);0===v&&0===R.listenerCount(b,"error")&&b.emit("error",a)}function k(){b.removeListener("finish",u);r.unpipe(b)}function u(){b.removeListener("close",k);r.unpipe(b)}var r=this,x=this._readableState;switch(x.pipesCount){case 0:x.pipes=b;break;case 1:x.pipes=[x.pipes,b];break;default:x.pipes.push(b)}x.pipesCount+=
1;var m=e&&!1===e.end||b===a.stdout||b===a.stderr?f:d;if(x.endEmitted)Q(m);else r.once("end",m);b.on("unpipe",c);var N=B(r);b.on("drain",N);var v=R.listenerCount(b,"error");b.once("error",g);b.once("close",k);b.once("finish",u);b.emit("pipe",r);x.flowing||(this.on("readable",A),x.flowing=!0,Q(function(){q(r)}));return b};r.prototype.unpipe=function(b){var a=this._readableState;if(0===a.pipesCount)return this;if(1===a.pipesCount){if(b&&b!==a.pipes)return this;b||(b=a.pipes);a.pipes=null;a.pipesCount=
0;this.removeListener("readable",A);a.flowing=!1;b&&b.emit("unpipe",this);return this}if(!b){b=a.pipes;var c=a.pipesCount;a.pipes=null;a.pipesCount=0;this.removeListener("readable",A);a.flowing=!1;for(var d=0;d<c;d++)b[d].emit("unpipe",this);return this}a:{for(var d=a.pipes,c=0,f=d.length;c<f;c++)if(d[c]===b){d=c;break a}d=-1}if(-1===d)return this;a.pipes.splice(d,1);a.pipesCount-=1;1===a.pipesCount&&(a.pipes=a.pipes[0]);b.emit("unpipe",this);return this};r.prototype.on=function(b,a){var c=H.prototype.on.call(this,
b,a);"data"!==b||this._readableState.flowing||z(this);if("readable"===b&&this.readable){var d=this._readableState;d.readableListening||(d.readableListening=!0,d.emittedReadable=!1,d.needReadable=!0,d.reading?d.length&&u(this,d):this.read(0))}return c};r.prototype.addListener=r.prototype.on;r.prototype.resume=function(){z(this);this.read(0);this.emit("resume")};r.prototype.pause=function(){z(this,!0);this.emit("pause")};r.prototype.wrap=function(b){var a=this._readableState,c=!1,d=this;b.on("end",
function(){if(a.decoder&&!a.ended){var b=a.decoder.end();b&&b.length&&d.push(b)}d.push(null)});b.on("data",function(f){a.decoder&&(f=a.decoder.write(f));f&&(a.objectMode||f.length)&&!d.push(f)&&(c=!0,b.pause())});for(var f in b)"function"===typeof b[f]&&"undefined"===typeof this[f]&&(this[f]=function(a){return function(){return b[a].apply(b,arguments)}}(f));P(["error","close","destroy","pause","resume"],function(a){b.on(a,function(b){return d.emit.apply(d,a,b)})});d._read=function(a){c&&(c=!1,b.resume())};
return d};r._fromList=F}).call(this,f("/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"./index.js":10,"/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":8,buffer:3,events:6,inherits:7,"process/browser.js":11,string_decoder:16}],14:[function(f,c,g){function a(a,c){this.afterTransform=function(a,d){var f;f=c._transformState;f.transforming=!1;var g=f.writecb;g?(f.writechunk=null,f.writecb=
null,null!==d&&void 0!==d&&c.push(d),g&&g(a),f=c._readableState,f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&c._read(f.highWaterMark),f=void 0):f=c.emit("error",Error("no writecb in Transform class"));return f};this.transforming=this.needTransform=!1;this.writechunk=this.writecb=null}function v(c){if(!(this instanceof v))return new v(c);k.call(this,c);this._transformState=new a(c,this);var f=this;this._readableState.needReadable=!0;this._readableState.sync=!1;this.once("finish",function(){"function"===
typeof this._flush?this._flush(function(a){r(f,a)}):r(f)})}function r(a,c){if(c)return a.emit("error",c);var f=a._transformState;if(a._writableState.length)throw Error("calling transform done when ws.length != 0");if(f.transforming)throw Error("calling transform done when still transforming");return a.push(null)}c.exports=v;var k=f("./duplex.js");f("inherits")(v,k);v.prototype.push=function(a,c){this._transformState.needTransform=!1;return k.prototype.push.call(this,a,c)};v.prototype._transform=function(a,
c,f){throw Error("not implemented");};v.prototype._write=function(a,c,f){var g=this._transformState;g.writecb=f;g.writechunk=a;g.writeencoding=c;g.transforming||(a=this._readableState,(g.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark))};v.prototype._read=function(a){a=this._transformState;a.writechunk&&a.writecb&&!a.transforming?(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform)):a.needTransform=!0}},{"./duplex.js":9,inherits:7}],
15:[function(f,c,g){function a(a,c,b){this.chunk=a;this.encoding=c;this.callback=b}function v(a,c){a=a||{};var b=a.highWaterMark;this.highWaterMark=b||0===b?b:16384;this.objectMode=!!a.objectMode;this.highWaterMark=~~this.highWaterMark;this.finished=this.ended=this.ending=this.needDrain=!1;this.decodeStrings=!1!==a.decodeStrings;this.defaultEncoding=a.defaultEncoding||"utf8";this.length=0;this.writing=!1;this.sync=!0;this.bufferProcessing=!1;this.onwrite=function(b){q(c,b)};this.writecb=null;this.writelen=
0;this.buffer=[]}function r(a){if(!(this instanceof r||this instanceof R.Duplex))return new r(a);this._writableState=new v(a,this);this.writable=!0;R.call(this)}function k(a,c,b){var e=Error("write after end");a.emit("error",e);H(function(){b(e)})}function d(a,c,b,e){var d=!0;if(!K.isBuffer(b)&&"string"!==typeof b&&null!==b&&void 0!==b&&!c.objectMode){var f=new TypeError("Invalid non-string/buffer chunk");a.emit("error",f);H(function(){e(f)});d=!1}return d}function u(c,d,b,e,f){d.objectMode||!1===
d.decodeStrings||"string"!==typeof b||(b=new K(b,e));var g=d.objectMode?1:b.length;d.length+=g;var k=d.length<d.highWaterMark;d.needDrain=!k;d.writing?d.buffer.push(new a(b,e,f)):(d.writelen=g,d.writecb=f,d.writing=!0,d.sync=!0,c._write(b,e,d.onwrite),d.sync=!1);return k}function M(a,c,b,e,d){b?H(function(){d(e)}):d(e);a.emit("error",e)}function B(a){a.writing=!1;a.writecb=null;a.length-=a.writelen;a.writelen=0}function q(a,c){var b=a._writableState,e=b.sync,d=b.writecb;B(b);if(c)M(a,b,e,c,d);else{var f=
b.ending&&0===b.length&&!b.finished&&!b.writing;f||b.bufferProcessing||!b.buffer.length||z(a,b);e?H(function(){A(a,b,f,d)}):A(a,b,f,d)}}function A(a,c,b,e){!b&&0===c.length&&c.needDrain&&(c.needDrain=!1,a.emit("drain"));e();b&&F(a,c)}function z(a,c){c.bufferProcessing=!0;for(var b=0;b<c.buffer.length;b++){var e=c.buffer[b],d=e.chunk,f=a,g=c,k=d,n=e.encoding,e=e.callback;g.writelen=c.objectMode?1:d.length;g.writecb=e;g.writing=!0;g.sync=!0;f._write(k,n,g.onwrite);g.sync=!1;if(c.writing){b++;break}}c.bufferProcessing=
!1;b<c.buffer.length?c.buffer=c.buffer.slice(b):c.buffer.length=0}function F(a,c){var b=c.ending&&0===c.length&&!c.finished&&!c.writing;b&&(c.finished=!0,a.emit("finish"));return b}c.exports=r;r.WritableState=v;var J="undefined"!==typeof Uint8Array?function(a){return a instanceof Uint8Array}:function(a){return a&&a.constructor&&"Uint8Array"===a.constructor.name},P="undefined"!==typeof ArrayBuffer?function(a){return a instanceof ArrayBuffer}:function(a){return a&&a.constructor&&"ArrayBuffer"===a.constructor.name};
c=f("inherits");var R=f("./index.js"),H=f("process/browser.js").nextTick,K=f("buffer").Buffer;c(r,R);r.prototype.pipe=function(){this.emit("error",Error("Cannot pipe. Not readable."))};r.prototype.write=function(a,c,b){var e=this._writableState,f=!1;"function"===typeof c&&(b=c,c=null);!K.isBuffer(a)&&J(a)&&(a=new K(a));P(a)&&"undefined"!==typeof Uint8Array&&(a=new K(new Uint8Array(a)));K.isBuffer(a)?c="buffer":c||(c=e.defaultEncoding);"function"!==typeof b&&(b=function(){});e.ended?k(this,e,b):d(this,
e,a,b)&&(f=u(this,e,a,c,b));return f};r.prototype._write=function(a,c,b){b(Error("not implemented"))};r.prototype.end=function(a,c,b){var e=this._writableState;"function"===typeof a?(b=a,c=a=null):"function"===typeof c&&(b=c,c=null);"undefined"!==typeof a&&null!==a&&this.write(a,c);if(!e.ending&&!e.finished){a=b;e.ending=!0;F(this,e);if(a)if(e.finished)H(a);else this.once("finish",a);e.ended=!0}}},{"./index.js":10,buffer:3,inherits:7,"process/browser.js":11}],16:[function(f,c,g){function a(a){return a.toString(this.encoding)}
function v(a){this.charLength=(a=this.charReceived=a.length%2)?2:0;return a}function r(a){this.charLength=(a=this.charReceived=a.length%3)?3:0;return a}var k=f("buffer").Buffer;f=g.StringDecoder=function(c){this.encoding=(c||"utf8").toLowerCase().replace(/[-_]/,"");if(c&&!k.isEncoding(c))throw Error("Unknown encoding: "+c);switch(this.encoding){case "utf8":this.surrogateSize=3;break;case "ucs2":case "utf16le":this.surrogateSize=2;this.detectIncompleteChar=v;break;case "base64":this.surrogateSize=
3;this.detectIncompleteChar=r;break;default:this.write=a;return}this.charBuffer=new k(6);this.charLength=this.charReceived=0};f.prototype.write=function(a){for(var c="",f=0;this.charLength;){var g=a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;a.copy(this.charBuffer,this.charReceived,f,g);this.charReceived+=g-f;f=g;if(this.charReceived<this.charLength)return"";var c=this.charBuffer.slice(0,this.charLength).toString(this.encoding),k=c.charCodeAt(c.length-1);
if(55296<=k&&56319>=k)this.charLength+=this.surrogateSize,c="";else{this.charReceived=this.charLength=0;if(g==a.length)return c;a=a.slice(g,a.length);break}}k=this.detectIncompleteChar(a);f=a.length;this.charLength&&(a.copy(this.charBuffer,0,a.length-k,f),this.charReceived=k,f-=k);c+=a.toString(this.encoding,0,f);f=c.length-1;k=c.charCodeAt(f);return 55296<=k&&56319>=k?(a=this.surrogateSize,this.charLength+=a,this.charReceived+=a,this.charBuffer.copy(this.charBuffer,a,0,a),this.charBuffer.write(c.charAt(c.length-
1),this.encoding),c.substring(0,f)):c};f.prototype.detectIncompleteChar=function(a){for(var c=3<=a.length?3:a.length;0<c;c--){var f=a[a.length-c];if(1==c&&6==f>>5){this.charLength=2;break}if(2>=c&&14==f>>4){this.charLength=3;break}if(3>=c&&30==f>>3){this.charLength=4;break}}return c};f.prototype.end=function(a){var c="";a&&a.length&&(c=this.write(a));this.charReceived&&(a=this.encoding,c+=this.charBuffer.slice(0,this.charReceived).toString(a));return c}},{buffer:3}],17:[function(f,c,g){c.exports=
function(a){return a&&"object"===typeof a&&"function"===typeof a.copy&&"function"===typeof a.fill&&"function"===typeof a.readUInt8}},{}],18:[function(f,c,g){(function(a,c){function r(a,b){var c={seen:[],stylize:d};3<=arguments.length&&(c.depth=arguments[2]);4<=arguments.length&&(c.colors=arguments[3]);P(b)?c.showHidden=b:b&&g._extend(c,b);K(c.showHidden)&&(c.showHidden=!1);K(c.depth)&&(c.depth=2);K(c.colors)&&(c.colors=!1);K(c.customInspect)&&(c.customInspect=!0);c.colors&&(c.stylize=k);return M(c,
a,c.depth)}function k(a,b){var c=r.styles[b];return c?"\u001b["+r.colors[c][0]+"m"+a+"\u001b["+r.colors[c][1]+"m":a}function d(a,b){return a}function u(a){var b={};a.forEach(function(a,c){b[a]=!0});return b}function M(a,c,f){if(a.customInspect&&c&&p(c.inspect)&&c.inspect!==g.inspect&&(!c.constructor||c.constructor.prototype!==c)){var d=c.inspect(f,a);H(d)||(d=M(a,d,f));return d}if(d=B(a,c))return d;var k=Object.keys(c),n=u(k);a.showHidden&&(k=Object.getOwnPropertyNames(c));if(e(c)&&(0<=k.indexOf("message")||
0<=k.indexOf("description")))return q(c);if(0===k.length){if(p(c))return a.stylize("[Function"+(c.name?": "+c.name:"")+"]","special");if(Q(c))return a.stylize(RegExp.prototype.toString.call(c),"regexp");if(b(c))return a.stylize(Date.prototype.toString.call(c),"date");if(e(c))return q(c)}var d="",I=!1,r=["{","}"];J(c)&&(I=!0,r=["[","]"]);p(c)&&(d=" [Function"+(c.name?": "+c.name:"")+"]");Q(c)&&(d=" "+RegExp.prototype.toString.call(c));b(c)&&(d=" "+Date.prototype.toUTCString.call(c));e(c)&&(d=" "+q(c));
if(0===k.length&&(!I||0==c.length))return r[0]+d+r[1];if(0>f)return Q(c)?a.stylize(RegExp.prototype.toString.call(c),"regexp"):a.stylize("[Object]","special");a.seen.push(c);k=I?A(a,c,f,n,k):k.map(function(b){return z(a,c,f,n,b,I)});a.seen.pop();return F(k,d,r)}function B(a,b){if(K(b))return a.stylize("undefined","undefined");if(H(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}if(R(b))return a.stylize(""+b,"number");if(P(b))return a.stylize(""+
b,"boolean");if(null===b)return a.stylize("null","null")}function q(a){return"["+Error.prototype.toString.call(a)+"]"}function A(a,b,c,e,f){for(var d=[],g=0,k=b.length;g<k;++g)Object.prototype.hasOwnProperty.call(b,String(g))?d.push(z(a,b,c,e,String(g),!0)):d.push("");f.forEach(function(f){f.match(/^\d+$/)||d.push(z(a,b,c,e,f,!0))});return d}function z(a,b,c,e,f,d){var g,k;b=Object.getOwnPropertyDescriptor(b,f)||{value:b[f]};b.get?k=b.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]",
"special"):b.set&&(k=a.stylize("[Setter]","special"));Object.prototype.hasOwnProperty.call(e,f)||(g="["+f+"]");k||(0>a.seen.indexOf(b.value)?(k=null===c?M(a,b.value,null):M(a,b.value,c-1),-1<k.indexOf("\n")&&(k=d?k.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+k.split("\n").map(function(a){return"   "+a}).join("\n"))):k=a.stylize("[Circular]","special"));if(K(g)){if(d&&f.match(/^\d+$/))return k;g=JSON.stringify(""+f);g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-
2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+k}function F(a,b,c){var e=0;return 60<a.reduce(function(a,b){e++;0<=b.indexOf("\n")&&e++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0)?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function J(a){return Array.isArray(a)}function P(a){return"boolean"===typeof a}function R(a){return"number"===typeof a}function H(a){return"string"===
typeof a}function K(a){return void 0===a}function Q(a){return N(a)&&"[object RegExp]"===Object.prototype.toString.call(a)}function N(a){return"object"===typeof a&&null!==a}function b(a){return N(a)&&"[object Date]"===Object.prototype.toString.call(a)}function e(a){return N(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error)}function p(a){return"function"===typeof a}function ba(a){return 10>a?"0"+a.toString(10):a.toString(10)}function I(){var a=new Date,b=[ba(a.getHours()),
ba(a.getMinutes()),ba(a.getSeconds())].join(":");return[a.getDate(),Z[a.getMonth()],b].join(" ")}var Ca=/%[sdj%]/g;g.format=function(a){if(!H(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(r(arguments[c]));return b.join(" ")}for(var c=1,e=arguments,f=e.length,b=String(a).replace(Ca,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case "%s":return String(e[c++]);case "%d":return Number(e[c++]);case "%j":try{return JSON.stringify(e[c++])}catch(b){return"[Circular]"}default:return a}}),
d=e[c];c<f;d=e[++c])b=null!==d&&N(d)?b+(" "+r(d)):b+(" "+d);return b};g.deprecate=function(b,e){if(K(c.process))return function(){return g.deprecate(b,e).apply(this,arguments)};if(!0===a.noDeprecation)return b;var f=!1;return function(){if(!f){if(a.throwDeprecation)throw Error(e);a.traceDeprecation?console.trace(e):console.error(e);f=!0}return b.apply(this,arguments)}};var n={},W;g.debuglog=function(b){K(W)&&(W=a.env.NODE_DEBUG||"");b=b.toUpperCase();if(!n[b])if((new RegExp("\\b"+b+"\\b","i")).test(W)){var c=
a.pid;n[b]=function(){var a=g.format.apply(g,arguments);console.error("%s %d: %s",b,c,a)}}else n[b]=function(){};return n[b]};g.inspect=r;r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};g.isArray=J;g.isBoolean=P;g.isNull=
function(a){return null===a};g.isNullOrUndefined=function(a){return null==a};g.isNumber=R;g.isString=H;g.isSymbol=function(a){return"symbol"===typeof a};g.isUndefined=K;g.isRegExp=Q;g.isObject=N;g.isDate=b;g.isError=e;g.isFunction=p;g.isPrimitive=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a};g.isBuffer=f("./support/isBuffer");var Z="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");g.log=function(){console.log("%s - %s",
I(),g.format.apply(g,arguments))};g.inherits=f("inherits");g._extend=function(a,b){if(!b||!N(b))return a;for(var c=Object.keys(b),e=c.length;e--;)a[c[e]]=b[c[e]];return a}}).call(this,f("/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./support/isBuffer":17,"/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":8,
inherits:7}]},{},[1])(1)});
var CodeMirror=function(){function h(l,w){function D(a){return 0<=a&&a<y.size}function G(a){for(var b=y;!b.lines;)for(var c=0;;++c){var l=b.children[c],e=l.chunkSize();if(a<e){b=l;break}a-=e}return b.lines[a]}function X(a,b){ka=!0;for(var c=b-a.height,l=a;l;l=l.parent)l.height+=c}function Pb(a){var b={line:0,ch:0};Qb(b,{line:y.size-1,ch:G(y.size-1).text.length},Ma(a),b,b);ra=!0}function r(a,b){if("string"==typeof a&&(a=Ob[a],!a))return!1;var c=fa;try{t.readOnly&&($a=!0),b&&(fa=null),a(U)}catch(l){if(l!=
oc)throw l;return!1}finally{fa=c,$a=!1}return!0}function ba(a){var l=f(t.keyMap),e=l.auto;clearTimeout(Rb);e&&!g(a)&&(Rb=setTimeout(function(){f(t.keyMap)==l&&(t.keyMap=e.call?e.call(null,U):e)},50));var d=Da[b(a,"keyCode")],w=!1;if(null==d||a.altGraphKey)return!1;b(a,"altKey")&&(d="Alt-"+d);b(a,"ctrlKey")&&(d="Ctrl-"+d);b(a,"metaKey")&&(d="Cmd-"+d);if(w=b(a,"shiftKey")?c("Shift-"+d,t.extraKeys,t.keyMap,function(a){return r(a,!0)})||c(d,t.extraKeys,t.keyMap,function(a){if("string"==typeof a&&/^go[A-Z]/.test(a))return r(a)}):
c(d,t.extraKeys,t.keyMap,r))H(a),Ea&&(a.oldKeyCode=a.keyCode,a.keyCode=0);return w}function K(a,b){var l=c("'"+b+"'",t.extraKeys,t.keyMap,r);l&&H(a);return l}function M(a){ga||P();Ea&&27==a.keyCode&&(a.returnValue=!1);Ha&&ab()&&(Ha=!1);if(!t.onKeyEvent||!t.onKeyEvent(U,R(a))){var c=b(a,"keyCode");Sb(16==c||b(a,"shiftKey"));var l=ba(a);window.opera&&(qb=l?c:null,!l&&88==c&&b(a,pb?"metaKey":"ctrlKey")&&Ia(""))}}function P(){if("nocursor"!=t.readOnly){if(!ga){if(t.onFocus)t.onFocus(U);ga=!0;-1==S.className.search(/\bCodeMirror-focused\b/)&&
(S.className+=" CodeMirror-focused");Na||bb(!0)}cb();Tb()}}function rb(){if(ga){if(t.onBlur)t.onBlur(U);ga=!1;sa&&E(function(){sa&&(sa(),sa=null)})();S.className=S.className.replace(" CodeMirror-focused","")}clearInterval(sb);setTimeout(function(){ga||(fa=null)},150)}function Qb(a,b,c,l,e){if(!$a){if(ha){var d=[];y.iter(a.line,b.line+1,function(a){d.push(a.text)});for(ha.addChange(a.line,c.length,d);ha.done.length>t.undoDepth;)ha.done.shift()}ja(a,b,c,l,e)}}function Ub(a,b){if(a.length){for(var c=
a.pop(),l=[],e=c.length-1;0<=e;e-=1){var d=c[e],f=[],w=d.start+d.added;y.iter(d.start,w,function(a){f.push(a.text)});l.push({start:d.start,added:d.old.length,old:f});var g=T({line:d.start+d.old.length-1,ch:x(f[f.length-1],d.old[d.old.length-1])});ja({line:d.start,ch:0},{line:w-1,ch:G(w-1).text.length},d.old,g,g)}ra=!0;b.push(l)}}function ja(a,b,c,l,e){function d(a){return a<=Math.min(b.line,b.line+I)?a:a+I}if(!$a){var f=!1,w=ta.length;t.lineWrapping||y.iter(a.line,b.line,function(a){if(a.text.length==
w)return f=!0});if(a.line!=b.line||1<c.length)ka=!0;var g=b.line-a.line,h=G(a.line),D=G(b.line);if(0==a.ch&&0==b.ch&&""==c[c.length-1]){var k=[],h=null;a.line?(h=G(a.line-1),h.fixMarkEnds(D)):D.fixMarkStarts();for(var p=0,m=c.length-1;p<m;++p)k.push(u.inheritMarks(c[p],h));g&&y.remove(a.line,g,Oa);k.length&&y.insert(a.line,k)}else if(h==D)if(1==c.length)h.replace(a.ch,b.ch,c[0]);else{D=h.split(b.ch,c[c.length-1]);h.replace(a.ch,null,c[0]);h.fixMarkEnds(D);k=[];p=1;for(m=c.length-1;p<m;++p)k.push(u.inheritMarks(c[p],
h));k.push(D);y.insert(a.line+1,k)}else if(1==c.length)h.replace(a.ch,null,c[0]),D.replace(null,b.ch,""),h.append(D),y.remove(a.line+1,g,Oa);else{k=[];h.replace(a.ch,null,c[0]);D.replace(null,b.ch,c[c.length-1]);h.fixMarkEnds(D);p=1;for(m=c.length-1;p<m;++p)k.push(u.inheritMarks(c[p],h));1<g&&y.remove(a.line+1,g-1,Oa);y.insert(a.line+1,k)}if(t.lineWrapping){var n=C.clientWidth/tb()-3;y.iter(a.line,a.line+c.length,function(a){if(!a.hidden){var b=Math.ceil(a.text.length/n)||1;b!=a.height&&X(a,b)}})}else y.iter(a.line,
p+c.length,function(a){a=a.text;a.length>w&&(ta=a,w=a.length,ua=null,f=!1)}),f&&(w=0,ta="",ua=null,y.iter(0,y.size,function(a){a=a.text;a.length>w&&(w=a.length,ta=a)}));for(var D=[],I=c.length-g-1,p=0,g=la.length;p<g;++p)k=la[p],k<a.line?D.push(k):k>b.line&&D.push(k+I);p=a.line+Math.min(c.length,500);pc(a.line,p);D.push(p);la=D;ub(100);ia.push({from:a.line,to:b.line+1,diff:I});a={from:a,to:b,text:c};if(Pa){for(c=Pa;c.next;c=c.next);c.next=a}else Pa=a;Qa(l,e,d(s.from.line),d(s.to.line));C.clientHeight&&
($.style.height=y.height*va()+2*L.offsetTop+"px")}}function ma(a,b,c){function l(d){if(W(d,b))return d;if(!W(c,d))return e;var f=d.line+a.length-(c.line-b.line)-1,w=d.ch;d.line==c.line&&(w+=a[a.length-1].length-(c.ch-(c.line==b.line?b.ch:0)));return{line:f,ch:w}}b=T(b);c=c?T(c):b;a=Ma(a);var e;Vb(a,b,c,function(a){e=a;return{from:l(s.from),to:l(s.to)}});return e}function Ia(a,b){Vb(Ma(a),s.from,s.to,function(a){return"end"==b?{from:a,to:a}:"start"==b?{from:s.from,to:s.from}:{from:s.from,to:a}})}function Vb(a,
b,c,l){l=l({line:b.line+a.length-1,ch:1==a.length?a[0].length+b.ch:a[a.length-1].length});Qb(b,c,a,l.from,l.to)}function na(a,b){var c=a.line,l=b.line;if(c==l)return G(c).text.slice(a.ch,b.ch);var e=[G(c).text.slice(a.ch)];y.iter(c+1,l,function(a){e.push(a.text)});e.push(G(l).text.slice(0,b.ch));return e.join("\n")}function Ra(){return na(s.from,s.to)}function cb(){Ha||vb.set(t.pollInterval,function(){wb();ab();ga&&cb();xb()})}function Sa(){function a(){wb();ab()||b?(Ha=!1,cb()):(b=!0,vb.set(60,a));
xb()}var b=!1;Ha=!0;vb.set(20,a)}function ab(){if(Na||!ga||qc(O)||t.readOnly)return!1;var a=O.value;if(a==wa)return!1;fa=null;for(var b=0,c=Math.min(wa.length,a.length);b<c&&wa[b]==a[b];)++b;b<wa.length?s.from={line:s.from.line,ch:s.from.ch-(wa.length-b)}:db&&n(s.from,s.to)&&(s.to={line:s.to.line,ch:Math.min(G(s.to.line).text.length,s.to.ch+(a.length-b))});Ia(a.slice(b),"end");wa=a;return!0}function bb(a){n(s.from,s.to)?a&&(wa=O.value=""):(wa="",O.value=Ra(),Ca(O))}function pa(){"nocursor"!=t.readOnly&&
O.focus()}function rc(){if(ca.getBoundingClientRect){var a=ca.getBoundingClientRect();if(!Ea||a.top!=a.bottom){var b=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(0>a.top||a.bottom>b)&&ca.scrollIntoView()}}}function yb(){var a=qa(s.inverted?s.from:s.to),b=t.lineWrapping?Math.min(a.x,L.offsetWidth):a.x;return oa(b,a.y,b,a.yBot)}function oa(a,b,c,l){var e=L.offsetLeft,d=L.offsetTop;b+=d;l+=d;a+=e;c+=e;var f=C.clientHeight,w=C.scrollTop,e=!1,d=!0;b<w?
(C.scrollTop=Math.max(0,b),e=!0):l>w+f&&(C.scrollTop=l-f,e=!0);b=C.clientWidth;l=C.scrollLeft;f=t.fixedGutter?aa.clientWidth:0;a<l+f?(50>a&&(a=0),C.scrollLeft=Math.max(0,a-10-f),e=!0):c>b+l-3&&(C.scrollLeft=c+10-b,e=!0,c>$.clientWidth&&(d=!1));if(e&&t.onScroll)t.onScroll(U);return d}function Ba(){var a=va(),b=C.scrollTop-L.offsetTop,c=Math.max(0,Math.floor(b/a)),a=Math.ceil((b+C.clientHeight)/a);return{from:z(y,c),to:z(y,a)}}function Ja(a,b){function c(){ua=C.clientWidth;var a=da.firstChild,b=!1;
y.iter(Y,ea,function(c){if(!c.hidden){var l=Math.round(a.offsetHeight/h)||1;c.height!=l&&(X(c,l),ka=b=!0)}a=a.nextSibling});b&&($.style.height=y.height*h+2*L.offsetTop+"px");return b}if(C.clientWidth){var l=Ba();if(!(!0!==a&&0==a.length&&l.from>Y&&l.to<ea)){var e=Math.max(l.from-100,0),l=Math.min(y.size,l.to+100);Y<e&&20>e-Y&&(e=Y);ea>l&&20>ea-l&&(l=Math.min(y.size,ea));for(var d=!0===a?[]:sc([{from:Y,to:ea,domStart:0}],a),f=0,w=0;w<d.length;++w){var g=d[w];g.from<e&&(g.domStart+=e-g.from,g.from=
e);g.to>l&&(g.to=l);g.from>=g.to?d.splice(w--,1):f+=g.to-g.from}if(f!=l-e){d.sort(function(a,b){return a.domStart-b.domStart});var h=va(),f=aa.style.display;da.style.display="none";tc(e,l,d);da.style.display=aa.style.display="";(w=e!=Y||l!=ea||Wb!=C.clientHeight+h)&&(Wb=C.clientHeight+h);Y=e;ea=l;Ta=F(y,e);eb.style.top=Ta*h+"px";C.clientHeight&&($.style.height=y.height*h+2*L.offsetTop+"px");if(da.childNodes.length!=ea-Y)throw Error("BAD PATCH! "+JSON.stringify(d)+" size="+(ea-Y)+" nodes="+da.childNodes.length);
t.lineWrapping?c():(null==ua&&(ua=zb(ta)),ua>C.clientWidth?(L.style.width=ua+"px",$.style.width="",$.style.width=C.scrollWidth+"px"):L.style.width=$.style.width="");aa.style.display=f;(w||ka)&&Ab()&&t.lineWrapping&&c()&&Ab();Xb();if(!b&&t.onUpdate)t.onUpdate(U);return!0}}}else Y=ea=Ta=0}function sc(a,b){for(var c=0,l=b.length||0;c<l;++c){for(var e=b[c],d=[],f=e.diff||0,w=0,g=a.length;w<g;++w){var h=a[w];e.to<=h.from&&e.diff?d.push({from:h.from+f,to:h.to+f,domStart:h.domStart}):e.to<=h.from||e.from>=
h.to?d.push(h):(e.from>h.from&&d.push({from:h.from,to:e.from,domStart:h.domStart}),e.to<h.to&&d.push({from:e.to+f,to:h.to+f,domStart:h.domStart+(e.to-h.from)}))}a=d}return a}function tc(a,b,c){if(c.length){for(var l=function(a){var b=a.nextSibling;a.parentNode.removeChild(a);return b},e=0,d=da.firstChild,f=0;f<c.length;++f){for(var w=c[f];w.domStart>e;)d=l(d),e++;for(var g=0,w=w.to-w.from;g<w;++g)d=d.nextSibling,e++}for(;d;)d=l(d)}else da.innerHTML="";var h=c.shift(),d=da.firstChild,g=a,D=document.createElement("div");
y.iter(a,b,function(a){h&&h.to==g&&(h=c.shift());if(!h||h.from>g){if(a.hidden)var b=D.innerHTML="<pre></pre>";else b="<pre"+(a.className?' class="'+a.className+'"':"")+">"+a.getHTML(Yb)+"</pre>",a.bgClassName&&(b='<div style="position: relative"><pre class="'+a.bgClassName+'" style="position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2">&#160;</pre>'+b+"</div>");D.innerHTML=b;da.insertBefore(D.firstChild,d)}else d=d.nextSibling;++g})}function Ab(){if(t.gutter||t.lineNumbers){var a=
eb.offsetHeight,b=C.clientHeight;aa.style.height=(2>a-b?b:a)+"px";var c=[],l=Y,e;y.iter(Y,Math.max(ea,Y+1),function(a){if(a.hidden)c.push("<pre></pre>");else{var b=a.gutterMarker,d=t.lineNumbers?l+t.firstLineNumber:null;b&&b.text?d=b.text.replace("%N%",null!=d?d:""):null==d&&(d="\u00a0");c.push(b&&b.style?'<pre class="'+b.style+'">':"<pre>",d);for(d=1;d<a.height;++d)c.push("<br/>&#160;");c.push("</pre>");b||(e=l)}++l});aa.style.display="none";Ua.innerHTML=c.join("");if(null!=e){for(var a=Ua.childNodes[e-
Y],b=String(y.size).length,d=a.textContent||a.innerText||a.nodeValue||"",f="";d.length+f.length<b;)f+="\u00a0";f&&a.insertBefore(document.createTextNode(f),a.firstChild)}aa.style.display="";a=2<Math.abs((parseInt(L.style.marginLeft)||0)-aa.offsetWidth);L.style.marginLeft=aa.offsetWidth+"px";ka=!1;return a}}function Xb(){var a=n(s.from,s.to),b=qa(s.from,!0),c=a?b:qa(s.to,!0),l=s.inverted?b:c,e=va(),d=I(S),f=I(da);Fa.style.top=Math.max(0,Math.min(C.offsetHeight,l.y+f.top-d.top))+"px";Fa.style.left=
Math.max(0,Math.min(C.offsetWidth,l.x+f.left-d.left))+"px";if(a)ca.style.top=l.y+"px",ca.style.left=(t.lineWrapping?Math.min(l.x,L.offsetWidth):l.x)+"px",ca.style.display="",fb.style.display="none";else{var a=function(a,b,c,l){w+='<div class="CodeMirror-selected" style="position: absolute; left: '+a+"px; top: "+b+"px; right: "+c+"px; height: "+l+'px"></div>'},l=b.y==c.y,w="",d=L.clientWidth||L.offsetWidth,f=L.clientHeight||L.offsetHeight;s.from.ch&&0<=b.y&&a(b.x,b.y,l?d-c.x:0,e);var b=Math.max(0,
b.y+(s.from.ch?e:0)),g=Math.min(c.y,f)-b;g>.2*e&&a(0,b,0,g);l&&s.from.ch||!(c.y<f-.5*e)||a(0,c.y,d-c.x,e);fb.innerHTML=w;ca.style.display="none";fb.style.display=""}}function Sb(a){fa=a?fa||(s.inverted?s.to:s.from):null}function xa(a,b){var c=fa&&T(fa);c&&(W(c,a)?a=c:W(b,c)&&(b=c));Qa(a,b);gb=!0}function Qa(a,b,c,l){hb=null;null==c&&(c=s.from.line,l=s.to.line);if(!n(s.from,a)||!n(s.to,b)){if(W(b,a)){var e=b;b=a;a=e}a.line!=c&&((c=ib(a,c,s.from.ch))?a=c:Bb(a.line,!1));b.line!=l&&(b=ib(b,l,s.to.ch));
n(a,b)?s.inverted=!1:n(a,s.to)?s.inverted=!1:n(b,s.from)&&(s.inverted=!0);if(t.autoClearEmptyLines&&n(s.from,s.to)&&(s.inverted?a:b).line!=s.from.line&&s.from.line<y.size){var d=G(s.from.line);/^\s+$/.test(d.text)&&setTimeout(E(function(){if(d.parent&&/^\s+$/.test(d.text)){var a=A(d);ma("",{line:a,ch:0},{line:a,ch:d.text.length})}},10))}s.from=a;s.to=b;ya=!0}}function ib(a,b,c){function l(b){for(var e=a.line+b,d=1==b?y.size:-1;e!=d;){var f=G(e);if(!f.hidden){b=a.ch;if(b>c||b>f.text.length)b=f.text.length;
return{line:e,ch:b}}e+=b}}return G(a.line).hidden?a.line>=b?l(1)||l(-1):l(-1)||l(1):a}function za(a,b,c){a=T({line:a,ch:b||0});(c?xa:Qa)(a,a)}function jb(a){return Math.max(0,Math.min(a,y.size-1))}function T(a){if(0>a.line)return{line:0,ch:0};if(a.line>=y.size)return{line:y.size-1,ch:G(y.size-1).text.length};var b=a.ch,c=G(a.line).text.length;return null==b||b>c?{line:a.line,ch:c}:0>b?{line:a.line,ch:0}:a}function Cb(a,b){function c(b){if(d==(0>a?0:f.text.length)){if(b=!b)a:{b=e+a;for(var l=0>a?-1:
y.size;b!=l;b+=a){var w=G(b);if(!w.hidden){e=b;f=w;b=!0;break a}}b=void 0}if(b)d=0>a?f.text.length:0;else return!1}else d+=a;return!0}var l=s.inverted?s.from:s.to,e=l.line,d=l.ch,f=G(e);if("char"==b)c();else if("column"==b)c(!0);else if("word"==b)for(l=!1;!(0>a)||c();){if(ob(f.text.charAt(d)))l=!0;else if(l){0>a&&(a=1,c());break}if(0<a&&!c())break}return{line:e,ch:d}}function Zb(a){for(var b=G(a.line).text,c=a.ch,l=a.ch;0<c&&ob(b.charAt(c-1));)--c;for(;l<b.length&&ob(b.charAt(l));)++l;xa({line:a.line,
ch:c},{line:a.line,ch:l})}function uc(a){xa({line:a,ch:0},T({line:a+1,ch:0}))}function kb(a,b){b||(b="add");if("smart"==b)if(V.indent)var c=lb(a);else b="prev";var l=G(a),e=l.indentation(t.tabSize),d=l.text.match(/^\s*/)[0],f;"prev"==b?f=a?G(a-1).indentation(t.tabSize):0:"smart"==b?f=V.indent(c,l.text.slice(d.length),l.text):"add"==b?f=e+t.indentUnit:"subtract"==b&&(f=e-t.indentUnit);f=Math.max(0,f);if(f-e){e="";c=0;if(t.indentWithTabs)for(l=Math.floor(f/t.tabSize);l;--l)c+=t.tabSize,e+="\t";for(;c<
f;)++c,e+=" "}else{if(s.from.line!=a&&s.to.line!=a)return;e=d}ma(e,{line:a,ch:0},{line:a,ch:d.length})}function $b(){V=h.getMode(t,t.mode);y.iter(0,y.size,function(a){a.stateAfter=null});la=[0];ub()}function vc(a,b){if(t.lineWrapping){S.className+=" CodeMirror-wrap";var c=C.clientWidth/tb()-3;y.iter(0,y.size,function(a){if(!a.hidden){var b=Math.ceil(a.text.length/c)||1;1!=b&&X(a,b)}});L.style.width=$.style.width=""}else S.className=S.className.replace(" CodeMirror-wrap",""),ua=null,ta="",y.iter(0,
y.size,function(a){1==a.height||a.hidden||X(a,1);a.text.length>ta.length&&(ta=a.text)});ia.push({from:0,to:y.size})}function Yb(a){a=t.tabSize-a%t.tabSize;var b=ac[a];if(b)return b;for(var b='<span class="cm-tab">',c=0;c<a;++c)b+=" ";return ac[a]={html:b+"</span>",width:a}}function bc(){C.className=C.className.replace(/\s*cm-s-\w+/g,"")+t.theme.replace(/(^|\s)\s*/g," cm-s-")}function Db(){this.set=[]}function Eb(a,b,c){function l(a,b,c,d){G(a).addMark(new k(b,c,d,e))}a=T(a);b=T(b);var e=new Db;if(!W(a,
b))return e;if(a.line==b.line)l(a.line,a.ch,b.ch,c);else{l(a.line,a.ch,null,c);for(var d=a.line+1,f=b.line;d<f;++d)l(d,null,null,c);l(b.line,null,b.ch,c)}ia.push({from:a.line,to:b.line+1});return e}function cc(a,b){var c=a,l=a;"number"==typeof a?l=G(jb(a)):c=A(a);if(null!=c&&b(l,c))ia.push({from:c,to:c+1});else return null;return l}function Bb(a,b){return cc(a,function(a,c){if(a.hidden!=b){a.hidden=b;X(a,b?0:1);var l=s.from.line,e=s.to.line;if(b&&(l==c||e==c)){l=l==c?ib({line:l,ch:0},l,0):s.from;
e=e==c?ib({line:e,ch:0},e,0):s.to;if(!e)return;Qa(l,e)}return ka=!0}})}function zb(a){Aa.innerHTML="<pre><span>x</span></pre>";Aa.firstChild.firstChild.firstChild.nodeValue=a;return Aa.firstChild.firstChild.offsetWidth||10}function dc(a,b){if(0==b)return{top:0,left:0};var c="";t.lineWrapping&&(c=a.text.indexOf(" ",b+6),c=Z(a.text.slice(b+1,0>c?a.text.length:c+(Ea?5:0))));Aa.innerHTML="<pre>"+a.getHTML(Yb,b)+'<span id="CodeMirror-temp-'+ec+'">'+Z(a.text.charAt(b)||" ")+"</span>"+c+"</pre>";var c=document.getElementById("CodeMirror-temp-"+
ec),l=c.offsetTop,e=c.offsetLeft;Ea&&0==l&&0==e&&(l=document.createElement("span"),l.innerHTML="x",c.parentNode.insertBefore(l,c.nextSibling),l=l.offsetTop);return{top:l,left:e}}function qa(a,b){var c,l=va(),e=l*(F(y,a.line)-(b?Ta:0));if(0==a.ch)c=0;else{var d=dc(G(a.line),a.ch);c=d.left;t.lineWrapping&&(e+=Math.max(0,d.top))}return{x:c,y:e,yBot:e+l}}function Fb(a,b){function c(a){a=dc(w,a);if(h){var b=Math.round(a.top/l);return Math.max(0,a.left+(b-D)*C.clientWidth)}return a.left}0>b&&(b=0);var l=
va(),e=tb(),d=Ta+Math.floor(b/l),f=z(y,d);if(f>=y.size)return{line:y.size-1,ch:G(y.size-1).text.length};var w=G(f),g=w.text,h=t.lineWrapping,D=h?d-F(y,f):0;if(0>=a&&0==D)return{line:f,ch:0};for(var k=d=0,g=g.length,p=Math.min(g,Math.ceil((a+D*C.clientWidth*.9)/e));;){var m=c(p);if(m<=a&&p<g)p=Math.min(g,Math.ceil(1.2*p));else{e=m;g=p;break}}if(a>e)return{line:f,ch:g};p=Math.floor(.8*g);m=c(p);m<a&&(d=p,k=m);for(;;){if(1>=g-d)return{line:f,ch:e-a>a-k?d:g};p=Math.ceil((d+g)/2);m=c(p);m>a?(g=p,e=m):
(d=p,k=m)}}function va(){if(null==Ga){Ga="<pre>";for(var a=0;49>a;++a)Ga+="x<br/>";Ga+="x</pre>"}a=da.clientHeight;if(a==fc)return Gb;fc=a;Aa.innerHTML=Ga;Gb=Aa.firstChild.offsetHeight/50||1;Aa.innerHTML="";return Gb}function tb(){if(C.clientWidth==gc)return hc;gc=C.clientWidth;return hc=zb("x")}function Ka(a,b){var c=I(C,!0),l,e;try{l=a.clientX,e=a.clientY}catch(d){return null}if(!b&&(l-c.left>C.clientWidth||e-c.top>C.clientHeight))return null;c=I(L,!0);return Fb(l-c.left,e-c.top)}function ic(a){function b(){var a=
Ma(O.value).join("\n");a!=f&&E(Ia)(a,"end");Fa.style.position="relative";O.style.cssText=d;jc&&(C.scrollTop=l);Na=!1;bb(!0);cb()}var c=Ka(a),l=C.scrollTop;if(c&&!window.opera){(n(s.from,s.to)||W(c,s.from)||!W(c,s.to))&&E(za)(c.line,c.ch);var d=O.style.cssText;Fa.style.position="absolute";O.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(a.clientY-5)+"px; left: "+(a.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";
Na=!0;var f=O.value=Ra();pa();Ca(O);if(mb){Q(a);var w=e(window,"mouseup",function(){w();setTimeout(b,20)},!0)}else setTimeout(b,50)}}function Tb(){clearInterval(sb);var a=!0;ca.style.visibility="";sb=setInterval(function(){ca.style.visibility=(a=!a)?"":"hidden"},650)}function kc(a){function b(a,c,l){if(a.text){var e=a.styles;a=f?0:a.text.length-1;for(var d,g=f?0:e.length-2,h=f?e.length:-2;g!=h;g+=2*w){var Za=e[g];if(null!=e[g+1]&&e[g+1]!=k)a+=w*Za.length;else for(var D=f?0:Za.length-1,G=f?Za.length:
-1;D!=G;D+=w,a+=w)if(a>=c&&a<l&&m.test(d=Za.charAt(D))){var X=Hb[d];if(">"==X.charAt(1)==f)p.push(d);else{if(p.pop()!=X.charAt(0))return{pos:a,match:!1};if(!p.length)return{pos:a,match:!0}}}}}}var c=s.inverted?s.from:s.to,l=G(c.line),e=c.ch-1,d=0<=e&&Hb[l.text.charAt(e)]||Hb[l.text.charAt(++e)];if(d){d.charAt(0);for(var f=">"==d.charAt(1),w=f?1:-1,g=l.styles,h=e+1,d=0,D=g.length;d<D;d+=2)if(0>=(h-=g[d].length)){var k=g[d+1];break}for(var p=[l.text.charAt(e)],m=/[(){}[\]]/,d=c.line,D=f?Math.min(d+
100,y.size):Math.max(-1,d-100);d!=D;d+=w){var l=G(d),X=d==c.line;if(X=b(l,X&&f?e+1:0,X&&!f?e:l.text.length))break}X||(X={pos:null,match:!1});var k=X.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",n=Eb({line:c.line,ch:e},{line:c.line,ch:e+1},k),I=null!=X.pos&&Eb({line:d,ch:X.pos},{line:d,ch:X.pos+1},k),c=E(function(){n.clear();I&&I.clear()});a?setTimeout(c,800):sa=c}}function lc(a){var b,c,l=a;for(a-=40;l>a;--l){if(0==l)return 0;var e=G(l-1);if(e.stateAfter)return l;e=e.indentation(t.tabSize);
if(null==c||b>e)c=l-1,b=e}return c}function lb(b){var c=lc(b),l=c&&G(c-1).stateAfter,l=l?a(V,l):v(V);y.iter(c,b,function(b){b.highlight(V,l,t.tabSize);b.stateAfter=a(V,l)});c<b&&ia.push({from:c,to:b});b<y.size&&!G(b).stateAfter&&la.push(b);return l}function pc(b,c){var l=lb(b);y.iter(b,c,function(b){b.highlight(V,l,t.tabSize);b.stateAfter=a(V,l)})}function wc(){for(var b=+new Date+t.workTime,c=la.length;la.length;){var l=G(Y).stateAfter?la.pop():Y;if(!(l>=y.size)){var e=lc(l),d=e&&G(e-1).stateAfter,
d=d?a(V,d):v(V),f=0,w=V.compareStates,g=!1,h=e,D=!1;y.iter(h,y.size,function(c){var e=c.stateAfter;if(+new Date>b)return la.push(h),ub(t.workDelay),g&&ia.push({from:l,to:h+1}),D=!0;var k=c.highlight(V,d,t.tabSize);k&&(g=!0);c.stateAfter=a(V,d);if(w){if(e&&w(e,d))return!0}else if(!1!==k||!e)f=0;else if(3<++f&&(!V.indent||V.indent(e,"")==V.indent(d,"")))return!0;++h});if(D)return;g&&ia.push({from:l,to:h+1})}}if(c&&t.onHighlightComplete)t.onHighlightComplete(U)}function ub(a){la.length&&xc.set(a,E(wc))}
function wb(){ra=gb=Pa=null;ia=[];ya=!1;Oa=[]}function xb(){var a=!1,b;ya&&(a=!yb());ia.length?b=Ja(ia,!0):(ya&&Xb(),ka&&Ab());a&&yb();ya&&(rc(),Tb());ga&&!Na&&(!0===ra||!1!==ra&&ya)&&bb(gb);ya&&t.matchBrackets&&setTimeout(E(function(){sa&&(sa(),sa=null);n(s.from,s.to)&&kc(!1)}),20);var c=Pa,a=Oa;if(ya&&t.onCursorActivity)t.onCursorActivity(U);if(c&&t.onChange&&U)t.onChange(U,c);for(c=0;c<a.length;++c)a[c](U);if(b&&t.onUpdate)t.onUpdate(U)}function E(a){return function(){mc++||wb();try{var b=a.apply(this,
arguments)}finally{--mc||xb()}return b}}var t={},Ib=h.defaults,Va;for(Va in Ib)Ib.hasOwnProperty(Va)&&(t[Va]=(w&&w.hasOwnProperty(Va)?w:Ib)[Va]);var S=document.createElement("div");S.className="CodeMirror"+(t.lineWrapping?" CodeMirror-wrap":"");S.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px; height: 1em" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative; z-index: 0"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden;"></div><pre class="CodeMirror-cursor">&#160;</pre><div style="position: relative; z-index: -1"></div><div></div></div></div></div></div></div>';
l.appendChild?l.appendChild(S):l(S);var Fa=S.firstChild,O=Fa.firstChild,C=S.lastChild,$=C.firstChild,eb=$.firstChild,aa=eb.firstChild,Ua=aa.firstChild,L=aa.nextSibling.firstChild,Aa=L.firstChild,ca=Aa.nextSibling,fb=ca.nextSibling,da=fb.nextSibling;bc();La&&(O.style.width="0px");Jb||(L.draggable=!0);L.style.outline="none";null!=t.tabindex&&(O.tabIndex=t.tabindex);t.autofocus&&pa();t.gutter||t.lineNumbers||(aa.style.display="none");Kb&&(Fa.style.height="1px",Fa.style.position="absolute");try{zb("x")}catch(Lb){throw Lb.message.match(/runtime/i)&&
(Lb=Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")),Lb;}var vb=new p,xc=new p,sb,V,y=new q([new B([new u("")])]),la,ga;$b();var s={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},fa,nb,Wa,Mb=0,Nb,db=!1,$a=!1,ra,gb,ia,Pa,ya,Na,ka,Oa,Ta=0,Y=0,ea=0,Wb=0,sa,ta="",ua,ac={};E(function(){Pb(t.value||"");ra=!1})();var ha=new J;e(C,"mousedown",E(function(a){function c(a){var b=Ka(a,!0);if(b&&!n(b,w)){ga||P();w=b;xa(f,b);ra=!1;var l=Ba();if(b.line>=l.to||
b.line<l.from)g=setTimeout(E(function(){c(a)}),150)}}function l(a){clearTimeout(g);var b=Ka(a);b&&xa(f,b);H(a);pa();ra=!0;h();D()}Sb(b(a,"shiftKey"));for(var d=a.target||a.srcElement;d!=S;d=d.parentNode)if(d.parentNode==$&&d!=eb)return;for(d=a.target||a.srcElement;d!=S;d=d.parentNode)if(d.parentNode==Ua){if(t.onGutterClick)t.onGutterClick(U,m(Ua.childNodes,d)+Y,a);return H(a)}var f=Ka(a);switch(N(a)){case 3:mb&&!pb&&ic(a);return;case 2:f&&za(f.line,f.ch,!0);return}if(f){ga||P();d=+new Date;if(Wa&&
Wa.time>d-400&&n(Wa.pos,f))return H(a),setTimeout(pa,20),uc(f.line);if(nb&&nb.time>d-400&&n(nb.pos,f))return Wa={time:d,pos:f},H(a),Zb(f);nb={time:d,pos:f};var w=f,g;if(!yc||t.readOnly||n(s.from,s.to)||W(f,s.from)||W(s.to,f)){H(a);za(f.line,f.ch,!0);var h=e(document,"mousemove",E(function(a){clearTimeout(g);H(a);Ea||N(a)?c(a):l(a)}),!0),D=e(document,"mouseup",E(l),!0)}else{Jb&&(L.draggable=!0);var D=e(document,"mouseup",E(function(b){Jb&&(L.draggable=!1);Nb=!1;D();10>Math.abs(a.clientX-b.clientX)+
Math.abs(a.clientY-b.clientY)&&(H(b),za(f.line,f.ch,!0),pa())}),!0);Nb=!0;L.dragDrop&&L.dragDrop()}}else(a.target||a.srcElement)==C&&H(a)}));e(C,"dblclick",E(function(a){for(var b=a.target||a.srcElement;b!=S;b=b.parentNode)if(b.parentNode==Ua)return H(a);if(b=Ka(a))Wa={time:+new Date,pos:b},H(a),Zb(b)}));e(L,"dragstart",function(a){var b=Ra();a.dataTransfer.setData("Text",b);if(mb||zc)b=document.createElement("img"),b.scr="data:image/gif;base64,R0lGODdhAgACAIAAAAAAAP///ywAAAAAAgACAAACAoRRADs=",a.dataTransfer.setDragImage(b,
0,0)});e(L,"selectstart",H);mb||e(C,"contextmenu",ic);e(C,"scroll",function(){Mb=C.scrollTop;Ja([]);t.fixedGutter&&(aa.style.left=C.scrollLeft+"px");if(t.onScroll)t.onScroll(U)});e(O,"keyup",E(function(a){if(t.onKeyUpEvent)t.onKeyUpEvent(U,a);16==b(a,"keyCode")&&(fa=null)}));e(O,"input",Sa);e(O,"keydown",E(M));e(O,"keypress",E(function(a){Ha&&ab();var c=b(a,"keyCode"),l=b(a,"charCode");window.opera&&c==qb?(qb=null,H(a)):(window.opera&&!a.which||Kb)&&ba(a)||(c=String.fromCharCode(null==l?c:l),t.electricChars&&
V.electricChars&&t.smartIndent&&!t.readOnly&&-1<V.electricChars.indexOf(c)&&setTimeout(E(function(){kb(s.to.line,"smart")}),75),K(a,c)||Sa())}));e(O,"focus",P);e(O,"blur",rb);e(C,"dragenter",Q);e(C,"dragover",Q);e(C,"drop",E(function(a){a.preventDefault();var b=Ka(a,!0),c=a.dataTransfer.files;if(b&&!t.readOnly)if(c&&c.length&&window.FileReader&&window.File){a=function(a,c){var f=new FileReader;f.onload=function(){e[c]=f.result;++d==l&&(b=T(b),E(function(){var a=ma(e.join(""),b,b);xa(b,a)})())};f.readAsText(a)};
for(var l=c.length,e=Array(l),d=0,f=0;f<l;++f)a(c[f],f)}else try{if(e=a.dataTransfer.getData("Text")){var f=s.from,w=s.to;xa(b,b);Nb&&ma("",f,w);Ia(e);pa()}}catch(g){}}));e(C,"paste",function(){pa();Sa()});e(O,"paste",Sa);e(O,"cut",E(function(a){if(!t.readOnly){var b=document.getElementById("hiddeninput");b&&(b.value=Ra());Ia("");setTimeout(function(){var a=document.getElementById("hiddeninput");a&&a.value&&(a.select(),document.execCommand("copy"))},5)}a.preventDefault?(a.preventDefault(),a.stopPropagation()):
(a.returnValue=!1,a.cancelBubble=!0)}));Kb&&e($,"mouseup",function(){document.activeElement==O&&O.blur();pa()});var nc;try{nc=document.activeElement==O}catch(Ac){}nc||t.autofocus?setTimeout(P,20):rb();var U=S.CodeMirror={getValue:function(a){var b=[];y.iter(0,y.size,function(a){b.push(a.text)});return b.join("\n")},setValue:E(Pb),getSelection:Ra,replaceSelection:E(Ia),focus:function(){window.focus();pa();P();Sa()},setOption:function(a,b){var c=t[a];t[a]=b;"mode"==a||"indentUnit"==a?$b():"readOnly"==
a&&"nocursor"==b?(rb(),O.blur()):"readOnly"!=a||b?"theme"==a?bc():"lineWrapping"==a&&c!=b?E(vc)():"tabSize"==a&&Ja(!0):bb(!0);if("lineNumbers"==a||"gutter"==a||"firstLineNumber"==a||"theme"==a)c=t.gutter||t.lineNumbers,aa.style.display=c?"":"none",c?ka=!0:da.parentNode.style.marginLeft=0,Ja(!0)},getOption:function(a){return t[a]},undo:E(function(){Ub(ha.done,ha.undone)}),redo:E(function(){Ub(ha.undone,ha.done)}),indentLine:E(function(a,b){"string"!=typeof b&&(b=null==b?t.smartIndent?"smart":"prev":
b?"add":"subtract");D(a)&&kb(a,b)}),indentSelection:E(function(a){if(n(s.from,s.to))return kb(s.from.line,a);for(var b=s.to.line-(s.to.ch?0:1),c=s.from.line;c<=b;++c)kb(c,a)}),historySize:function(){return{undo:ha.done.length,redo:ha.undone.length}},clearHistory:function(){ha=new J},matchBrackets:E(function(){kc(!0)}),getTokenAt:E(function(a,b){a=T(a);var c=lb(a.line);c.acmode=b;return G(a.line).getTokenAt(V,c,a.ch)}),getStateAfter:function(a){a=jb(null==a?y.size-1:a);return lb(a+1)},cursorCoords:function(a,
b){null==a&&(a=s.inverted);return this.charCoords(a?s.from:s.to,b)},charCoords:function(a,b){a=T(a);if("local"==b)return qa(a,!1);if("div"==b)return qa(a,!0);var c=qa(a,!0),l=I(L);return{x:l.left+c.x,y:l.top+c.y,yBot:l.top+c.yBot}},coordsChar:function(a){var b=I(L);return Fb(a.x-b.left,a.y-b.top)},markText:E(Eb),setBookmark:function(a){a=T(a);var b=new d(a.ch);G(a.line).addMark(b);return b},findMarksAt:function(a){a=T(a);var b=[],c=G(a.line).marked;if(!c)return b;for(var l=0,e=c.length;l<e;++l){var d=
c[l];(null==d.from||d.from<=a.ch)&&(null==d.to||d.to>=a.ch)&&b.push(d.marker||d)}return b},setMarker:E(function(a,b,c){"number"==typeof a&&(a=G(jb(a)));a.gutterMarker={text:b,style:c};ka=!0;return a}),clearMarker:E(function(a){"number"==typeof a&&(a=G(jb(a)));a.gutterMarker=null;ka=!0}),setLineClass:E(function(a,b,c){return cc(a,function(a){if(a.className!=b||a.bgClassName!=c)return a.className=b,a.bgClassName=c,!0})}),hideLine:E(function(a){return Bb(a,!0)}),showLine:E(function(a){return Bb(a,!1)}),
onDeleteLine:function(a,b){if("number"==typeof a){if(!D(a))return null;a=G(a)}(a.handlers||(a.handlers=[])).push(b);return a},lineInfo:function(a){if("number"==typeof a){if(!D(a))return null;var b=a;a=G(a);if(!a)return null}else if(b=A(a),null==b)return null;var c=a.gutterMarker;return{line:b,handle:a,text:a.text,markerText:c&&c.text,markerClass:c&&c.style,lineClass:a.className,bgClass:a.bgClassName}},addWidget:function(a,b,c,l,e){a=qa(T(a));var d=a.yBot,f=a.x;b.style.position="absolute";$.appendChild(b);
if("over"==l)d=a.y;else if("near"==l){l=Math.max(C.offsetHeight,y.height*va());var w=Math.max($.clientWidth,L.clientWidth)-L.offsetLeft;a.yBot+b.offsetHeight>l&&a.y>b.offsetHeight&&(d=a.y-b.offsetHeight);f+b.offsetWidth>w&&(f=w-b.offsetWidth)}b.style.top=d+L.offsetTop+"px";b.style.left=b.style.right="";"right"==e?(f=$.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==e?f=0:"middle"==e&&(f=($.clientWidth-b.offsetWidth)/2),b.style.left=f+L.offsetLeft+"px");c&&oa(f,d,f+b.offsetWidth,d+b.offsetHeight)},
lineCount:function(){return y.size},clipPos:T,getCursor:function(a){null==a&&(a=s.inverted);a=a?s.from:s.to;return{line:a.line,ch:a.ch}},somethingSelected:function(){return!n(s.from,s.to)},setCursor:E(function(a,b,c){null==b&&"number"==typeof a.line?za(a.line,a.ch,c):za(a,b,c)}),scrollCursorIntoView2:function(){yb()},setSelection:E(function(a,b,c){(c?xa:Qa)(T(a),T(b||a))}),getLine:function(a){if(D(a))return G(a).text},getLineHandle:function(a){if(D(a))return G(a)},setLine:E(function(a,b){D(a)&&ma(b,
{line:a,ch:0},{line:a,ch:G(a).text.length})}),removeLine:E(function(a){D(a)&&ma("",{line:a,ch:0},T({line:a+1,ch:0}))}),replaceRange:E(ma),getRange:function(a,b){return na(T(a),T(b))},triggerOnKeyDown:E(M),execCommand:function(a){return Ob[a](U)},moveH:E(function(a,b){var c=0>a?s.from:s.to;if(fa||n(s.from,s.to))c=Cb(a,b);za(c.line,c.ch,!0)}),deleteH:E(function(a,b){n(s.from,s.to)?0>a?ma("",Cb(a,b),s.to):ma("",s.from,Cb(a,b)):ma("",s.from,s.to);gb=!0}),moveV:E(function(a,b){var c=0,l=qa(s.inverted?
s.from:s.to,!0);null!=hb&&(l.x=hb);"page"==b?c=Math.min(C.clientHeight,window.innerHeight||document.documentElement.clientHeight):"line"==b&&(c=va());c=Fb(l.x,l.y+c*a+2);"page"==b&&(C.scrollTop+=qa(c,!0).y-l.y);za(c.line,c.ch,!0);hb=l.x}),toggleOverwrite:function(){db?(db=!1,ca.className=ca.className.replace(" CodeMirror-overwrite","")):(db=!0,ca.className+=" CodeMirror-overwrite")},posFromIndex:function(a){var b=0,c;y.iter(0,y.size,function(l){l=l.text.length+1;if(l>a)return c=a,!0;a-=l;++b});return T({line:b,
ch:c})},indexFromPos:function(a){if(0>a.line||0>a.ch)return 0;var b=a.ch;y.iter(0,a.line,function(a){b+=a.text.length+1});return b},scrollTo:function(a,b){null!=a&&(C.scrollLeft=a);null!=b&&(C.scrollTop=b);Ja([])},operation:function(a){return E(a)()},refresh:function(){Ja(!0);C.scrollHeight>Mb&&(C.scrollTop=Mb)},getInputField:function(){return O},getWrapperElement:function(){return S},getScrollerElement:function(){return C},getGutterElement:function(){return aa}},qb=null,Rb,Ha=!1,wa="",hb=null;Db.prototype.clear=
E(function(){for(var a=Infinity,b=-Infinity,c=0,l=this.set.length;c<l;++c){var e=this.set[c],d=e.marked;if(d&&e.parent)for(e=A(e),a=Math.min(a,e),b=Math.max(b,e),e=0;e<d.length;++e)d[e].marker==this&&d.splice(e--,1)}Infinity!=a&&ia.push({from:a,to:b+1})});Db.prototype.find=function(){for(var a,b,c=0,l=this.set.length;c<l;++c)for(var e=this.set[c],d=e.marked,f=0;f<d.length;++f){var w=d[f];if(w.marker==this&&(null!=w.from||null!=w.to)){var g=A(e);null!=g&&(null!=w.from&&(a={line:g,ch:w.from}),null!=
w.to&&(b={line:g,ch:w.to}))}}return{from:a,to:b}};var ec=Math.floor(16777215*Math.random()).toString(16),Gb,fc,Ga,hc,gc=0,Hb={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},mc=0,Xa;for(Xa in Ya)Ya.propertyIsEnumerable(Xa)&&!U.propertyIsEnumerable(Xa)&&(U[Xa]=Ya[Xa]);return U}function f(a){return"string"==typeof a?ja[a]:a}function c(a,b,c,e){function d(b){b=f(b);var c=b[a];if(null!=c&&e(c))return!0;if(b.catchall)return e(b.catchall);b=b.fallthrough;if(null==b)return!1;if("[object Array]"!=
Object.prototype.toString.call(b))return d(b);for(var c=0,w=b.length;c<w;++c)if(d(b[c]))return!0;return!1}return b&&d(b)?!0:d(c)}function g(a){a=Da[b(a,"keyCode")];return"Ctrl"==a||"Alt"==a||"Shift"==a||"Mod"==a}function a(a,b){if(!0===b)return b;if(a.copyState)return a.copyState(b);var c={},e;for(e in b){var d=b[e];d instanceof Array&&(d=d.concat([]));c[e]=d}return c}function v(a,b,c){return a.startState?a.startState(b,c):!0}function r(a,b){this.pos=this.start=0;this.string=a;this.tabSize=b||8}function k(a,
b,c,e){this.from=a;this.to=b;this.style=c;this.marker=e}function d(a){this.to=this.from=a;this.line=null}function u(a,b){this.styles=b||[a,null];this.text=a;this.height=1;this.stateAfter=this.parent=this.hidden=this.marked=this.gutterMarker=this.className=this.bgClassName=this.handlers=null}function M(a,b,c,e){for(var d=0,f=0,g=0;f<b;d+=2){var h=c[d],k=f+h.length;0==g?(k>a&&e.push(h.slice(a-f,Math.min(h.length,b-f)),c[d+1]),k>=a&&(g=1)):1==g&&(k>b?e.push(h.slice(0,b-f),c[d+1]):e.push(h,c[d+1]));f=
k}}function B(a){this.lines=a;this.parent=null;for(var b=0,c=a.length,e=0;b<c;++b)a[b].parent=this,e+=a[b].height;this.height=e}function q(a){this.children=a;for(var b=0,c=0,e=0,d=a.length;e<d;++e){var f=a[e],b=b+f.chunkSize(),c=c+f.height;f.parent=this}this.size=b;this.height=c;this.parent=null}function A(a){if(null==a.parent)return null;var b=a.parent;a=m(b.lines,a);for(var c=b.parent;c;b=c,c=c.parent)for(var e=0;c.children[e]!=b;++e)a+=c.children[e].chunkSize();return a}function z(a,b){var c=0;
a:do{for(var e=0,d=a.children.length;e<d;++e){var f=a.children[e],g=f.height;if(b<g){a=f;continue a}b-=g;c+=f.chunkSize()}return c}while(!a.lines);e=0;for(d=a.lines.length;e<d;++e){f=a.lines[e].height;if(b<f)break;b-=f}return c+e}function F(a,b){var c=0;a:do{for(var e=0,d=a.children.length;e<d;++e){var f=a.children[e],g=f.chunkSize();if(b<g){a=f;continue a}b-=g;c+=f.height}return c}while(!a.lines);for(e=0;e<b;++e)c+=a.lines[e].height;return c}function J(){this.time=0;this.done=[];this.undone=[]}function P(){Q(this)}
function R(a){a.stop||(a.stop=P);return a}function H(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function K(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Q(a){H(a);K(a)}function N(a){if(a.which)return a.which;if(a.button&1)return 1;if(a.button&2)return 3;if(a.button&4)return 2}function b(a,b){return a.override&&a.override.hasOwnProperty(b)?a.override[b]:a[b]}function e(a,b,c,e){if("function"==typeof a.addEventListener){if(a.addEventListener(b,c,!1),e)return function(){a.removeEventListener(b,
c,!1)}}else{var d=function(a){c(a||window.event)};a.attachEvent("on"+b,d);if(e)return function(){a.detachEvent("on"+b,d)}}}function p(){this.id=null}function ba(a,b,c){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=a.length));for(var e=0,d=0;e<b;++e)"\t"==a.charAt(e)?d+=c-d%c:++d;return d}function I(a,b){for(var c=a.ownerDocument.body,e=0,d=0,f=!1,g=a;g;g=g.offsetParent){var h=g.offsetLeft,k=g.offsetTop;g==c?(e+=Math.abs(h),d+=Math.abs(k)):(e+=h,d+=k);if(h=b)h=g.currentStyle?g.currentStyle:window.getComputedStyle(g,
null),h="fixed"==h.position;h&&(f=!0)}c=b&&!f?null:c;for(g=a.parentNode;g!=c;g=g.parentNode)null!=g.scrollLeft&&(e-=g.scrollLeft,d-=g.scrollTop);return{left:e,top:d}}function Ca(a){La?(a.selectionStart=0,a.selectionEnd=a.value.length):a.select()}function n(a,b){return a.line==b.line&&a.ch==b.ch}function W(a,b){return a.line<b.line||a.line==b.line&&a.ch<b.ch}function Z(a){na.textContent=a;return na.innerHTML}function x(a,b){if(!b)return 0;if(!a)return b.length;for(var c=a.length,e=b.length;0<=c&&0<=
e&&a.charAt(c)==b.charAt(e);--c,--e);return e+1}function m(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,e=a.length;c<e;++c)if(a[c]==b)return c;return-1}function ob(a){return/\w/.test(a)||a.toUpperCase()!=a.toLowerCase()}h.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,smartIndent:!0,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,autoClearEmptyLines:!1,onKeyEvent:null,onKeyUpEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,
readOnly:!1,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,autofocus:null};var La=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),pb=La||/Mac/.test(navigator.platform);/Win/.test(navigator.platform);var Ba=h.modes={},oa=h.mimeModes={};h.defineMode=function(a,b){h.defaults.mode||"null"==a||(h.defaults.mode=
a);Ba[a]=b};h.defineMIME=function(a,b){oa[a]=b};h.resolveMode=function(a){if("string"==typeof a&&oa.hasOwnProperty(a))a=oa[a];else if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return h.resolveMode("application/xml");return"string"==typeof a?{name:a}:a||{name:"null"}};h.getMode=function(a,b){b=h.resolveMode(b);var c=Ba[b.name];return c?c(a,b):(window.console&&console.warn("No mode "+b.name+" found, falling back to plain text."),h.getMode(a,"text/plain"))};h.listModes=function(){var a=[],
b;for(b in Ba)Ba.propertyIsEnumerable(b)&&a.push(b);return a};h.listMIMEs=function(){var a=[],b;for(b in oa)oa.propertyIsEnumerable(b)&&a.push({mime:b,mode:oa[b]});return a};var Ya=h.extensions={};h.defineExtension=function(a,b){Ya[a]=b};var Ob=h.commands={selectAll:function(a){a.setSelection({line:0,ch:0},{line:a.lineCount()-1})},killLine:function(a){var b=a.getCursor(!0),c=a.getCursor(!1),e=!n(b,c);e||a.getLine(b.line).length!=b.ch?a.replaceRange("",b,e?c:{line:b.line}):a.replaceRange("",b,{line:b.line+
1,ch:0})},deleteLine:function(a){var b=a.getCursor().line;a.replaceRange("",{line:b,ch:0},{line:b})},undo:function(a){a.undo()},redo:function(a){a.redo()},goDocStart:function(a){a.setCursor(0,0,!0)},goDocEnd:function(a){a.setSelection({line:a.lineCount()-1},null,!0)},goLineStart:function(a){a.setCursor(a.getCursor().line,0,!0)},goLineStartSmart:function(a){var b=a.getCursor(),c=a.getLine(b.line),c=Math.max(0,c.search(/\S/));a.setCursor(b.line,b.ch<=c&&b.ch?0:c,!0)},goLineEnd:function(a){a.setSelection({line:a.getCursor().line},
null,!0)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goWordRight:function(a){a.moveH(1,"word")},delCharLeft:function(a){a.deleteH(-1,"char")},delCharRight:function(a){a.deleteH(1,
"char")},delWordLeft:function(a){a.deleteH(-1,"word")},delWordRight:function(a){a.deleteH(1,"word")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("\t","end")},transposeChars:function(a){var b=a.getCursor(),c=a.getLine(b.line);0<b.ch&&b.ch<c.length-1&&a.replaceRange(c.charAt(b.ch)+c.charAt(b.ch-1),{line:b.line,ch:b.ch-1},{line:b.line,ch:b.ch+1})},newlineAndIndent:function(a){a.replaceSelection("\n",
"end");a.indentLine(a.getCursor().line)},toggleOverwrite:function(a){a.toggleOverwrite()}},ja=h.keyMap={};ja.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"insertTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};ja.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo",
"Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"};ja.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine",
"Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]};
ja["default"]=pb?ja.macDefault:ja.pcDefault;ja.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};h.fromTextArea=function(a,b){function c(){a.value=k.getValue()}b||(b={});b.value=
a.value;!b.tabindex&&a.tabindex&&(b.tabindex=a.tabindex);null==b.autofocus&&null!=a.getAttribute("autofocus")&&(b.autofocus=!0);if(a.form){var d=e(a.form,"submit",c,!0);if("function"==typeof a.form.submit){var f=function(){c();a.form.submit=g;a.form.submit();a.form.submit=f},g=a.form.submit;a.form.submit=f}}a.style.display="none";var k=h(function(b){a.parentNode.insertBefore(b,a.nextSibling)},b);k.save=c;k.getTextArea=function(){return a};k.toTextArea=function(){c();a.parentNode.removeChild(k.getWrapperElement());
a.style.display="";a.form&&(d(),"function"==typeof a.form.submit&&(a.form.submit=g))};return k};h.copyState=a;h.startState=v;r.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(a){var b=this.string.charAt(this.pos);if("string"==typeof a?b==a:b&&(a.test?a.test(b):a(b)))return++this.pos,b},eatWhile:function(a){for(var b=
this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){a=this.string.indexOf(a,this.pos);if(-1<a)return this.pos=a,!0},backUp:function(a){this.pos-=a},column:function(){return ba(this.string,this.start,this.tabSize)},indentation:function(){return ba(this.string,null,this.tabSize)},match:function(a,b,c){if("string"==typeof a){var e=
function(a){return c?a.toLowerCase():a};if(e(this.string).indexOf(e(a),this.pos)==this.pos)return!1!==b&&(this.pos+=a.length),!0}else return(a=this.string.slice(this.pos).match(a))&&!1!==b&&(this.pos+=a[0].length),a},current:function(){return this.string.slice(this.start,this.pos)}};h.StringStream=r;k.prototype={attach:function(a){this.marker.set.push(a)},detach:function(a){a=m(this.marker.set,a);-1<a&&this.marker.set.splice(a,1)},split:function(a,b){return this.to<=a&&null!=this.to?null:new k(this.from<
a||null==this.from?null:this.from-a+b,null==this.to?null:this.to-a+b,this.style,this.marker)},dup:function(){return new k(null,null,this.style,this.marker)},clipTo:function(a,b,c,e,d){a&&e>this.from&&(e<this.to||null==this.to)?this.from=null:null!=this.from&&this.from>=b&&(this.from=Math.max(e,this.from)+d);c&&(b<this.to||null==this.to)&&(b>this.from||null==this.from)?this.to=null:null!=this.to&&this.to>b&&(this.to=e<this.to?this.to+d:b)},isDead:function(){return null!=this.from&&null!=this.to&&this.from>=
this.to},sameSet:function(a){return this.marker==a.marker}};d.prototype={attach:function(a){this.line=a},detach:function(a){this.line==a&&(this.line=null)},split:function(a,b){if(a<this.from)return this.from=this.to=this.from-a+b,this},isDead:function(){return this.from>this.to},clipTo:function(a,b,c,e,d){(a||b<this.from)&&(c||e>this.to)?(this.from=0,this.to=-1):this.from>b&&(this.from=this.to=Math.max(e,this.from)+d)},sameSet:function(a){return!1},find:function(){return this.line&&this.line.parent?
{line:A(this.line),ch:this.from}:null},clear:function(){if(this.line){var a=m(this.line.marked,this);-1!=a&&this.line.marked.splice(a,1);this.line=null}}};u.inheritMarks=function(a,b){var c=new u(a),e=b&&b.marked;if(e)for(var d=0;d<e.length;++d)if(null==e[d].to&&e[d].style){var f=c.marked||(c.marked=[]),g=e[d].dup();f.push(g);g.attach(c)}return c};u.prototype={replace:function(a,b,c){var e=[],d=this.marked,f=null==b?this.text.length:b;M(0,a,this.styles,e);c&&e.push(c,null);M(f,this.text.length,this.styles,
e);this.styles=e;this.text=this.text.slice(0,a)+c+this.text.slice(f);this.stateAfter=null;if(d)for(c=c.length-(f-a),e=0;e<d.length;++e){var g=d[e];g.clipTo(null==a,a||0,null==b,f,c);g.isDead()&&(g.detach(this),d.splice(e--,1))}},split:function(a,b){var c=[b,null],e=this.marked;M(a,this.text.length,this.styles,c);c=new u(b+this.text.slice(a),c);if(e)for(var d=0;d<e.length;++d){var f=e[d],g=f.split(a,b.length);g&&(c.marked||(c.marked=[]),c.marked.push(g),g.attach(c),g==f&&e.splice(d--,1))}return c},
append:function(a){var b=this.text.length,c=a.marked,e=this.marked;this.text+=a.text;M(0,a.text.length,a.styles,this.styles);if(e)for(a=0;a<e.length;++a)null==e[a].to&&(e[a].to=b);if(c&&c.length)a:for(e||(this.marked=e=[]),a=0;a<c.length;++a){var d=c[a];if(!d.from)for(var f=0;f<e.length;++f){var g=e[f];if(g.to==b&&g.sameSet(d)){g.to=null==d.to?null:d.to+b;g.isDead()&&(g.detach(this),c.splice(a--,1));continue a}}e.push(d);d.attach(this);d.from+=b;null!=d.to&&(d.to+=b)}},fixMarkEnds:function(a){var b=
this.marked;a=a.marked;if(b)for(var c=0;c<b.length;++c){var e=b[c],d=null==e.to;if(d&&a)for(var f=0;f<a.length;++f)if(a[f].sameSet(e)){d=!1;break}d&&(e.to=this.text.length)}},fixMarkStarts:function(){var a=this.marked;if(a)for(var b=0;b<a.length;++b)null==a[b].from&&(a[b].from=0)},addMark:function(a){a.attach(this);null==this.marked&&(this.marked=[]);this.marked.push(a);this.marked.sort(function(a,b){return(a.from||0)-(b.from||0)})},highlight:function(a,b,c){c=new r(this.text,c);var e=this.styles,
d=0,f=!1,g=e[0],h;for(""==this.text&&a.blankLine&&a.blankLine(b);!c.eol();){var k=a.token(c,b),p=this.text.slice(c.start,c.pos);c.start=c.pos;d&&e[d-1]==k?e[d-2]+=p:p&&(!f&&(e[d+1]!=k||d&&e[d-2]!=h)&&(f=!0),e[d++]=p,e[d++]=k,h=g,g=e[d]);if(5E3<c.pos){e[d++]=this.text.slice(c.pos);e[d++]=null;break}}e.length!=d&&(e.length=d,f=!0);d&&e[d-2]!=h&&(f=!0);return f||(5>e.length&&10>this.text.length?null:!1)},getTokenAt:function(a,b,c){for(var e=new r(this.text);e.pos<c&&!e.eol();){e.start=e.pos;var d=a.token(e,
b)}return{start:e.start,end:e.pos,string:e.current(),className:d||null,state:b}},indentation:function(a){return ba(this.text,null,a)},getHTML:function(a,b){function c(b,e){if(b){f&&Ea&&" "==b.charAt(0)&&(b="\u00a0"+b.slice(1));f=!1;if(-1==b.indexOf("\t")){g+=b.length;var h=Z(b)}else for(var h="",k=0;;){var p=b.indexOf("\t",k);if(-1==p){h+=Z(b.slice(k));g+=b.length-k;break}else{g+=p-k;var m=a(g),h=h+(Z(b.slice(k,p))+m.html);g+=m.width;k=p+1}}e?d.push('<span class="',e,'">',h,"</span>"):d.push(h)}}
function e(a){return a?"cm-"+a.replace(/ +/g," cm-"):null}var d=[],f=!0,g=0,h=this.styles,k=this.text,p=this.marked,m=k.length;null!=b&&(m=Math.min(b,m));if(k||null!=b)if(p&&p.length)for(var n=function(){for(var a;v<p.length&&((a=p[v]).from==I||null==a.from);)null!=a.style&&u.push(a),++v;q=v<p.length?p[v].from:Infinity;for(a=0;a<u.length;++a){var b=u[a].to||Infinity;b==I?u.splice(a--,1):q=Math.min(b,q)}},I=0,k=0,r="",q=p[0].from||0,u=[],v=0;I<m;){q==I&&n();for(var x=Math.min(m,q);;){if(r){for(var z=
I+r.length,A=F,B=0;B<u.length;++B)A=(A?A+" ":"")+u[B].style;c(z>x?r.slice(0,x-I):r,A);if(z>=x){r=r.slice(x-I);I=x;break}I=z}r=h[k++];F=e(h[k++])}}else for(n=k=0;n<m;k+=2){var r=h[k],F=h[k+1],x=r.length;n+x>m&&(r=r.slice(0,m-n));n+=x;c(r,e(F))}else c(" ");return d.join("")},cleanUp:function(){this.parent=null;if(this.marked)for(var a=0,b=this.marked.length;a<b;++a)this.marked[a].detach(this)}};B.prototype={chunkSize:function(){return this.lines.length},remove:function(a,b,c){for(var e=a,d=a+b;e<d;++e){var f=
this.lines[e];this.height-=f.height;f.cleanUp();if(f.handlers)for(var g=0;g<f.handlers.length;++g)c.push(f.handlers[g])}this.lines.splice(a,b)},collapse:function(a){a.splice.apply(a,[a.length,0].concat(this.lines))},insertHeight:function(a,b,c){this.height+=c;this.lines.splice.apply(this.lines,[a,0].concat(b));a=0;for(c=b.length;a<c;++a)b[a].parent=this},iterN:function(a,b,c){for(b=a+b;a<b;++a)if(c(this.lines[a]))return!0}};q.prototype={chunkSize:function(){return this.size},remove:function(a,b,c){this.size-=
b;for(var e=0;e<this.children.length;++e){var d=this.children[e],f=d.chunkSize();if(a<f){var g=Math.min(b,f-a),h=d.height;d.remove(a,g,c);this.height-=h-d.height;f==g&&(this.children.splice(e--,1),d.parent=null);if(0==(b-=g))break;a=0}else a-=f}25>this.size-b&&(a=[],this.collapse(a),this.children=[new B(a)],this.children[0].parent=this)},collapse:function(a){for(var b=0,c=this.children.length;b<c;++b)this.children[b].collapse(a)},insert:function(a,b){for(var c=0,e=0,d=b.length;e<d;++e)c+=b[e].height;
this.insertHeight(a,b,c)},insertHeight:function(a,b,c){this.size+=b.length;this.height+=c;for(var e=0,d=this.children.length;e<d;++e){var f=this.children[e],g=f.chunkSize();if(a<=g){f.insertHeight(a,b,c);if(f.lines&&50<f.lines.length){for(;50<f.lines.length;)a=f.lines.splice(f.lines.length-25,25),a=new B(a),f.height-=a.height,this.children.splice(e+1,0,a),a.parent=this;this.maybeSpill()}break}a-=g}},maybeSpill:function(){if(!(10>=this.children.length)){var a=this;do{var b=a.children.splice(a.children.length-
5,5),b=new q(b);if(a.parent){a.size-=b.size;a.height-=b.height;var c=m(a.parent.children,a);a.parent.children.splice(c+1,0,b)}else c=new q(a.children),c.parent=a,a.children=[c,b],a=c;b.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}},iter:function(a,b,c){this.iterN(a,b-a,c)},iterN:function(a,b,c){for(var e=0,d=this.children.length;e<d;++e){var f=this.children[e],g=f.chunkSize();if(a<g){g=Math.min(b,g-a);if(f.iterN(a,g,c))return!0;if(0==(b-=g))break;a=0}else a-=g}}};J.prototype=
{addChange:function(a,b,c){this.undone.length=0;var e=+new Date,d=this.done[this.done.length-1],f=d&&d[d.length-1];if(400<e-this.time||!f)this.done.push([{start:a,added:b,old:c}]);else if(f.start>a+c.length||f.start+f.added<a-f.added+f.old.length)d.push({start:a,added:b,old:c});else{d=0;if(a<f.start){for(d=f.start-a-1;0<=d;--d)f.old.unshift(c[d]);d=Math.min(0,b-c.length);f.added+=f.start-a+d;f.start=a}else f.start<a&&(d=a-f.start,b+=d);d=f.added-d;for(a=c.length;d<a;++d)f.old.push(c[d]);f.added<b&&
(f.added=b)}this.time=e}};h.e_stop=Q;h.e_preventDefault=H;h.e_stopPropagation=K;h.connect=e;p.prototype={set:function(a,b){clearTimeout(this.id);this.id=setTimeout(b,a)}};var oc=h.Pass={toString:function(){return"CodeMirror.Pass"}},mb=/gecko\/\d{7}/i.test(navigator.userAgent),Ea=/MSIE \d/.test(navigator.userAgent),jc=/MSIE [1-8]\b/.test(navigator.userAgent),Jb=/WebKit\//.test(navigator.userAgent),zc=/Chrome\//.test(navigator.userAgent),Kb=/KHTML\//.test(navigator.userAgent),yc=function(){if(jc)return!1;
var a=document.createElement("div");return"draggable"in a||"dragDrop"in a}();(function(){var a=document.createElement("textarea");a.value="foo\nbar";a.value.indexOf("\r")})();null!=document.documentElement.getBoundingClientRect&&(I=function(a,b){try{var c=a.getBoundingClientRect(),c={top:c.top,left:c.left}}catch(e){c={top:0,left:0}}if(!b)if(null==window.pageYOffset){var d=document.documentElement||document.body.parentNode;null==d.scrollTop&&(d=document.body);c.top+=d.scrollTop;c.left+=d.scrollLeft}else c.top+=
window.pageYOffset,c.left+=window.pageXOffset;return c});var na=document.createElement("pre");"\na"==Z("a")?Z=function(a){na.textContent=a;return na.innerHTML.slice(1)}:"\t"!=Z("\t")&&(Z=function(a){na.innerHTML="";na.appendChild(document.createTextNode(a));return na.innerHTML});h.htmlEscape=Z;var Ma=3!="\n\nb".split(/\n/).length?function(a){for(var b=0,c,e=[];-1<(c=a.indexOf("\n",b));)e.push(a.slice(b,"\r"==a.charAt(c-1)?c-1:c)),b=c+1;e.push(a.slice(b));return e}:function(a){return a.split(/\r?\n/)};
h.splitLines=Ma;var qc=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return b&&b.parentElement()==a?0!=b.compareEndPoints("StartToEnd",b):!1};h.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}});h.defineMIME("text/plain","null");var Da={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",
34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};h.keyNames=Da;(function(){for(var a=0;10>a;a++)Da[a+48]=String(a);for(a=65;90>=a;a++)Da[a]=String.fromCharCode(a);for(a=
1;12>=a;a++)Da[a+111]=Da[a+63235]="F"+a})();return h}();function setCookie(h,f,c){c||(c=15768E7);path="/";domain=document.domain;secure=!1;var g=new Date;g.setTime(g.getTime());g=new Date(g.getTime()+c);document.cookie=h+"="+escape(f)+(c?";expires="+g.toGMTString():"")+(path?";path="+path:"")+(domain?";domain="+domain:"")+(secure?";secure":"")}
function getCookie(h){h+="=";for(var f=0;f<=document.cookie.length;){var c=f+h.length;if(document.cookie.substring(f,c)==h)return-1==(endOfCookie=document.cookie.indexOf(";",c))&&(endOfCookie=document.cookie.length),unescape(document.cookie.substring(c,endOfCookie));f=document.cookie.indexOf(" ",f)+1;if(0==f)break}return""}function _getid(h){return document.getElementById(h)}function trim(h){return h.replace(/^\s*|\s*$/g,"")}
function html_entity_encode(h){h=h.replace(/&/gi,"&amp;");h=h.replace(/>/gi,"&gt;");h=h.replace(/</gi,"&lt;");h=h.replace(/\"/gi,"&quot;");return h=h.replace(/\'/gi,"&#039;")}var henc=html_entity_encode;function shortstring(h,f){h||(h="");h.length>f&&(h=h.substr(0,f)+"...");return h}function cutstringmiddle(h,f,c,g){if(h.length<=f)return h;f=h.substr(0,c);h=h.substr(h.length-g,h.length);return f+"....."+h}function setstorage(h,f){window.localStorage&&(localStorage[h]=f+"")}
function getstorage(h){var f;window.localStorage&&(f=localStorage[h]);return f}function getOffset(h){for(var f=0,c=0;h&&!isNaN(h.offsetLeft)&&!isNaN(h.offsetTop);)f+=h.offsetLeft,c+=h.offsetTop,h=h.offsetParent;return{left:f,top:c}}function getWindowWidth(){var h=0;if("number"==typeof window.innerWidth)h=window.innerWidth;else var h=document.documentElement.clientWidth,f=document.body.clientWidth,h=0<h?h:f;h||(h=0);return h}
function getWindowHeight(){var h=0;if("number"==typeof window.innerHeight)h=window.innerHeight;else var h=document.documentElement.clientHeight,f=document.body.clientHeight,h=0<h?h:f;h||(h=0);return h}function getScrollLeft(){var h;document.body&&document.body.scrollLeft?h=document.body.scrollLeft:document.documentElement&&document.documentElement.scrollLeft&&(h=document.documentElement.scrollLeft);h||(h=0);return h}
function getScrollTop(){var h;document.body&&document.body.scrollTop?h=document.body.scrollTop:document.documentElement&&document.documentElement.scrollTop&&(h=document.documentElement.scrollTop);h||(h=0);return h}
function number_format(h,f,c,g){h=(h+"").replace(/[^0-9+\-Ee.]/g,"");h=isFinite(+h)?+h:0;f=isFinite(+f)?Math.abs(f):0;g="undefined"===typeof g?",":g;c="undefined"===typeof c?".":c;var a="",a=function(a,c){var f=Math.pow(10,c);return""+Math.round(a*f)/f},a=(f?a(h,f):""+Math.round(h)).split(".");3<a[0].length&&(a[0]=a[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,g));(a[1]||"").length<f&&(a[1]=a[1]||"",a[1]+=Array(f-a[1].length+1).join("0"));return a.join(c)}var messagetimer=null;
function show_message(h,f,c,g,a){f||(f=10);c||(c=10);g||(g=5);a||(a=2E3);for(var v=1,r=1;4>=r;r++){var k="layer_message";1<r&&(k="layer_message"+r);if(k=document.getElementById(k)){v=r;break}}k.style.left="1px";k.style.top="1px";k.innerHTML="<label>"+h+"</label>";k.style.display="";1==v?(f=getScrollLeft()+f,c=getScrollTop()+c):2==v?(f=getScrollLeft()+(getWindowWidth()-k.clientWidth)/2,c=getScrollTop()+(getWindowHeight()-k.clientHeight)/2):(f=3==v?document.body.offsetWidth-k.clientWidth-5:getScrollLeft()+
(getWindowWidth()-k.clientWidth)/2,c=getScrollTop()+c);f=parseInt(f);c=parseInt(c);k.style.border="1px solid #000000";k.style.padding=g+"px";k.style.left=f+"px";k.style.top=c+"px";messagetimer&&clearTimeout(messagetimer);messagetimer=setTimeout(hide_message,a)}function hide_message(){for(var h=1;4>=h;h++){var f="layer_message";1<h&&(f="layer_message"+h);if(f=document.getElementById(f))f.style.display="none"}}
var jscolor={dir:"/js/jscolor/",bindClass:"color",binding:!0,preloading:!0,install:function(){jscolor.addEvent(window,"load",jscolor.init)},init:function(){jscolor.binding&&jscolor.bind();jscolor.preloading&&jscolor.preload()},getDir:function(){if(!jscolor.dir){var h=jscolor.detectDir();jscolor.dir=!1!==h?h:"jscolor/"}return jscolor.dir},detectDir:function(){for(var h=location.href,f=document.getElementsByTagName("base"),c=0;c<f.length;c+=1)f[c].href&&(h=f[c].href);f=document.getElementsByTagName("script");
for(c=0;c<f.length;c+=1)if(f[c].src&&/(^|\/)jscolor\.js([?#].*)?$/i.test(f[c].src))return h=(new jscolor.URI(f[c].src)).toAbsolute(h),h.path=h.path.replace(/[^\/]+$/,""),h.query=null,h.fragment=null,h.toString();return!1},bind:function(){for(var h=new RegExp("(^|\\s)("+jscolor.bindClass+")\\s*(\\{[^}]*\\})?","i"),f=document.getElementsByTagName("input"),c=0;c<f.length;c+=1){var g;if(!f[c].color&&f[c].className&&(g=f[c].className.match(h))){if(g[3])try{eval("prop="+g[3])}catch(a){}f[c].color=new jscolor.color(f[c],
{})}}},preload:function(){for(var h in jscolor.imgRequire)jscolor.imgRequire.hasOwnProperty(h)&&jscolor.loadImage(h)},images:{pad:[181,101],sld:[16,101],cross:[15,15],arrow:[7,11]},imgRequire:{},imgLoaded:{},requireImage:function(h){jscolor.imgRequire[h]=!0},loadImage:function(h){jscolor.imgLoaded[h]||(jscolor.imgLoaded[h]=new Image,jscolor.imgLoaded[h].src=jscolor.getDir()+h)},fetchElement:function(h){return"string"===typeof h?document.getElementById(h):h},addEvent:function(h,f,c){h.addEventListener?
h.addEventListener(f,c,!1):h.attachEvent&&h.attachEvent("on"+f,c)},fireEvent:function(h,f){if(h)if(document.createEvent){var c=document.createEvent("HTMLEvents");c.initEvent(f,!0,!0);h.dispatchEvent(c)}else if(document.createEventObject)c=document.createEventObject(),h.fireEvent("on"+f,c);else if(h["on"+f])h["on"+f]()},getElementPos:function(h){var f=h,c=0,g=0;if(f.offsetParent){do c+=f.offsetLeft,g+=f.offsetTop;while(f=f.offsetParent)}for(;(h=h.parentNode)&&"BODY"!==h.nodeName.toUpperCase();)c-=
h.scrollLeft,g-=h.scrollTop;return[c,g]},getElementSize:function(h){return[h.offsetWidth,h.offsetHeight]},getRelMousePos:function(h){var f=0,c=0;h||(h=window.event);"number"===typeof h.offsetX?(f=h.offsetX,c=h.offsetY):"number"===typeof h.layerX&&(f=h.layerX,c=h.layerY);return{x:f,y:c}},getViewPos:function(){return"number"===typeof window.pageYOffset?[window.pageXOffset,window.pageYOffset]:document.body&&(document.body.scrollLeft||document.body.scrollTop)?[document.body.scrollLeft,document.body.scrollTop]:
document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)?[document.documentElement.scrollLeft,document.documentElement.scrollTop]:[0,0]},getViewSize:function(){return"number"===typeof window.innerWidth?[window.innerWidth,window.innerHeight]:document.body&&(document.body.clientWidth||document.body.clientHeight)?[document.body.clientWidth,document.body.clientHeight]:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?
[document.documentElement.clientWidth,document.documentElement.clientHeight]:[0,0]},URI:function(h){function f(c){for(var f="";c;)if("../"===c.substr(0,3)||"./"===c.substr(0,2))c=c.replace(/^\.+/,"").substr(1);else if("/./"===c.substr(0,3)||"/."===c)c="/"+c.substr(3);else if("/../"===c.substr(0,4)||"/.."===c)c="/"+c.substr(4),f=f.replace(/\/?[^\/]*$/,"");else if("."===c||".."===c)c="";else{var a=c.match(/^\/?[^\/]*/)[0];c=c.substr(a.length);f+=a}return f}this.authority=this.scheme=null;this.path=
"";this.fragment=this.query=null;this.parse=function(c){c=c.match(/^(([A-Za-z][0-9A-Za-z+.-]*)(:))?((\/\/)([^\/?#]*))?([^?#]*)((\?)([^#]*))?((#)(.*))?/);this.scheme=c[3]?c[2]:null;this.authority=c[5]?c[6]:null;this.path=c[7];this.query=c[9]?c[10]:null;this.fragment=c[12]?c[13]:null;return this};this.toString=function(){var c="";null!==this.scheme&&(c=c+this.scheme+":");null!==this.authority&&(c=c+"//"+this.authority);null!==this.path&&(c+=this.path);null!==this.query&&(c=c+"?"+this.query);null!==
this.fragment&&(c=c+"#"+this.fragment);return c};this.toAbsolute=function(c){c=new jscolor.URI(c);var g=new jscolor.URI;if(null===c.scheme)return!1;null!==this.scheme&&this.scheme.toLowerCase()===c.scheme.toLowerCase()&&(this.scheme=null);null!==this.scheme?(g.scheme=this.scheme,g.authority=this.authority,g.path=f(this.path),g.query=this.query):(null!==this.authority?(g.authority=this.authority,g.path=f(this.path),g.query=this.query):(""===this.path?(g.path=c.path,g.query=null!==this.query?this.query:
c.query):("/"===this.path.substr(0,1)?g.path=f(this.path):(g.path=null!==c.authority&&""===c.path?"/"+this.path:c.path.replace(/[^\/]+$/,"")+this.path,g.path=f(g.path)),g.query=this.query),g.authority=c.authority),g.scheme=c.scheme);g.fragment=this.fragment;return g};h&&this.parse(h)},color:function(h,f){function c(a,c,d){if(null===a)return[d,d,d];var f=Math.floor(a),g=d*(1-c);a=d*(1-c*(f%2?a-f:1-(a-f)));switch(f){case 6:case 0:return[d,a,g];case 1:return[a,d,g];case 2:return[g,d,a];case 3:return[g,
a,d];case 4:return[a,g,d];case 5:return[d,g,a]}}function g(b,c){if(!jscolor.picker){jscolor.picker={box:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),btn:document.createElement("div"),btnS:document.createElement("span"),btnT:document.createTextNode(q.pickerCloseText)};for(var d=
0;d<jscolor.images.sld[1];d+=4){var f=document.createElement("div");f.style.height="4px";f.style.fontSize="1px";f.style.lineHeight="0";jscolor.picker.sld.appendChild(f)}jscolor.picker.sldB.appendChild(jscolor.picker.sld);jscolor.picker.box.appendChild(jscolor.picker.sldB);jscolor.picker.box.appendChild(jscolor.picker.sldM);jscolor.picker.padB.appendChild(jscolor.picker.pad);jscolor.picker.box.appendChild(jscolor.picker.padB);jscolor.picker.box.appendChild(jscolor.picker.padM);jscolor.picker.btnS.appendChild(jscolor.picker.btnT);
jscolor.picker.btn.appendChild(jscolor.picker.btnS);jscolor.picker.box.appendChild(jscolor.picker.btn);jscolor.picker.boxB.appendChild(jscolor.picker.box)}var g=jscolor.picker;g.box.onmouseup=g.box.onmouseout=function(){h.focus()};g.box.onmousedown=function(){z=!0};g.box.onmousemove=function(a){if(P||R)P&&u(a),R&&M(a),document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()};g.padM.onmouseup=g.padM.onmouseout=function(){P&&(P=!1,jscolor.fireEvent(F,
"change"))};g.padM.onmousedown=function(a){P=!0;u(a)};g.sldM.onmouseup=g.sldM.onmouseout=function(){R&&(R=!1,jscolor.fireEvent(F,"change"))};g.sldM.onmousedown=function(a){R=!0;M(a)};d=a(q);g.box.style.width=d[0]+"px";g.box.style.height=d[1]+"px";g.boxB.style.position="absolute";g.boxB.style.clear="both";g.boxB.style.left=b+"px";g.boxB.style.top=c+"px";g.boxB.style.zIndex=q.pickerZIndex;g.boxB.style.border=q.pickerBorder+"px solid";g.boxB.style.borderColor=q.pickerBorderColor;g.boxB.style.background=
q.pickerFaceColor;g.pad.style.width=jscolor.images.pad[0]+"px";g.pad.style.height=jscolor.images.pad[1]+"px";g.padB.style.position="absolute";g.padB.style.left=q.pickerFace+"px";g.padB.style.top=q.pickerFace+"px";g.padB.style.border=q.pickerInset+"px solid";g.padB.style.borderColor=q.pickerInsetColor;g.padM.style.position="absolute";g.padM.style.left="0";g.padM.style.top="0";g.padM.style.width=q.pickerFace+2*q.pickerInset+jscolor.images.pad[0]+jscolor.images.arrow[0]+"px";g.padM.style.height=g.box.style.height;
g.padM.style.cursor="crosshair";g.sld.style.overflow="hidden";g.sld.style.width=jscolor.images.sld[0]+"px";g.sld.style.height=jscolor.images.sld[1]+"px";g.sldB.style.display=q.slider?"block":"none";g.sldB.style.position="absolute";g.sldB.style.right=q.pickerFace+"px";g.sldB.style.top=q.pickerFace+"px";g.sldB.style.border=q.pickerInset+"px solid";g.sldB.style.borderColor=q.pickerInsetColor;g.sldM.style.display=q.slider?"block":"none";g.sldM.style.position="absolute";g.sldM.style.right="0";g.sldM.style.top=
"0";g.sldM.style.width=jscolor.images.sld[0]+jscolor.images.arrow[0]+q.pickerFace+2*q.pickerInset+"px";g.sldM.style.height=g.box.style.height;try{g.sldM.style.cursor="pointer"}catch(k){g.sldM.style.cursor="hand"}g.btn.style.display=q.pickerClosable?"block":"none";g.btn.style.position="absolute";g.btn.style.left=q.pickerFace+"px";g.btn.style.bottom=q.pickerFace+"px";g.btn.style.padding="0 15px";g.btn.style.height="18px";g.btn.style.border=q.pickerInset+"px solid";(function(){var a=q.pickerInsetColor.split(/\s+/);
g.btn.style.borderColor=2>a.length?a[0]:a[1]+" "+a[0]+" "+a[0]+" "+a[1]})();g.btn.style.color=q.pickerButtonColor;g.btn.style.font="12px sans-serif";g.btn.style.textAlign="center";try{g.btn.style.cursor="pointer"}catch(n){g.btn.style.cursor="hand"}g.btn.onmousedown=function(){q.hidePicker()};g.btnS.style.lineHeight=g.btn.style.height;switch(A){case 0:var B="hs.png";break;case 1:B="hv.png"}g.padM.style.backgroundImage="url('"+jscolor.getDir()+"cross.gif')";g.padM.style.backgroundRepeat="no-repeat";
g.sldM.style.backgroundImage="url('"+jscolor.getDir()+"arrow.gif')";g.sldM.style.backgroundRepeat="no-repeat";g.pad.style.backgroundImage="url('"+jscolor.getDir()+B+"')";g.pad.style.backgroundRepeat="no-repeat";g.pad.style.backgroundPosition="0 0";v();r();jscolor.picker.owner=q;document.getElementsByTagName("body")[0].appendChild(g.boxB)}function a(a){return[2*a.pickerInset+2*a.pickerFace+jscolor.images.pad[0]+(a.slider?2*a.pickerInset+2*jscolor.images.arrow[0]+jscolor.images.sld[0]:0),a.pickerClosable?
4*a.pickerInset+3*a.pickerFace+jscolor.images.pad[1]+a.pickerButtonHeight:2*a.pickerInset+2*a.pickerFace+jscolor.images.pad[1]]}function v(){switch(A){case 0:var a=1;break;case 1:a=2}var e=Math.round(q.hsv[0]/6*(jscolor.images.pad[0]-1)),a=Math.round((1-q.hsv[a])*(jscolor.images.pad[1]-1));jscolor.picker.padM.style.backgroundPosition=q.pickerFace+q.pickerInset+e-Math.floor(jscolor.images.cross[0]/2)+"px "+(q.pickerFace+q.pickerInset+a-Math.floor(jscolor.images.cross[1]/2))+"px";e=jscolor.picker.sld.childNodes;
switch(A){case 0:for(var d=c(q.hsv[0],q.hsv[1],1),a=0;a<e.length;a+=1)e[a].style.backgroundColor="rgb("+d[0]*(1-a/e.length)*100+"%,"+d[1]*(1-a/e.length)*100+"%,"+d[2]*(1-a/e.length)*100+"%)";break;case 1:var f,g=[q.hsv[2],0,0],a=Math.floor(q.hsv[0]),h=a%2?q.hsv[0]-a:1-(q.hsv[0]-a);switch(a){case 6:case 0:d=[0,1,2];break;case 1:d=[1,0,2];break;case 2:d=[2,0,1];break;case 3:d=[2,1,0];break;case 4:d=[1,2,0];break;case 5:d=[0,2,1]}for(a=0;a<e.length;a+=1)f=1-1/(e.length-1)*a,g[1]=g[0]*(1-f*h),g[2]=g[0]*
(1-f),e[a].style.backgroundColor="rgb("+100*g[d[0]]+"%,"+100*g[d[1]]+"%,"+100*g[d[2]]+"%)"}}function r(){switch(A){case 0:var a=2;break;case 1:a=1}a=Math.round((1-q.hsv[a])*(jscolor.images.sld[1]-1));jscolor.picker.sldM.style.backgroundPosition="0 "+(q.pickerFace+q.pickerInset+a-Math.floor(jscolor.images.arrow[1]/2))+"px"}function k(){return jscolor.picker&&jscolor.picker.owner===q}function d(){F!==h&&q.importColor()}function u(a){var c=jscolor.getRelMousePos(a);a=c.x-q.pickerFace-q.pickerInset;c=
c.y-q.pickerFace-q.pickerInset;switch(A){case 0:q.fromHSV(6/(jscolor.images.pad[0]-1)*a,1-c/(jscolor.images.pad[1]-1),null,N);break;case 1:q.fromHSV(6/(jscolor.images.pad[0]-1)*a,null,1-c/(jscolor.images.pad[1]-1),N)}}function M(a){a=jscolor.getRelMousePos(a).y-q.pickerFace-q.pickerInset;switch(A){case 0:q.fromHSV(null,null,1-a/(jscolor.images.sld[1]-1),Q);break;case 1:q.fromHSV(null,1-a/(jscolor.images.sld[1]-1),null,Q)}}this.adjust=this.required=!0;this.hash=!1;this.slider=this.caps=!0;this.styleElement=
this.valueElement=h;this.hsv=[0,0,1];this.rgb=[1,1,1];this.pickerOnfocus=!0;this.pickerMode="HSV";this.pickerPosition="bottom";this.pickerButtonHeight=20;this.pickerClosable=!1;this.pickerCloseText="Close";this.pickerButtonColor="ButtonText";this.pickerFace=10;this.pickerFaceColor="ThreeDFace";this.pickerBorder=1;this.pickerBorderColor="ThreeDHighlight ThreeDShadow ThreeDShadow ThreeDHighlight";this.pickerInset=1;this.pickerInsetColor="ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow";this.pickerZIndex=
1E4;for(var B in f)f.hasOwnProperty(B)&&(this[B]=f[B]);this.hidePicker=function(){k()&&(delete jscolor.picker.owner,document.getElementsByTagName("body")[0].removeChild(jscolor.picker.boxB))};this.showPicker=function(){if(!k()){var b=jscolor.getElementPos(h),c=jscolor.getElementSize(h),d=jscolor.getViewPos(),f=jscolor.getViewSize(),r=a(this),q,n,u;switch(this.pickerPosition.toLowerCase()){case "left":q=1;n=0;u=-1;break;case "right":q=1;n=0;u=1;break;case "top":q=0;n=1;u=-1;break;default:q=0,u=n=1}var v=
(c[n]+r[n])/2,b=[-d[q]+b[q]+r[q]>f[q]?-d[q]+b[q]+c[q]/2>f[q]/2&&0<=b[q]+c[q]-r[q]?b[q]+c[q]-r[q]:b[q]:b[q],-d[n]+b[n]+c[n]+r[n]-v+v*u>f[n]?-d[n]+b[n]+c[n]/2>f[n]/2&&0<=b[n]+c[n]-v-v*u?b[n]+c[n]-v-v*u:b[n]+c[n]-v+v*u:0<=b[n]+c[n]-v+v*u?b[n]+c[n]-v+v*u:b[n]+c[n]-v-v*u];g(b[q],b[n])}};this.importColor=function(){F?this.adjust?!this.required&&/^\s*$/.test(F.value)?(F.value="",J.style.backgroundColor=J.jscStyle.backgroundColor,J.style.color=J.jscStyle.color,this.exportColor(H|K)):this.fromString(F.value)||
this.exportColor():this.fromString(F.value,H)||(J.style.backgroundColor=J.jscStyle.backgroundColor,J.style.color=J.jscStyle.color,this.exportColor(H|K)):this.exportColor()};this.exportColor=function(a){if(!(a&H)&&F){var c=this.toString();this.caps&&(c=c.toUpperCase());this.hash&&(c="#"+c);F.value=c}a&K||!J||(J.style.backgroundColor="#"+this.toString(),J.style.color=.5>.213*this.rgb[0]+.715*this.rgb[1]+.072*this.rgb[2]?"#FFF":"#000");a&Q||!k()||v();a&N||!k()||r()};this.fromHSV=function(a,e,d,f){0>
a&&(a=0);6<a&&(a=6);0>e&&(e=0);1<e&&(e=1);0>d&&(d=0);1<d&&(d=1);this.rgb=c(null===a?this.hsv[0]:this.hsv[0]=a,null===e?this.hsv[1]:this.hsv[1]=e,null===d?this.hsv[2]:this.hsv[2]=d);this.exportColor(f)};this.fromRGB=function(a,c,d,f){0>a&&(a=0);1<a&&(a=1);0>c&&(c=0);1<c&&(c=1);0>d&&(d=0);1<d&&(d=1);a=null===a?this.rgb[0]:this.rgb[0]=a;c=null===c?this.rgb[1]:this.rgb[1]=c;var g=null===d?this.rgb[2]:this.rgb[2]=d,h=Math.min(Math.min(a,c),g);d=Math.max(Math.max(a,c),g);var k=d-h;0===k?a=[null,0,d]:(a=
a===h?3+(g-c)/k:c===h?5+(a-g)/k:1+(c-a)/k,a=[6===a?0:a,k/d,d]);null!==a[0]&&(this.hsv[0]=a[0]);0!==a[2]&&(this.hsv[1]=a[1]);this.hsv[2]=a[2];this.exportColor(f)};this.fromString=function(a,c){var d=a.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i);return d?(6===d[1].length?this.fromRGB(parseInt(d[1].substr(0,2),16)/255,parseInt(d[1].substr(2,2),16)/255,parseInt(d[1].substr(4,2),16)/255,c):this.fromRGB(parseInt(d[1].charAt(0)+d[1].charAt(0),16)/255,parseInt(d[1].charAt(1)+d[1].charAt(1),16)/255,parseInt(d[1].charAt(2)+
d[1].charAt(2),16)/255,c),!0):!1};this.toString=function(){return(256|Math.round(255*this.rgb[0])).toString(16).substr(1)+(256|Math.round(255*this.rgb[1])).toString(16).substr(1)+(256|Math.round(255*this.rgb[2])).toString(16).substr(1)};var q=this,A="hvs"===this.pickerMode.toLowerCase()?1:0,z=!1,F=jscolor.fetchElement(this.valueElement),J=jscolor.fetchElement(this.styleElement),P=!1,R=!1,H=1,K=2,Q=4,N=8;jscolor.addEvent(h,"focus",function(){q.pickerOnfocus&&q.showPicker()});jscolor.addEvent(h,"blur",
function(){z?z=!1:window.setTimeout(function(){z||(F===h&&q.importColor(),q.pickerOnfocus&&q.hidePicker());z=!1},0)});F&&(B=function(){q.fromString(F.value,H)},jscolor.addEvent(F,"keyup",B),jscolor.addEvent(F,"input",B),jscolor.addEvent(F,"blur",d),F.setAttribute("autocomplete","off"));J&&(J.jscStyle={backgroundColor:J.style.backgroundColor,color:J.style.color});switch(A){case 0:jscolor.requireImage("hs.png");break;case 1:jscolor.requireImage("hv.png")}jscolor.requireImage("cross.gif");jscolor.requireImage("arrow.gif");
this.importColor()}};jscolor.install();
