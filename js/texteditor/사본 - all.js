function setCookie(d,n,r){r||(r=15768E7);path="/";domain=document.domain;secure=!1;var w=new Date;w.setTime(w.getTime());w=new Date(w.getTime()+r);document.cookie=d+"="+escape(n)+(r?";expires="+w.toGMTString():"")+(path?";path="+path:"")+(domain?";domain="+domain:"")+(secure?";secure":"")}
function getCookie(d){d+="=";for(var n=0;n<=document.cookie.length;){var r=n+d.length;if(document.cookie.substring(n,r)==d)return-1==(endOfCookie=document.cookie.indexOf(";",r))&&(endOfCookie=document.cookie.length),unescape(document.cookie.substring(r,endOfCookie));n=document.cookie.indexOf(" ",n)+1;if(0==n)break}return""}function _getid(d){return document.getElementById(d)}function trim(d){return d.replace(/^\s*|\s*$/g,"")}
function html_entity_encode(d){d=d.replace(/&/gi,"&amp;");d=d.replace(/>/gi,"&gt;");d=d.replace(/</gi,"&lt;");d=d.replace(/\"/gi,"&quot;");return d=d.replace(/\'/gi,"&#039;")}function shortstring(d,n){d||(d="");d.length>n&&(d=d.substr(0,n)+"...");return d}function cutstringmiddle(d,n,r,w){if(d.length<=n)return d;n=d.substr(0,r);d=d.substr(d.length-w,d.length);return n+"....."+d}var messagetimer=null;
function show_message(d,n,r,w,A){function O(){var d=0;if("number"==typeof window.innerWidth)d=window.innerWidth;else var d=document.documentElement.clientWidth,n=document.body.clientWidth,d=0<d?d:n;d||(d=0);return d}function E(){var d=0;if("number"==typeof window.innerHeight)d=window.innerHeight;else var d=document.documentElement.clientHeight,n=document.body.clientHeight,d=0<d?d:n;d||(d=0);return d}function J(){var d;document.body&&document.body.scrollLeft?d=document.body.scrollLeft:document.documentElement&&
document.documentElement.scrollLeft&&(d=document.documentElement.scrollLeft);d||(d=0);return d}function z(){var d;document.body&&document.body.scrollTop?d=document.body.scrollTop:document.documentElement&&document.documentElement.scrollTop&&(d=document.documentElement.scrollTop);d||(d=0);return d}n||(n=10);r||(r=10);w||(w=5);A||(A=2E3);for(var x=1,u=1;4>=u;u++){var q="layer_message";1<u&&(q="layer_message"+u);if(q=document.getElementById(q)){x=u;break}}q.style.left="1px";q.style.top="1px";q.innerHTML=
"<label>"+d+"</label>";q.style.display="";1==x?(n=J()+n,r=z()+r):2==x?(n=J()+(O()-q.clientWidth)/2,r=z()+(E()-q.clientHeight)/2):(n=3==x?document.body.offsetWidth-q.clientWidth-5:J()+(O()-q.clientWidth)/2,r=z()+r);n=parseInt(n);r=parseInt(r);q.style.border="1px solid #000000";q.style.padding=w+"px";q.style.left=n+"px";q.style.top=r+"px";messagetimer&&clearTimeout(messagetimer);messagetimer=setTimeout(hide_message,A)}
function hide_message(){for(var d=1;4>=d;d++){var n="layer_message";1<d&&(n="layer_message"+d);if(n=document.getElementById(n))n.style.display="none"}}
var CodeMirror=function(){function d(a,b){function c(g){return 0<=g&&g<s.size}function e(g){for(var a=s;!a.lines;)for(var h=0;;++h){var b=a.children[h],e=b.chunkSize();if(g<e){a=b;break}g-=e}return a.lines[g]}function f(g,a){ca=!0;for(var h=a-g.height,b=g;b;b=b.parent)b.height+=h}function l(g){var a={line:0,ch:0};Tb(a,{line:s.size-1,ch:e(s.size-1).text.length},Ja(g),a,a);ma=!0}function k(g,a){if("string"==typeof g&&(g=Ub[g],!g))return!1;var h=X;try{p.readOnly&&(Ya=!0),a&&(X=null),g(K)}catch(b){if(b!=
wc)throw b;return!1}finally{X=h,Ya=!1}return!0}function u(g){var a=n(p.keyMap),h=a.auto;clearTimeout(Wb);h&&!w(g)&&(Wb=setTimeout(function(){n(p.keyMap)==a&&(p.keyMap=h.call?h.call(null,K):h)},50));var b=wa[U(g,"keyCode")],e=!1;if(null==b||g.altGraphKey)return!1;U(g,"altKey")&&(b="Alt-"+b);U(g,"ctrlKey")&&(b="Ctrl-"+b);U(g,"metaKey")&&(b="Cmd-"+b);if(e=U(g,"shiftKey")?r("Shift-"+b,p.extraKeys,p.keyMap,function(g){return k(g,!0)})||r(b,p.extraKeys,p.keyMap,function(g){if("string"==typeof g&&/^go[A-Z]/.test(g))return k(g)}):
r(b,p.extraKeys,p.keyMap,k))L(g),xa&&(g.oldKeyCode=g.keyCode,g.keyCode=0);return e}function xc(g,a){var h=r("'"+a+"'",p.extraKeys,p.keyMap,k);h&&L(g);return h}function E(g){Y||Da();xa&&27==g.keyCode&&(g.returnValue=!1);Ea&&Fa()&&(Ea=!1);if(!p.onKeyEvent||!p.onKeyEvent(K,yc(g))){var a=U(g,"keyCode");Xb(16==a||U(g,"shiftKey"));var h=u(g);window.opera&&(nb=h?a:null,!h&&88==a&&U(g,ob?"metaKey":"ctrlKey")&&Ga(""))}}function Da(){if("nocursor"!=p.readOnly){if(!Y){if(p.onFocus)p.onFocus(K);Y=!0;-1==H.className.search(/\bCodeMirror-focused\b/)&&
(H.className+=" CodeMirror-focused");Ka||Za(!0)}$a();Yb()}}function pb(){if(Y){if(p.onBlur)p.onBlur(K);Y=!1;na&&v(function(){na&&(na(),na=null)})();H.className=H.className.replace(" CodeMirror-focused","")}clearInterval(qb);setTimeout(function(){Y||(X=null)},150)}function Tb(g,a,h,b,e){if(!Ya){if(Z){var c=[];s.iter(g.line,a.line+1,function(g){c.push(g.text)});for(Z.addChange(g.line,h.length,c);Z.done.length>p.undoDepth;)Z.done.shift()}aa(g,a,h,b,e)}}function Zb(g,a){if(g.length){for(var h=g.pop(),
b=[],c=h.length-1;0<=c;c-=1){var G=h[c],f=[],l=G.start+G.added;s.iter(G.start,l,function(g){f.push(g.text)});b.push({start:G.start,added:G.old.length,old:f});var d=I({line:G.start+G.old.length-1,ch:zc(f[f.length-1],G.old[G.old.length-1])});aa({line:G.start,ch:0},{line:l-1,ch:e(l-1).text.length},G.old,d,d)}ma=!0;a.push(b)}}function aa(g,a,h,b,c){function G(g){return g<=Math.min(a.line,a.line+r)?g:g+r}if(!Ya){var l=!1,d=oa.length;p.lineWrapping||s.iter(g.line,a.line,function(g){if(g.text.length==d)return l=
!0});if(g.line!=a.line||1<h.length)ca=!0;var k=a.line-g.line,P=e(g.line),n=e(a.line);if(0==g.ch&&0==a.ch&&""==h[h.length-1]){var Q=[],P=null;g.line?(P=e(g.line-1),P.fixMarkEnds(n)):n.fixMarkStarts();for(var B=0,q=h.length-1;B<q;++B)Q.push(x.inheritMarks(h[B],P));k&&s.remove(g.line,k,La);Q.length&&s.insert(g.line,Q)}else if(P==n)if(1==h.length)P.replace(g.ch,a.ch,h[0]);else{n=P.split(a.ch,h[h.length-1]);P.replace(g.ch,null,h[0]);P.fixMarkEnds(n);Q=[];B=1;for(q=h.length-1;B<q;++B)Q.push(x.inheritMarks(h[B],
P));Q.push(n);s.insert(g.line+1,Q)}else if(1==h.length)P.replace(g.ch,null,h[0]),n.replace(null,a.ch,""),P.append(n),s.remove(g.line+1,k,La);else{Q=[];P.replace(g.ch,null,h[0]);n.replace(null,a.ch,h[h.length-1]);P.fixMarkEnds(n);B=1;for(q=h.length-1;B<q;++B)Q.push(x.inheritMarks(h[B],P));1<k&&s.remove(g.line+1,k-1,La);s.insert(g.line+1,Q)}if(p.lineWrapping){var v=t.clientWidth/rb()-3;s.iter(g.line,g.line+h.length,function(g){if(!g.hidden){var a=Math.ceil(g.text.length/v)||1;a!=g.height&&f(g,a)}})}else s.iter(g.line,
B+h.length,function(g){g=g.text;g.length>d&&(oa=g,d=g.length,pa=null,l=!1)}),l&&(d=0,oa="",pa=null,s.iter(0,s.size,function(g){g=g.text;g.length>d&&(d=g.length,oa=g)}));for(var n=[],r=h.length-k-1,B=0,k=da.length;B<k;++B)Q=da[B],Q<g.line?n.push(Q):Q>a.line&&n.push(Q+r);B=g.line+Math.min(h.length,500);Ac(g.line,B);n.push(B);da=n;sb(100);$.push({from:g.line,to:a.line+1,diff:r});g={from:g,to:a,text:h};if(Ma){for(h=Ma;h.next;h=h.next);h.next=g}else Ma=g;Na(b,c,G(m.from.line),G(m.to.line));t.clientHeight&&
(R.style.height=s.height*qa()+2*y.offsetTop+"px")}}function ea(g,a,h){function b(c){if(fa(c,a))return c;if(!fa(h,c))return e;var vc=c.line+g.length-(h.line-a.line)-1,f=c.ch;c.line==h.line&&(f+=g[g.length-1].length-(h.ch-(h.line==a.line?a.ch:0)));return{line:vc,ch:f}}a=I(a);h=h?I(h):a;g=Ja(g);var e;$b(g,a,h,function(g){e=g;return{from:b(m.from),to:b(m.to)}});return e}function Ga(g,a){$b(Ja(g),m.from,m.to,function(g){return"end"==a?{from:g,to:g}:"start"==a?{from:m.from,to:m.from}:{from:m.from,to:g}})}
function $b(g,a,h,b){b=b({line:a.line+g.length-1,ch:1==g.length?g[0].length+a.ch:g[g.length-1].length});Tb(a,h,g,b.from,b.to)}function ha(g,a){var h=g.line,b=a.line;if(h==b)return e(h).text.slice(g.ch,a.ch);var c=[e(h).text.slice(g.ch)];s.iter(h+1,b,function(g){c.push(g.text)});c.push(e(b).text.slice(0,a.ch));return c.join("\n")}function Oa(){return ha(m.from,m.to)}function $a(){Ea||tb.set(p.pollInterval,function(){ub();Fa();Y&&$a();vb()})}function Pa(){function g(){ub();Fa()||a?(Ea=!1,$a()):(a=!0,
tb.set(60,g));vb()}var a=!1;Ea=!0;tb.set(20,g)}function Fa(){if(Ka||!Y||Bc(D)||p.readOnly)return!1;var g=D.value;if(g==ra)return!1;X=null;for(var a=0,b=Math.min(ra.length,g.length);a<b&&ra[a]==g[a];)++a;a<ra.length?m.from={line:m.from.line,ch:m.from.ch-(ra.length-a)}:ab&&F(m.from,m.to)&&(m.to={line:m.to.line,ch:Math.min(e(m.to.line).text.length,m.to.ch+(g.length-a))});Ga(g.slice(a),"end");ra=g;return!0}function Za(g){F(m.from,m.to)?g&&(ra=D.value=""):(ra="",D.value=Oa(),ac(D))}function ja(){"nocursor"!=
p.readOnly&&D.focus()}function Cc(){if(T.getBoundingClientRect){var g=T.getBoundingClientRect();if(!xa||g.top!=g.bottom){var a=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(0>g.top||g.bottom>a)&&T.scrollIntoView()}}}function wb(){var g=ka(m.inverted?m.from:m.to),a=p.lineWrapping?Math.min(g.x,y.offsetWidth):g.x;return la(a,g.y,a,g.yBot)}function la(g,a,b,e){var c=y.offsetLeft,f=y.offsetTop;a+=f;e+=f;g+=c;b+=c;var d=t.clientHeight,l=t.scrollTop,c=!1,
f=!0;a<l?(t.scrollTop=Math.max(0,a),c=!0):e>l+d&&(t.scrollTop=e-d,c=!0);a=t.clientWidth;e=t.scrollLeft;d=p.fixedGutter?S.clientWidth:0;g<e+d?(50>g&&(g=0),t.scrollLeft=Math.max(0,g-10-d),c=!0):b>a+e-3&&(t.scrollLeft=b+10-a,c=!0,b>R.clientWidth&&(f=!1));if(c&&p.onScroll)p.onScroll(K);return f}function Ba(){var g=qa(),a=t.scrollTop-y.offsetTop,b=Math.max(0,Math.floor(a/g)),g=Math.ceil((a+t.clientHeight)/g);return{from:xb(s,b),to:xb(s,g)}}function Ha(a,b){function h(){pa=t.clientWidth;var a=V.firstChild,
g=!1;s.iter(N,W,function(b){if(!b.hidden){var h=Math.round(a.offsetHeight/k)||1;b.height!=h&&(f(b,h),ca=g=!0)}a=a.nextSibling});g&&(R.style.height=s.height*k+2*y.offsetTop+"px");return g}if(t.clientWidth){var e=Ba();if(!(!0!==a&&0==a.length&&e.from>N&&e.to<W)){var c=Math.max(e.from-100,0),e=Math.min(s.size,e.to+100);N<c&&20>c-N&&(c=N);W>e&&20>W-e&&(e=Math.min(s.size,W));for(var G=!0===a?[]:Xa([{from:N,to:W,domStart:0}],a),d=0,l=0;l<G.length;++l){var m=G[l];m.from<c&&(m.domStart+=c-m.from,m.from=c);
m.to>e&&(m.to=e);m.from>=m.to?G.splice(l--,1):d+=m.to-m.from}if(d!=e-c){G.sort(function(a,g){return a.domStart-g.domStart});var k=qa(),d=S.style.display;V.style.display="none";mb(c,e,G);V.style.display=S.style.display="";(l=c!=N||e!=W||bc!=t.clientHeight+k)&&(bc=t.clientHeight+k);N=c;W=e;Qa=yb(s,c);bb.style.top=Qa*k+"px";t.clientHeight&&(R.style.height=s.height*k+2*y.offsetTop+"px");if(V.childNodes.length!=W-N)throw Error("BAD PATCH! "+JSON.stringify(G)+" size="+(W-N)+" nodes="+V.childNodes.length);
p.lineWrapping?h():(null==pa&&(pa=zb(oa)),pa>t.clientWidth?(y.style.width=pa+"px",R.style.width="",R.style.width=t.scrollWidth+"px"):y.style.width=R.style.width="");S.style.display=d;(l||ca)&&Ab()&&p.lineWrapping&&h()&&Ab();cc();if(!b&&p.onUpdate)p.onUpdate(K);return!0}}}else N=W=Qa=0}function Xa(a,b){for(var h=0,e=b.length||0;h<e;++h){for(var c=b[h],f=[],d=c.diff||0,l=0,m=a.length;l<m;++l){var k=a[l];c.to<=k.from&&c.diff?f.push({from:k.from+d,to:k.to+d,domStart:k.domStart}):c.to<=k.from||c.from>=
k.to?f.push(k):(c.from>k.from&&f.push({from:k.from,to:c.from,domStart:k.domStart}),c.to<k.to&&f.push({from:c.to+d,to:k.to+d,domStart:k.domStart+(c.to-k.from)}))}a=f}return a}function mb(a,b,h){if(h.length){for(var c=function(a){var g=a.nextSibling;a.parentNode.removeChild(a);return g},e=0,f=V.firstChild,d=0;d<h.length;++d){for(var l=h[d];l.domStart>e;)f=c(f),e++;for(var k=0,l=l.to-l.from;k<l;++k)f=f.nextSibling,e++}for(;f;)f=c(f)}else V.innerHTML="";var m=h.shift(),f=V.firstChild,k=a,p=document.createElement("div");
s.iter(a,b,function(a){m&&m.to==k&&(m=h.shift());if(!m||m.from>k){if(a.hidden)var g=p.innerHTML="<pre></pre>";else g="<pre"+(a.className?' class="'+a.className+'"':"")+">"+a.getHTML(dc)+"</pre>",a.bgClassName&&(g='<div style="position: relative"><pre class="'+a.bgClassName+'" style="position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2">&#160;</pre>'+g+"</div>");p.innerHTML=g;V.insertBefore(p.firstChild,f)}else f=f.nextSibling;++k})}function Ab(){if(p.gutter||p.lineNumbers){var a=
bb.offsetHeight,b=t.clientHeight;S.style.height=(2>a-b?b:a)+"px";var h=[],c=N,e;s.iter(N,Math.max(W,N+1),function(a){if(a.hidden)h.push("<pre></pre>");else{var g=a.gutterMarker,b=p.lineNumbers?c+p.firstLineNumber:null;g&&g.text?b=g.text.replace("%N%",null!=b?b:""):null==b&&(b="\u00a0");h.push(g&&g.style?'<pre class="'+g.style+'">':"<pre>",b);for(b=1;b<a.height;++b)h.push("<br/>&#160;");h.push("</pre>");g||(e=c)}++c});S.style.display="none";Ra.innerHTML=h.join("");if(null!=e){for(var a=Ra.childNodes[e-
N],b=String(s.size).length,f=a.textContent||a.innerText||a.nodeValue||"",d="";f.length+d.length<b;)d+="\u00a0";d&&a.insertBefore(document.createTextNode(d),a.firstChild)}S.style.display="";a=2<Math.abs((parseInt(y.style.marginLeft)||0)-S.offsetWidth);y.style.marginLeft=S.offsetWidth+"px";ca=!1;return a}}function cc(){var a=F(m.from,m.to),b=ka(m.from,!0),h=a?b:ka(m.to,!0),c=m.inverted?b:h,e=qa(),f=ya(H),d=ya(V);za.style.top=Math.max(0,Math.min(t.offsetHeight,c.y+d.top-f.top))+"px";za.style.left=Math.max(0,
Math.min(t.offsetWidth,c.x+d.left-f.left))+"px";if(a)T.style.top=c.y+"px",T.style.left=(p.lineWrapping?Math.min(c.x,y.offsetWidth):c.x)+"px",T.style.display="",cb.style.display="none";else{var a=function(a,g,b,h){l+='<div class="CodeMirror-selected" style="position: absolute; left: '+a+"px; top: "+g+"px; right: "+b+"px; height: "+h+'px"></div>'},c=b.y==h.y,l="",f=y.clientWidth||y.offsetWidth,d=y.clientHeight||y.offsetHeight;m.from.ch&&0<=b.y&&a(b.x,b.y,c?f-h.x:0,e);var b=Math.max(0,b.y+(m.from.ch?
e:0)),k=Math.min(h.y,d)-b;k>.2*e&&a(0,b,0,k);c&&m.from.ch||!(h.y<d-.5*e)||a(0,h.y,f-h.x,e);cb.innerHTML=l;T.style.display="none";cb.style.display=""}}function Xb(a){X=a?X||(m.inverted?m.to:m.from):null}function sa(a,b){var h=X&&I(X);h&&(fa(h,a)?a=h:fa(b,h)&&(b=h));Na(a,b);db=!0}function Na(a,b,h,c){eb=null;null==h&&(h=m.from.line,c=m.to.line);if(!F(m.from,a)||!F(m.to,b)){if(fa(b,a)){var f=b;b=a;a=f}a.line!=h&&((h=fb(a,h,m.from.ch))?a=h:Bb(a.line,!1));b.line!=c&&(b=fb(b,c,m.to.ch));F(a,b)?m.inverted=
!1:F(a,m.to)?m.inverted=!1:F(b,m.from)&&(m.inverted=!0);if(p.autoClearEmptyLines&&F(m.from,m.to)&&(m.inverted?a:b).line!=m.from.line&&m.from.line<s.size){var d=e(m.from.line);/^\s+$/.test(d.text)&&setTimeout(v(function(){if(d.parent&&/^\s+$/.test(d.text)){var a=Ca(d);ea("",{line:a,ch:0},{line:a,ch:d.text.length})}},10))}m.from=a;m.to=b;ta=!0}}function fb(a,b,h){function c(b){for(var ba=a.line+b,f=1==b?s.size:-1;ba!=f;){var d=e(ba);if(!d.hidden){b=a.ch;if(b>h||b>d.text.length)b=d.text.length;return{line:ba,
ch:b}}ba+=b}}return e(a.line).hidden?a.line>=b?c(1)||c(-1):c(-1)||c(1):a}function ua(a,b,h){a=I({line:a,ch:b||0});(h?sa:Na)(a,a)}function gb(a){return Math.max(0,Math.min(a,s.size-1))}function I(a){if(0>a.line)return{line:0,ch:0};if(a.line>=s.size)return{line:s.size-1,ch:e(s.size-1).text.length};var b=a.ch,h=e(a.line).text.length;return null==b||b>h?{line:a.line,ch:h}:0>b?{line:a.line,ch:0}:a}function Cb(a,b){function h(b){if(d==(0>a?0:l.text.length)){if(b=!b)a:{b=f+a;for(var h=0>a?-1:s.size;b!=h;b+=
a){var c=e(b);if(!c.hidden){f=b;l=c;b=!0;break a}}b=void 0}if(b)d=0>a?l.text.length:0;else return!1}else d+=a;return!0}var c=m.inverted?m.from:m.to,f=c.line,d=c.ch,l=e(f);if("char"==b)h();else if("column"==b)h(!0);else if("word"==b)for(c=!1;!(0>a)||h();){if(Db(l.text.charAt(d)))c=!0;else if(c){0>a&&(a=1,h());break}if(0<a&&!h())break}return{line:f,ch:d}}function ec(a){for(var b=e(a.line).text,h=a.ch,c=a.ch;0<h&&Db(b.charAt(h-1));)--h;for(;c<b.length&&Db(b.charAt(c));)++c;sa({line:a.line,ch:h},{line:a.line,
ch:c})}function Sb(a){sa({line:a,ch:0},I({line:a+1,ch:0}))}function hb(a,b){b||(b="add");if("smart"==b)if(M.indent)var h=ib(a);else b="prev";var c=e(a),f=c.indentation(p.tabSize),d=c.text.match(/^\s*/)[0],l;"prev"==b?l=a?e(a-1).indentation(p.tabSize):0:"smart"==b?l=M.indent(h,c.text.slice(d.length),c.text):"add"==b?l=f+p.indentUnit:"subtract"==b&&(l=f-p.indentUnit);l=Math.max(0,l);if(l-f){f="";h=0;if(p.indentWithTabs)for(c=Math.floor(l/p.tabSize);c;--c)h+=p.tabSize,f+="\t";for(;h<l;)++h,f+=" "}else{if(m.from.line!=
a&&m.to.line!=a)return;f=d}ea(f,{line:a,ch:0},{line:a,ch:d.length})}function fc(){M=d.getMode(p,p.mode);s.iter(0,s.size,function(a){a.stateAfter=null});da=[0];sb()}function Dc(a,b){if(p.lineWrapping){H.className+=" CodeMirror-wrap";var h=t.clientWidth/rb()-3;s.iter(0,s.size,function(a){if(!a.hidden){var g=Math.ceil(a.text.length/h)||1;1!=g&&f(a,g)}});y.style.width=R.style.width=""}else H.className=H.className.replace(" CodeMirror-wrap",""),pa=null,oa="",s.iter(0,s.size,function(a){1==a.height||a.hidden||
f(a,1);a.text.length>oa.length&&(oa=a.text)});$.push({from:0,to:s.size})}function dc(a){a=p.tabSize-a%p.tabSize;var b=gc[a];if(b)return b;for(var b='<span class="cm-tab">',h=0;h<a;++h)b+=" ";return gc[a]={html:b+"</span>",width:a}}function hc(){t.className=t.className.replace(/\s*cm-s-\w+/g,"")+p.theme.replace(/(^|\s)\s*/g," cm-s-")}function Eb(){this.set=[]}function Fb(a,b,h){function c(a,g,b,h){e(a).addMark(new J(g,b,h,f))}a=I(a);b=I(b);var f=new Eb;if(!fa(a,b))return f;if(a.line==b.line)c(a.line,
a.ch,b.ch,h);else{c(a.line,a.ch,null,h);for(var d=a.line+1,l=b.line;d<l;++d)c(d,null,null,h);c(b.line,null,b.ch,h)}$.push({from:a.line,to:b.line+1});return f}function ic(a,b){var h=a,c=a;"number"==typeof a?c=e(gb(a)):h=Ca(a);if(null!=h&&b(c,h))$.push({from:h,to:h+1});else return null;return c}function Bb(a,b){return ic(a,function(a,g){if(a.hidden!=b){a.hidden=b;f(a,b?0:1);var c=m.from.line,e=m.to.line;if(b&&(c==g||e==g)){c=c==g?fb({line:c,ch:0},c,0):m.from;e=e==g?fb({line:e,ch:0},e,0):m.to;if(!e)return;
Na(c,e)}return ca=!0}})}function zb(a){va.innerHTML="<pre><span>x</span></pre>";va.firstChild.firstChild.firstChild.nodeValue=a;return va.firstChild.firstChild.offsetWidth||10}function jc(a,b){if(0==b)return{top:0,left:0};var c="";p.lineWrapping&&(c=a.text.indexOf(" ",b+6),c=ga(a.text.slice(b+1,0>c?a.text.length:c+(xa?5:0))));va.innerHTML="<pre>"+a.getHTML(dc,b)+'<span id="CodeMirror-temp-'+kc+'">'+ga(a.text.charAt(b)||" ")+"</span>"+c+"</pre>";var c=document.getElementById("CodeMirror-temp-"+kc),
e=c.offsetTop,f=c.offsetLeft;xa&&0==e&&0==f&&(e=document.createElement("span"),e.innerHTML="x",c.parentNode.insertBefore(e,c.nextSibling),e=e.offsetTop);return{top:e,left:f}}function ka(a,b){var c,f=qa(),d=f*(yb(s,a.line)-(b?Qa:0));if(0==a.ch)c=0;else{var l=jc(e(a.line),a.ch);c=l.left;p.lineWrapping&&(d+=Math.max(0,l.top))}return{x:c,y:d,yBot:d+f}}function Gb(a,b){function c(a){a=jc(m,a);if(q){var g=Math.round(a.top/f);return Math.max(0,a.left+(g-r)*t.clientWidth)}return a.left}0>b&&(b=0);var f=qa(),
d=rb(),l=Qa+Math.floor(b/f),k=xb(s,l);if(k>=s.size)return{line:s.size-1,ch:e(s.size-1).text.length};var m=e(k),n=m.text,q=p.lineWrapping,r=q?l-yb(s,k):0;if(0>=a&&0==r)return{line:k,ch:0};for(var v=l=0,n=n.length,B=Math.min(n,Math.ceil((a+r*t.clientWidth*.9)/d));;){var u=c(B);if(u<=a&&B<n)B=Math.min(n,Math.ceil(1.2*B));else{d=u;n=B;break}}if(a>d)return{line:k,ch:n};B=Math.floor(.8*n);u=c(B);u<a&&(l=B,v=u);for(;;){if(1>=n-l)return{line:k,ch:d-a>a-v?l:n};B=Math.ceil((l+n)/2);u=c(B);u>a?(n=B,d=u):(l=
B,v=u)}}function qa(){if(null==Aa){Aa="<pre>";for(var a=0;49>a;++a)Aa+="x<br/>";Aa+="x</pre>"}a=V.clientHeight;if(a==lc)return Hb;lc=a;va.innerHTML=Aa;Hb=va.firstChild.offsetHeight/50||1;va.innerHTML="";return Hb}function rb(){if(t.clientWidth==mc)return nc;mc=t.clientWidth;return nc=zb("x")}function Ia(a,b){var c=ya(t,!0),e,f;try{e=a.clientX,f=a.clientY}catch(d){return null}if(!b&&(e-c.left>t.clientWidth||f-c.top>t.clientHeight))return null;c=ya(y,!0);return Gb(e-c.left,f-c.top)}function oc(a){function b(){var a=
Ja(D.value).join("\n");a!=d&&v(Ga)(a,"end");za.style.position="relative";D.style.cssText=f;pc&&(t.scrollTop=e);Ka=!1;Za(!0);$a()}var c=Ia(a),e=t.scrollTop;if(c&&!window.opera){(F(m.from,m.to)||fa(c,m.from)||!fa(c,m.to))&&v(ua)(c.line,c.ch);var f=D.style.cssText;za.style.position="absolute";D.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(a.clientY-5)+"px; left: "+(a.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";
Ka=!0;var d=D.value=Oa();ja();ac(D);if(jb){Sa(a);var l=C(window,"mouseup",function(){l();setTimeout(b,20)},!0)}else setTimeout(b,50)}}function Yb(){clearInterval(qb);var a=!0;T.style.visibility="";qb=setInterval(function(){T.style.visibility=(a=!a)?"":"hidden"},650)}function qc(a){function b(a,g,c){if(a.text){var e=a.styles;a=k?0:a.text.length-1;for(var h,f=k?0:e.length-2,d=k?e.length:-2;f!=d;f+=2*p){var l=e[f];if(null!=e[f+1]&&e[f+1]!=r)a+=p*l.length;else for(var ba=k?0:l.length-1,m=k?l.length:-1;ba!=
m;ba+=p,a+=p)if(a>=g&&a<c&&x.test(h=l.charAt(ba))){var n=Ib[h];if(">"==n.charAt(1)==k)u.push(h);else{if(u.pop()!=n.charAt(0))return{pos:a,match:!1};if(!u.length)return{pos:a,match:!0}}}}}}var c=m.inverted?m.from:m.to,f=e(c.line),d=c.ch-1,l=0<=d&&Ib[f.text.charAt(d)]||Ib[f.text.charAt(++d)];if(l){l.charAt(0);for(var k=">"==l.charAt(1),p=k?1:-1,n=f.styles,q=d+1,l=0,t=n.length;l<t;l+=2)if(0>=(q-=n[l].length)){var r=n[l+1];break}for(var u=[f.text.charAt(d)],x=/[(){}[\]]/,l=c.line,t=k?Math.min(l+100,s.size):
Math.max(-1,l-100);l!=t;l+=p){var f=e(l),y=l==c.line;if(y=b(f,y&&k?d+1:0,y&&!k?d:f.text.length))break}y||(y={pos:null,match:!1});var r=y.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",Fa=Fb({line:c.line,ch:d},{line:c.line,ch:d+1},r),Vb=null!=y.pos&&Fb({line:l,ch:y.pos},{line:l,ch:y.pos+1},r),c=v(function(){Fa.clear();Vb&&Vb.clear()});a?setTimeout(c,800):na=c}}function rc(a){var b,c,f=a;for(a-=40;f>a;--f){if(0==f)return 0;var d=e(f-1);if(d.stateAfter)return f;d=d.indentation(p.tabSize);
if(null==c||b>d)c=f-1,b=d}return c}function ib(a){var b=rc(a),c=b&&e(b-1).stateAfter,c=c?A(M,c):O(M);s.iter(b,a,function(a){a.highlight(M,c,p.tabSize);a.stateAfter=A(M,c)});b<a&&$.push({from:b,to:a});a<s.size&&!e(a).stateAfter&&da.push(a);return c}function Ac(a,b){var c=ib(a);s.iter(a,b,function(a){a.highlight(M,c,p.tabSize);a.stateAfter=A(M,c)})}function Ec(){for(var a=+new Date+p.workTime,b=da.length;da.length;){var c=e(N).stateAfter?da.pop():N;if(!(c>=s.size)){var f=rc(c),d=f&&e(f-1).stateAfter,
d=d?A(M,d):O(M),l=0,k=M.compareStates,m=!1,n=f,q=!1;s.iter(n,s.size,function(b){var e=b.stateAfter;if(+new Date>a)return da.push(n),sb(p.workDelay),m&&$.push({from:c,to:n+1}),q=!0;var f=b.highlight(M,d,p.tabSize);f&&(m=!0);b.stateAfter=A(M,d);if(k){if(e&&k(e,d))return!0}else if(!1!==f||!e)l=0;else if(3<++l&&(!M.indent||M.indent(e,"")==M.indent(d,"")))return!0;++n});if(q)return;m&&$.push({from:c,to:n+1})}}if(b&&p.onHighlightComplete)p.onHighlightComplete(K)}function sb(a){da.length&&Fc.set(a,v(Ec))}
function ub(){ma=db=Ma=null;$=[];ta=!1;La=[]}function vb(){var a=!1,b;ta&&(a=!wb());$.length?b=Ha($,!0):(ta&&cc(),ca&&Ab());a&&wb();ta&&(Cc(),Yb());Y&&!Ka&&(!0===ma||!1!==ma&&ta)&&Za(db);ta&&p.matchBrackets&&setTimeout(v(function(){na&&(na(),na=null);F(m.from,m.to)&&qc(!1)}),20);var c=Ma,a=La;if(ta&&p.onCursorActivity)p.onCursorActivity(K);if(c&&p.onChange&&K)p.onChange(K,c);for(c=0;c<a.length;++c)a[c](K);if(b&&p.onUpdate)p.onUpdate(K)}function v(a){return function(){sc++||ub();try{var b=a.apply(this,
arguments)}finally{--sc||vb()}return b}}var p={},Jb=d.defaults,Ta;for(Ta in Jb)Jb.hasOwnProperty(Ta)&&(p[Ta]=(b&&b.hasOwnProperty(Ta)?b:Jb)[Ta]);var H=document.createElement("div");H.className="CodeMirror"+(p.lineWrapping?" CodeMirror-wrap":"");H.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px; height: 1em" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative; z-index: 0"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden;"></div><pre class="CodeMirror-cursor">&#160;</pre><div style="position: relative; z-index: -1"></div><div></div></div></div></div></div></div>';
a.appendChild?a.appendChild(H):a(H);var za=H.firstChild,D=za.firstChild,t=H.lastChild,R=t.firstChild,bb=R.firstChild,S=bb.firstChild,Ra=S.firstChild,y=S.nextSibling.firstChild,va=y.firstChild,T=va.nextSibling,cb=T.nextSibling,V=cb.nextSibling;hc();Kb&&(D.style.width="0px");Lb||(y.draggable=!0);y.style.outline="none";null!=p.tabindex&&(D.tabIndex=p.tabindex);p.autofocus&&ja();p.gutter||p.lineNumbers||(S.style.display="none");Mb&&(za.style.height="1px",za.style.position="absolute");try{zb("x")}catch(Nb){throw Nb.message.match(/runtime/i)&&
(Nb=Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")),Nb;}var tb=new Ob,Fc=new Ob,qb,M,s=new ia([new q([new x("")])]),da,Y;fc();var m={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},X,kb,Ua,Pb=0,Qb,ab=!1,Ya=!1,ma,db,$,Ma,ta,Ka,ca,La,Qa=0,N=0,W=0,bc=0,na,oa="",pa,gc={};v(function(){l(p.value||"");ma=!1})();var Z=new Rb;C(t,"mousedown",v(function(a){function b(a){var g=Ia(a,!0);if(g&&!F(g,d)){Y||Da();d=g;sa(f,g);ma=!1;var c=Ba();if(g.line>=c.to||g.line<
c.from)l=setTimeout(v(function(){b(a)}),150)}}function c(a){clearTimeout(l);var b=Ia(a);b&&sa(f,b);L(a);ja();ma=!0;k();n()}Xb(U(a,"shiftKey"));for(var e=a.target||a.srcElement;e!=H;e=e.parentNode)if(e.parentNode==R&&e!=bb)return;for(e=a.target||a.srcElement;e!=H;e=e.parentNode)if(e.parentNode==Ra){if(p.onGutterClick)p.onGutterClick(K,Va(Ra.childNodes,e)+N,a);return L(a)}var f=Ia(a);switch(tc(a)){case 3:jb&&!ob&&oc(a);return;case 2:f&&ua(f.line,f.ch,!0);return}if(f){Y||Da();e=+new Date;if(Ua&&Ua.time>
e-400&&F(Ua.pos,f))return L(a),setTimeout(ja,20),Sb(f.line);if(kb&&kb.time>e-400&&F(kb.pos,f))return Ua={time:e,pos:f},L(a),ec(f);kb={time:e,pos:f};var d=f,l;if(!Gc||p.readOnly||F(m.from,m.to)||fa(f,m.from)||fa(m.to,f)){L(a);ua(f.line,f.ch,!0);var k=C(document,"mousemove",v(function(a){clearTimeout(l);L(a);xa||tc(a)?b(a):c(a)}),!0),n=C(document,"mouseup",v(c),!0)}else{Lb&&(y.draggable=!0);var n=C(document,"mouseup",v(function(b){Lb&&(y.draggable=!1);Qb=!1;n();10>Math.abs(a.clientX-b.clientX)+Math.abs(a.clientY-
b.clientY)&&(L(b),ua(f.line,f.ch,!0),ja())}),!0);Qb=!0;y.dragDrop&&y.dragDrop()}}else(a.target||a.srcElement)==t&&L(a)}));C(t,"dblclick",v(function(a){for(var b=a.target||a.srcElement;b!=H;b=b.parentNode)if(b.parentNode==Ra)return L(a);if(b=Ia(a))Ua={time:+new Date,pos:b},L(a),ec(b)}));C(y,"dragstart",function(a){var b=Oa();a.dataTransfer.setData("Text",b);if(jb||Hc)b=document.createElement("img"),b.scr="data:image/gif;base64,R0lGODdhAgACAIAAAAAAAP///ywAAAAAAgACAAACAoRRADs=",a.dataTransfer.setDragImage(b,
0,0)});C(y,"selectstart",L);jb||C(t,"contextmenu",oc);C(t,"scroll",function(){Pb=t.scrollTop;Ha([]);p.fixedGutter&&(S.style.left=t.scrollLeft+"px");if(p.onScroll)p.onScroll(K)});C(D,"keyup",v(function(a){if(p.onKeyUpEvent)p.onKeyUpEvent(K,a);16==U(a,"keyCode")&&(X=null)}));C(D,"input",Pa);C(D,"keydown",v(E));C(D,"keypress",v(function(a){Ea&&Fa();var b=U(a,"keyCode"),c=U(a,"charCode");window.opera&&b==nb?(nb=null,L(a)):(window.opera&&!a.which||Mb)&&u(a)||(b=String.fromCharCode(null==c?b:c),p.electricChars&&
M.electricChars&&p.smartIndent&&!p.readOnly&&-1<M.electricChars.indexOf(b)&&setTimeout(v(function(){hb(m.to.line,"smart")}),75),xc(a,b)||Pa())}));C(D,"focus",Da);C(D,"blur",pb);C(t,"dragenter",Sa);C(t,"dragover",Sa);C(t,"drop",v(function(a){a.preventDefault();var b=Ia(a,!0),c=a.dataTransfer.files;if(b&&!p.readOnly)if(c&&c.length&&window.FileReader&&window.File){a=function(a,c){var g=new FileReader;g.onload=function(){f[c]=g.result;++d==e&&(b=I(b),v(function(){var a=ea(f.join(""),b,b);sa(b,a)})())};
g.readAsText(a)};for(var e=c.length,f=Array(e),d=0,l=0;l<e;++l)a(c[l],l)}else try{if(f=a.dataTransfer.getData("Text")){var l=m.from,k=m.to;sa(b,b);Qb&&ea("",l,k);Ga(f);ja()}}catch(n){}}));C(t,"paste",function(){ja();Pa()});C(D,"paste",Pa);C(D,"cut",v(function(a){if(!p.readOnly){var b=document.getElementById("hiddeninput");b&&(b.value=Oa());Ga("");setTimeout(function(){var a=document.getElementById("hiddeninput");a&&a.value&&(a.select(),document.execCommand("copy"))},5)}a.preventDefault?(a.preventDefault(),
a.stopPropagation()):(a.returnValue=!1,a.cancelBubble=!0)}));Mb&&C(R,"mouseup",function(){document.activeElement==D&&D.blur();ja()});var uc;try{uc=document.activeElement==D}catch(Ic){}uc||p.autofocus?setTimeout(Da,20):pb();var K=H.CodeMirror={getValue:function(a){var b=[];s.iter(0,s.size,function(a){b.push(a.text)});return b.join("\n")},setValue:v(l),getSelection:Oa,replaceSelection:v(Ga),focus:function(){window.focus();ja();Da();Pa()},setOption:function(a,b){var c=p[a];p[a]=b;"mode"==a||"indentUnit"==
a?fc():"readOnly"==a&&"nocursor"==b?(pb(),D.blur()):"readOnly"!=a||b?"theme"==a?hc():"lineWrapping"==a&&c!=b?v(Dc)():"tabSize"==a&&Ha(!0):Za(!0);if("lineNumbers"==a||"gutter"==a||"firstLineNumber"==a||"theme"==a)c=p.gutter||p.lineNumbers,S.style.display=c?"":"none",c?ca=!0:V.parentNode.style.marginLeft=0,Ha(!0)},getOption:function(a){return p[a]},undo:v(function(){Zb(Z.done,Z.undone)}),redo:v(function(){Zb(Z.undone,Z.done)}),indentLine:v(function(a,b){"string"!=typeof b&&(b=null==b?p.smartIndent?
"smart":"prev":b?"add":"subtract");c(a)&&hb(a,b)}),indentSelection:v(function(a){if(F(m.from,m.to))return hb(m.from.line,a);for(var b=m.to.line-(m.to.ch?0:1),c=m.from.line;c<=b;++c)hb(c,a)}),historySize:function(){return{undo:Z.done.length,redo:Z.undone.length}},clearHistory:function(){Z=new Rb},matchBrackets:v(function(){qc(!0)}),getTokenAt:v(function(a,b){a=I(a);var c=ib(a.line);c.acmode=b;return e(a.line).getTokenAt(M,c,a.ch)}),getStateAfter:function(a){a=gb(null==a?s.size-1:a);return ib(a+1)},
cursorCoords:function(a,b){null==a&&(a=m.inverted);return this.charCoords(a?m.from:m.to,b)},charCoords:function(a,b){a=I(a);if("local"==b)return ka(a,!1);if("div"==b)return ka(a,!0);var c=ka(a,!0),e=ya(y);return{x:e.left+c.x,y:e.top+c.y,yBot:e.top+c.yBot}},coordsChar:function(a){var b=ya(y);return Gb(a.x-b.left,a.y-b.top)},markText:v(Fb),setBookmark:function(a){a=I(a);var b=new z(a.ch);e(a.line).addMark(b);return b},findMarksAt:function(a){a=I(a);var b=[],c=e(a.line).marked;if(!c)return b;for(var f=
0,d=c.length;f<d;++f){var l=c[f];(null==l.from||l.from<=a.ch)&&(null==l.to||l.to>=a.ch)&&b.push(l.marker||l)}return b},setMarker:v(function(a,b,c){"number"==typeof a&&(a=e(gb(a)));a.gutterMarker={text:b,style:c};ca=!0;return a}),clearMarker:v(function(a){"number"==typeof a&&(a=e(gb(a)));a.gutterMarker=null;ca=!0}),setLineClass:v(function(a,b,c){return ic(a,function(a){if(a.className!=b||a.bgClassName!=c)return a.className=b,a.bgClassName=c,!0})}),hideLine:v(function(a){return Bb(a,!0)}),showLine:v(function(a){return Bb(a,
!1)}),onDeleteLine:function(a,b){if("number"==typeof a){if(!c(a))return null;a=e(a)}(a.handlers||(a.handlers=[])).push(b);return a},lineInfo:function(a){if("number"==typeof a){if(!c(a))return null;var b=a;a=e(a);if(!a)return null}else if(b=Ca(a),null==b)return null;var f=a.gutterMarker;return{line:b,handle:a,text:a.text,markerText:f&&f.text,markerClass:f&&f.style,lineClass:a.className,bgClass:a.bgClassName}},addWidget:function(a,b,c,e,f){a=ka(I(a));var d=a.yBot,l=a.x;b.style.position="absolute";R.appendChild(b);
if("over"==e)d=a.y;else if("near"==e){e=Math.max(t.offsetHeight,s.height*qa());var k=Math.max(R.clientWidth,y.clientWidth)-y.offsetLeft;a.yBot+b.offsetHeight>e&&a.y>b.offsetHeight&&(d=a.y-b.offsetHeight);l+b.offsetWidth>k&&(l=k-b.offsetWidth)}b.style.top=d+y.offsetTop+"px";b.style.left=b.style.right="";"right"==f?(l=R.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==f?l=0:"middle"==f&&(l=(R.clientWidth-b.offsetWidth)/2),b.style.left=l+y.offsetLeft+"px");c&&la(l,d,l+b.offsetWidth,d+b.offsetHeight)},
lineCount:function(){return s.size},clipPos:I,getCursor:function(a){null==a&&(a=m.inverted);a=a?m.from:m.to;return{line:a.line,ch:a.ch}},somethingSelected:function(){return!F(m.from,m.to)},setCursor:v(function(a,b,c){null==b&&"number"==typeof a.line?ua(a.line,a.ch,c):ua(a,b,c)}),scrollCursorIntoView2:function(){wb()},setSelection:v(function(a,b,c){(c?sa:Na)(I(a),I(b||a))}),getLine:function(a){if(c(a))return e(a).text},getLineHandle:function(a){if(c(a))return e(a)},setLine:v(function(a,b){c(a)&&ea(b,
{line:a,ch:0},{line:a,ch:e(a).text.length})}),removeLine:v(function(a){c(a)&&ea("",{line:a,ch:0},I({line:a+1,ch:0}))}),replaceRange:v(ea),getRange:function(a,b){return ha(I(a),I(b))},triggerOnKeyDown:v(E),execCommand:function(a){return Ub[a](K)},moveH:v(function(a,b){var c=0>a?m.from:m.to;if(X||F(m.from,m.to))c=Cb(a,b);ua(c.line,c.ch,!0)}),deleteH:v(function(a,b){F(m.from,m.to)?0>a?ea("",Cb(a,b),m.to):ea("",m.from,Cb(a,b)):ea("",m.from,m.to);db=!0}),moveV:v(function(a,b){var c=0,e=ka(m.inverted?m.from:
m.to,!0);null!=eb&&(e.x=eb);"page"==b?c=Math.min(t.clientHeight,window.innerHeight||document.documentElement.clientHeight):"line"==b&&(c=qa());c=Gb(e.x,e.y+c*a+2);"page"==b&&(t.scrollTop+=ka(c,!0).y-e.y);ua(c.line,c.ch,!0);eb=e.x}),toggleOverwrite:function(){ab?(ab=!1,T.className=T.className.replace(" CodeMirror-overwrite","")):(ab=!0,T.className+=" CodeMirror-overwrite")},posFromIndex:function(a){var b=0,c;s.iter(0,s.size,function(e){e=e.text.length+1;if(e>a)return c=a,!0;a-=e;++b});return I({line:b,
ch:c})},indexFromPos:function(a){if(0>a.line||0>a.ch)return 0;var b=a.ch;s.iter(0,a.line,function(a){b+=a.text.length+1});return b},scrollTo:function(a,b){null!=a&&(t.scrollLeft=a);null!=b&&(t.scrollTop=b);Ha([])},operation:function(a){return v(a)()},refresh:function(){Ha(!0);t.scrollHeight>Pb&&(t.scrollTop=Pb)},getInputField:function(){return D},getWrapperElement:function(){return H},getScrollerElement:function(){return t},getGutterElement:function(){return S}},nb=null,Wb,Ea=!1,ra="",eb=null;Eb.prototype.clear=
v(function(){for(var a=Infinity,b=-Infinity,c=0,e=this.set.length;c<e;++c){var f=this.set[c],d=f.marked;if(d&&f.parent)for(f=Ca(f),a=Math.min(a,f),b=Math.max(b,f),f=0;f<d.length;++f)d[f].marker==this&&d.splice(f--,1)}Infinity!=a&&$.push({from:a,to:b+1})});Eb.prototype.find=function(){for(var a,b,c=0,e=this.set.length;c<e;++c)for(var f=this.set[c],d=f.marked,l=0;l<d.length;++l){var k=d[l];if(k.marker==this&&(null!=k.from||null!=k.to)){var m=Ca(f);null!=m&&(null!=k.from&&(a={line:m,ch:k.from}),null!=
k.to&&(b={line:m,ch:k.to}))}}return{from:a,to:b}};var kc=Math.floor(16777215*Math.random()).toString(16),Hb,lc,Aa,nc,mc=0,Ib={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},sc=0,Wa;for(Wa in lb)lb.propertyIsEnumerable(Wa)&&!K.propertyIsEnumerable(Wa)&&(K[Wa]=lb[Wa]);return K}function n(a){return"string"==typeof a?aa[a]:a}function r(a,b,c,e){function f(b){b=n(b);var c=b[a];if(null!=c&&e(c))return!0;if(b.catchall)return e(b.catchall);b=b.fallthrough;if(null==b)return!1;if("[object Array]"!=
Object.prototype.toString.call(b))return f(b);for(var c=0,d=b.length;c<d;++c)if(f(b[c]))return!0;return!1}return b&&f(b)?!0:f(c)}function w(a){a=wa[U(a,"keyCode")];return"Ctrl"==a||"Alt"==a||"Shift"==a||"Mod"==a}function A(a,b){if(!0===b)return b;if(a.copyState)return a.copyState(b);var c={},e;for(e in b){var f=b[e];f instanceof Array&&(f=f.concat([]));c[e]=f}return c}function O(a,b,c){return a.startState?a.startState(b,c):!0}function E(a,b){this.pos=this.start=0;this.string=a;this.tabSize=b||8}function J(a,
b,c,e){this.from=a;this.to=b;this.style=c;this.marker=e}function z(a){this.to=this.from=a;this.line=null}function x(a,b){this.styles=b||[a,null];this.text=a;this.height=1;this.stateAfter=this.parent=this.hidden=this.marked=this.gutterMarker=this.className=this.bgClassName=this.handlers=null}function u(a,b,c,e){for(var f=0,d=0,k=0;d<b;f+=2){var n=c[f],q=d+n.length;0==k?(q>a&&e.push(n.slice(a-d,Math.min(n.length,b-d)),c[f+1]),q>=a&&(k=1)):1==k&&(q>b?e.push(n.slice(0,b-d),c[f+1]):e.push(n,c[f+1]));d=
q}}function q(a){this.lines=a;this.parent=null;for(var b=0,c=a.length,e=0;b<c;++b)a[b].parent=this,e+=a[b].height;this.height=e}function ia(a){this.children=a;for(var b=0,c=0,e=0,f=a.length;e<f;++e){var d=a[e],b=b+d.chunkSize(),c=c+d.height;d.parent=this}this.size=b;this.height=c;this.parent=null}function Ca(a){if(null==a.parent)return null;var b=a.parent;a=Va(b.lines,a);for(var c=b.parent;c;b=c,c=c.parent)for(var e=0;c.children[e]!=b;++e)a+=c.children[e].chunkSize();return a}function xb(a,b){var c=
0;a:do{for(var e=0,f=a.children.length;e<f;++e){var d=a.children[e],k=d.height;if(b<k){a=d;continue a}b-=k;c+=d.chunkSize()}return c}while(!a.lines);e=0;for(f=a.lines.length;e<f;++e){d=a.lines[e].height;if(b<d)break;b-=d}return c+e}function yb(a,b){var c=0;a:do{for(var e=0,f=a.children.length;e<f;++e){var d=a.children[e],k=d.chunkSize();if(b<k){a=d;continue a}b-=k;c+=d.height}return c}while(!a.lines);for(e=0;e<b;++e)c+=a.lines[e].height;return c}function Rb(){this.time=0;this.done=[];this.undone=
[]}function Sb(){Sa(this)}function yc(a){a.stop||(a.stop=Sb);return a}function L(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function mb(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Sa(a){L(a);mb(a)}function tc(a){if(a.which)return a.which;if(a.button&1)return 1;if(a.button&2)return 3;if(a.button&4)return 2}function U(a,b){return a.override&&a.override.hasOwnProperty(b)?a.override[b]:a[b]}function C(a,b,c,e){if("function"==typeof a.addEventListener){if(a.addEventListener(b,
c,!1),e)return function(){a.removeEventListener(b,c,!1)}}else{var f=function(a){c(a||window.event)};a.attachEvent("on"+b,f);if(e)return function(){a.detachEvent("on"+b,f)}}}function Ob(){this.id=null}function Xa(a,b,c){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=a.length));for(var e=0,f=0;e<b;++e)"\t"==a.charAt(e)?f+=c-f%c:++f;return f}function ya(a,b){for(var c=a.ownerDocument.body,e=0,f=0,d=!1,k=a;k;k=k.offsetParent){var n=k.offsetLeft,q=k.offsetTop;k==c?(e+=Math.abs(n),f+=Math.abs(q)):(e+=n,
f+=q);if(n=b)n=k.currentStyle?k.currentStyle:window.getComputedStyle(k,null),n="fixed"==n.position;n&&(d=!0)}c=b&&!d?null:c;for(k=a.parentNode;k!=c;k=k.parentNode)null!=k.scrollLeft&&(e-=k.scrollLeft,f-=k.scrollTop);return{left:e,top:f}}function ac(a){Kb?(a.selectionStart=0,a.selectionEnd=a.value.length):a.select()}function F(a,b){return a.line==b.line&&a.ch==b.ch}function fa(a,b){return a.line<b.line||a.line==b.line&&a.ch<b.ch}function ga(a){ha.textContent=a;return ha.innerHTML}function zc(a,b){if(!b)return 0;
if(!a)return b.length;for(var c=a.length,e=b.length;0<=c&&0<=e&&a.charAt(c)==b.charAt(e);--c,--e);return e+1}function Va(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,e=a.length;c<e;++c)if(a[c]==b)return c;return-1}function Db(a){return/\w/.test(a)||a.toUpperCase()!=a.toLowerCase()}d.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,smartIndent:!0,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,autoClearEmptyLines:!1,onKeyEvent:null,onKeyUpEvent:null,lineWrapping:!1,
lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,autofocus:null};var Kb=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),ob=Kb||/Mac/.test(navigator.platform);/Win/.test(navigator.platform);var Ba=d.modes={},la=d.mimeModes={};d.defineMode=
function(a,b){d.defaults.mode||"null"==a||(d.defaults.mode=a);Ba[a]=b};d.defineMIME=function(a,b){la[a]=b};d.resolveMode=function(a){if("string"==typeof a&&la.hasOwnProperty(a))a=la[a];else if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return d.resolveMode("application/xml");return"string"==typeof a?{name:a}:a||{name:"null"}};d.getMode=function(a,b){b=d.resolveMode(b);var c=Ba[b.name];return c?c(a,b):(window.console&&console.warn("No mode "+b.name+" found, falling back to plain text."),
d.getMode(a,"text/plain"))};d.listModes=function(){var a=[],b;for(b in Ba)Ba.propertyIsEnumerable(b)&&a.push(b);return a};d.listMIMEs=function(){var a=[],b;for(b in la)la.propertyIsEnumerable(b)&&a.push({mime:b,mode:la[b]});return a};var lb=d.extensions={};d.defineExtension=function(a,b){lb[a]=b};var Ub=d.commands={selectAll:function(a){a.setSelection({line:0,ch:0},{line:a.lineCount()-1})},killLine:function(a){var b=a.getCursor(!0),c=a.getCursor(!1),e=!F(b,c);e||a.getLine(b.line).length!=b.ch?a.replaceRange("",
b,e?c:{line:b.line}):a.replaceRange("",b,{line:b.line+1,ch:0})},deleteLine:function(a){var b=a.getCursor().line;a.replaceRange("",{line:b,ch:0},{line:b})},undo:function(a){a.undo()},redo:function(a){a.redo()},goDocStart:function(a){a.setCursor(0,0,!0)},goDocEnd:function(a){a.setSelection({line:a.lineCount()-1},null,!0)},goLineStart:function(a){a.setCursor(a.getCursor().line,0,!0)},goLineStartSmart:function(a){var b=a.getCursor(),c=a.getLine(b.line),c=Math.max(0,c.search(/\S/));a.setCursor(b.line,
b.ch<=c&&b.ch?0:c,!0)},goLineEnd:function(a){a.setSelection({line:a.getCursor().line},null,!0)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goWordRight:function(a){a.moveH(1,
"word")},delCharLeft:function(a){a.deleteH(-1,"char")},delCharRight:function(a){a.deleteH(1,"char")},delWordLeft:function(a){a.deleteH(-1,"word")},delWordRight:function(a){a.deleteH(1,"word")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("\t","end")},transposeChars:function(a){var b=a.getCursor(),c=a.getLine(b.line);0<b.ch&&b.ch<c.length-1&&a.replaceRange(c.charAt(b.ch)+
c.charAt(b.ch-1),{line:b.line,ch:b.ch-1},{line:b.line,ch:b.ch+1})},newlineAndIndent:function(a){a.replaceSelection("\n","end");a.indentLine(a.getCursor().line)},toggleOverwrite:function(a){a.toggleOverwrite()}},aa=d.keyMap={};aa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"insertTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};
aa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess",
"Ctrl-]":"indentMore",fallthrough:"basic"};aa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace",
"Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]};aa["default"]=ob?aa.macDefault:aa.pcDefault;aa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine",
"Ctrl-T":"transposeChars"};d.fromTextArea=function(a,b){function c(){a.value=k.getValue()}b||(b={});b.value=a.value;!b.tabindex&&a.tabindex&&(b.tabindex=a.tabindex);null==b.autofocus&&null!=a.getAttribute("autofocus")&&(b.autofocus=!0);if(a.form){var e=C(a.form,"submit",c,!0);if("function"==typeof a.form.submit){var f=function(){c();a.form.submit=l;a.form.submit();a.form.submit=f},l=a.form.submit;a.form.submit=f}}a.style.display="none";var k=d(function(b){a.parentNode.insertBefore(b,a.nextSibling)},
b);k.save=c;k.getTextArea=function(){return a};k.toTextArea=function(){c();a.parentNode.removeChild(k.getWrapperElement());a.style.display="";a.form&&(e(),"function"==typeof a.form.submit&&(a.form.submit=l))};return k};d.copyState=A;d.startState=O;E.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(a){var b=
this.string.charAt(this.pos);if("string"==typeof a?b==a:b&&(a.test?a.test(b):a(b)))return++this.pos,b},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){a=this.string.indexOf(a,this.pos);if(-1<a)return this.pos=a,!0},backUp:function(a){this.pos-=a},column:function(){return Xa(this.string,this.start,
this.tabSize)},indentation:function(){return Xa(this.string,null,this.tabSize)},match:function(a,b,c){if("string"==typeof a){var e=function(a){return c?a.toLowerCase():a};if(e(this.string).indexOf(e(a),this.pos)==this.pos)return!1!==b&&(this.pos+=a.length),!0}else return(a=this.string.slice(this.pos).match(a))&&!1!==b&&(this.pos+=a[0].length),a},current:function(){return this.string.slice(this.start,this.pos)}};d.StringStream=E;J.prototype={attach:function(a){this.marker.set.push(a)},detach:function(a){a=
Va(this.marker.set,a);-1<a&&this.marker.set.splice(a,1)},split:function(a,b){return this.to<=a&&null!=this.to?null:new J(this.from<a||null==this.from?null:this.from-a+b,null==this.to?null:this.to-a+b,this.style,this.marker)},dup:function(){return new J(null,null,this.style,this.marker)},clipTo:function(a,b,c,e,f){a&&e>this.from&&(e<this.to||null==this.to)?this.from=null:null!=this.from&&this.from>=b&&(this.from=Math.max(e,this.from)+f);c&&(b<this.to||null==this.to)&&(b>this.from||null==this.from)?
this.to=null:null!=this.to&&this.to>b&&(this.to=e<this.to?this.to+f:b)},isDead:function(){return null!=this.from&&null!=this.to&&this.from>=this.to},sameSet:function(a){return this.marker==a.marker}};z.prototype={attach:function(a){this.line=a},detach:function(a){this.line==a&&(this.line=null)},split:function(a,b){if(a<this.from)return this.from=this.to=this.from-a+b,this},isDead:function(){return this.from>this.to},clipTo:function(a,b,c,e,f){(a||b<this.from)&&(c||e>this.to)?(this.from=0,this.to=
-1):this.from>b&&(this.from=this.to=Math.max(e,this.from)+f)},sameSet:function(a){return!1},find:function(){return this.line&&this.line.parent?{line:Ca(this.line),ch:this.from}:null},clear:function(){if(this.line){var a=Va(this.line.marked,this);-1!=a&&this.line.marked.splice(a,1);this.line=null}}};x.inheritMarks=function(a,b){var c=new x(a),e=b&&b.marked;if(e)for(var f=0;f<e.length;++f)if(null==e[f].to&&e[f].style){var d=c.marked||(c.marked=[]),k=e[f].dup();d.push(k);k.attach(c)}return c};x.prototype=
{replace:function(a,b,c){var e=[],f=this.marked,d=null==b?this.text.length:b;u(0,a,this.styles,e);c&&e.push(c,null);u(d,this.text.length,this.styles,e);this.styles=e;this.text=this.text.slice(0,a)+c+this.text.slice(d);this.stateAfter=null;if(f)for(c=c.length-(d-a),e=0;e<f.length;++e){var k=f[e];k.clipTo(null==a,a||0,null==b,d,c);k.isDead()&&(k.detach(this),f.splice(e--,1))}},split:function(a,b){var c=[b,null],e=this.marked;u(a,this.text.length,this.styles,c);c=new x(b+this.text.slice(a),c);if(e)for(var f=
0;f<e.length;++f){var d=e[f],k=d.split(a,b.length);k&&(c.marked||(c.marked=[]),c.marked.push(k),k.attach(c),k==d&&e.splice(f--,1))}return c},append:function(a){var b=this.text.length,c=a.marked,e=this.marked;this.text+=a.text;u(0,a.text.length,a.styles,this.styles);if(e)for(a=0;a<e.length;++a)null==e[a].to&&(e[a].to=b);if(c&&c.length)a:for(e||(this.marked=e=[]),a=0;a<c.length;++a){var f=c[a];if(!f.from)for(var d=0;d<e.length;++d){var k=e[d];if(k.to==b&&k.sameSet(f)){k.to=null==f.to?null:f.to+b;k.isDead()&&
(k.detach(this),c.splice(a--,1));continue a}}e.push(f);f.attach(this);f.from+=b;null!=f.to&&(f.to+=b)}},fixMarkEnds:function(a){var b=this.marked;a=a.marked;if(b)for(var c=0;c<b.length;++c){var e=b[c],f=null==e.to;if(f&&a)for(var d=0;d<a.length;++d)if(a[d].sameSet(e)){f=!1;break}f&&(e.to=this.text.length)}},fixMarkStarts:function(){var a=this.marked;if(a)for(var b=0;b<a.length;++b)null==a[b].from&&(a[b].from=0)},addMark:function(a){a.attach(this);null==this.marked&&(this.marked=[]);this.marked.push(a);
this.marked.sort(function(a,c){return(a.from||0)-(c.from||0)})},highlight:function(a,b,c){c=new E(this.text,c);var e=this.styles,f=0,d=!1,k=e[0],n;for(""==this.text&&a.blankLine&&a.blankLine(b);!c.eol();){var q=a.token(c,b),r=this.text.slice(c.start,c.pos);c.start=c.pos;f&&e[f-1]==q?e[f-2]+=r:r&&(!d&&(e[f+1]!=q||f&&e[f-2]!=n)&&(d=!0),e[f++]=r,e[f++]=q,n=k,k=e[f]);if(5E3<c.pos){e[f++]=this.text.slice(c.pos);e[f++]=null;break}}e.length!=f&&(e.length=f,d=!0);f&&e[f-2]!=n&&(d=!0);return d||(5>e.length&&
10>this.text.length?null:!1)},getTokenAt:function(a,b,c){for(var e=new E(this.text);e.pos<c&&!e.eol();){e.start=e.pos;var f=a.token(e,b)}return{start:e.start,end:e.pos,string:e.current(),className:f||null,state:b}},indentation:function(a){return Xa(this.text,null,a)},getHTML:function(a,b){function c(b,c){if(b){d&&xa&&" "==b.charAt(0)&&(b="\u00a0"+b.slice(1));d=!1;if(-1==b.indexOf("\t")){k+=b.length;var e=ga(b)}else for(var e="",n=0;;){var q=b.indexOf("\t",n);if(-1==q){e+=ga(b.slice(n));k+=b.length-
n;break}else{k+=q-n;var r=a(k),e=e+(ga(b.slice(n,q))+r.html);k+=r.width;n=q+1}}c?f.push('<span class="',c,'">',e,"</span>"):f.push(e)}}function e(a){return a?"cm-"+a.replace(/ +/g," cm-"):null}var f=[],d=!0,k=0,n=this.styles,q=this.text,r=this.marked,u=q.length;null!=b&&(u=Math.min(b,u));if(q||null!=b)if(r&&r.length)for(var x=function(){for(var a;A<r.length&&((a=r[A]).from==J||null==a.from);)null!=a.style&&w.push(a),++A;C=A<r.length?r[A].from:Infinity;for(a=0;a<w.length;++a){var b=w[a].to||Infinity;
b==J?w.splice(a--,1):C=Math.min(b,C)}},J=0,q=0,z="",C=r[0].from||0,w=[],A=0;J<u;){C==J&&x();for(var E=Math.min(u,C);;){if(z){for(var F=J+z.length,ia=O,L=0;L<w.length;++L)ia=(ia?ia+" ":"")+w[L].style;c(F>E?z.slice(0,E-J):z,ia);if(F>=E){z=z.slice(E-J);J=E;break}J=F}z=n[q++];O=e(n[q++])}}else for(x=q=0;x<u;q+=2){var z=n[q],O=n[q+1],E=z.length;x+E>u&&(z=z.slice(0,u-x));x+=E;c(z,e(O))}else c(" ");return f.join("")},cleanUp:function(){this.parent=null;if(this.marked)for(var a=0,b=this.marked.length;a<b;++a)this.marked[a].detach(this)}};
q.prototype={chunkSize:function(){return this.lines.length},remove:function(a,b,c){for(var e=a,f=a+b;e<f;++e){var d=this.lines[e];this.height-=d.height;d.cleanUp();if(d.handlers)for(var k=0;k<d.handlers.length;++k)c.push(d.handlers[k])}this.lines.splice(a,b)},collapse:function(a){a.splice.apply(a,[a.length,0].concat(this.lines))},insertHeight:function(a,b,c){this.height+=c;this.lines.splice.apply(this.lines,[a,0].concat(b));a=0;for(c=b.length;a<c;++a)b[a].parent=this},iterN:function(a,b,c){for(b=
a+b;a<b;++a)if(c(this.lines[a]))return!0}};ia.prototype={chunkSize:function(){return this.size},remove:function(a,b,c){this.size-=b;for(var e=0;e<this.children.length;++e){var f=this.children[e],d=f.chunkSize();if(a<d){var k=Math.min(b,d-a),n=f.height;f.remove(a,k,c);this.height-=n-f.height;d==k&&(this.children.splice(e--,1),f.parent=null);if(0==(b-=k))break;a=0}else a-=d}25>this.size-b&&(a=[],this.collapse(a),this.children=[new q(a)],this.children[0].parent=this)},collapse:function(a){for(var b=
0,c=this.children.length;b<c;++b)this.children[b].collapse(a)},insert:function(a,b){for(var c=0,e=0,f=b.length;e<f;++e)c+=b[e].height;this.insertHeight(a,b,c)},insertHeight:function(a,b,c){this.size+=b.length;this.height+=c;for(var e=0,f=this.children.length;e<f;++e){var d=this.children[e],k=d.chunkSize();if(a<=k){d.insertHeight(a,b,c);if(d.lines&&50<d.lines.length){for(;50<d.lines.length;)a=d.lines.splice(d.lines.length-25,25),a=new q(a),d.height-=a.height,this.children.splice(e+1,0,a),a.parent=
this;this.maybeSpill()}break}a-=k}},maybeSpill:function(){if(!(10>=this.children.length)){var a=this;do{var b=a.children.splice(a.children.length-5,5),b=new ia(b);if(a.parent){a.size-=b.size;a.height-=b.height;var c=Va(a.parent.children,a);a.parent.children.splice(c+1,0,b)}else c=new ia(a.children),c.parent=a,a.children=[c,b],a=c;b.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}},iter:function(a,b,c){this.iterN(a,b-a,c)},iterN:function(a,b,c){for(var e=0,d=this.children.length;e<
d;++e){var l=this.children[e],k=l.chunkSize();if(a<k){k=Math.min(b,k-a);if(l.iterN(a,k,c))return!0;if(0==(b-=k))break;a=0}else a-=k}}};Rb.prototype={addChange:function(a,b,c){this.undone.length=0;var e=+new Date,d=this.done[this.done.length-1],l=d&&d[d.length-1];if(400<e-this.time||!l)this.done.push([{start:a,added:b,old:c}]);else if(l.start>a+c.length||l.start+l.added<a-l.added+l.old.length)d.push({start:a,added:b,old:c});else{d=0;if(a<l.start){for(d=l.start-a-1;0<=d;--d)l.old.unshift(c[d]);d=Math.min(0,
b-c.length);l.added+=l.start-a+d;l.start=a}else l.start<a&&(d=a-l.start,b+=d);d=l.added-d;for(a=c.length;d<a;++d)l.old.push(c[d]);l.added<b&&(l.added=b)}this.time=e}};d.e_stop=Sa;d.e_preventDefault=L;d.e_stopPropagation=mb;d.connect=C;Ob.prototype={set:function(a,b){clearTimeout(this.id);this.id=setTimeout(b,a)}};var wc=d.Pass={toString:function(){return"CodeMirror.Pass"}},jb=/gecko\/\d{7}/i.test(navigator.userAgent),xa=/MSIE \d/.test(navigator.userAgent),pc=/MSIE [1-8]\b/.test(navigator.userAgent),
Lb=/WebKit\//.test(navigator.userAgent),Hc=/Chrome\//.test(navigator.userAgent),Mb=/KHTML\//.test(navigator.userAgent),Gc=function(){if(pc)return!1;var a=document.createElement("div");return"draggable"in a||"dragDrop"in a}();(function(){var a=document.createElement("textarea");a.value="foo\nbar";a.value.indexOf("\r")})();null!=document.documentElement.getBoundingClientRect&&(ya=function(a,b){try{var c=a.getBoundingClientRect(),c={top:c.top,left:c.left}}catch(e){c={top:0,left:0}}if(!b)if(null==window.pageYOffset){var d=
document.documentElement||document.body.parentNode;null==d.scrollTop&&(d=document.body);c.top+=d.scrollTop;c.left+=d.scrollLeft}else c.top+=window.pageYOffset,c.left+=window.pageXOffset;return c});var ha=document.createElement("pre");"\na"==ga("a")?ga=function(a){ha.textContent=a;return ha.innerHTML.slice(1)}:"\t"!=ga("\t")&&(ga=function(a){ha.innerHTML="";ha.appendChild(document.createTextNode(a));return ha.innerHTML});d.htmlEscape=ga;var Ja=3!="\n\nb".split(/\n/).length?function(a){for(var b=0,
c,e=[];-1<(c=a.indexOf("\n",b));)e.push(a.slice(b,"\r"==a.charAt(c-1)?c-1:c)),b=c+1;e.push(a.slice(b));return e}:function(a){return a.split(/\r?\n/)};d.splitLines=Ja;var Bc=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return b&&b.parentElement()==a?0!=b.compareEndPoints("StartToEnd",b):!1};d.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}});d.defineMIME("text/plain",
"null");var wa={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",
63302:"Insert",63272:"Delete"};d.keyNames=wa;(function(){for(var a=0;10>a;a++)wa[a+48]=String(a);for(a=65;90>=a;a++)wa[a]=String.fromCharCode(a);for(a=1;12>=a;a++)wa[a+111]=wa[a+63235]="F"+a})();return d}();
(function(){function d(d,r,w,A){this.atOccurrence=!1;this.cm=d;null==A&&(A="string"==typeof r&&r==r.toLowerCase());w=w?d.clipPos(w):{line:0,ch:0};this.pos={from:w,to:w};if("string"!=typeof r)this.matches=function(J,z){if(J)for(var x=d.getLine(z.line).slice(0,z.ch),u=x.match(r),q=0;u;){var w=x.indexOf(u[0]),q=q+w,x=x.slice(w+1);if(w=x.match(r))u=w;else break;q++}else x=d.getLine(z.line).slice(z.ch),q=(u=x.match(r))&&z.ch+x.indexOf(u[0]);if(u)return{from:{line:z.line,ch:q},to:{line:z.line,ch:q+u[0].length},
match:u}};else{A&&(r=r.toLowerCase());var O=A?function(d){return d.toLowerCase()}:function(d){return d},E=r.split("\n");this.matches=1==E.length?function(w,z){var x=O(d.getLine(z.line)),u=r.length,q;if(w?z.ch>=u&&-1!=(q=x.lastIndexOf(r,z.ch-u)):-1!=(q=x.indexOf(r,z.ch)))return{from:{line:z.line,ch:q},to:{line:z.line,ch:q+u}}}:function(r,z){var x=z.line,u=r?E.length-1:0,q=E[u],w=O(d.getLine(x)),A=r?w.indexOf(q)+q.length:w.lastIndexOf(q);if(!(r?A>=z.ch||A!=q.length:A<=z.ch||A!=w.length-q.length))for(;r?
x:x!=d.lineCount()-1;){w=O(d.getLine(x+=r?-1:1));q=E[r?--u:++u];if(0<u&&u<E.length-1)if(w!=q)break;else continue;u=r?w.lastIndexOf(q):w.indexOf(q)+q.length;if(r?u!=w.length-q.length:u!=q.length)break;q={line:z.line,ch:A};x={line:x,ch:u};return{from:r?x:q,to:r?q:x}}}}}d.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(d){function r(d){d={line:d,ch:0};w.pos={from:d,to:d};return w.atOccurrence=!1}for(var w=this,A=this.cm.clipPos(d?this.pos.from:
this.pos.to);;){if(this.pos=this.matches(d,A))return this.atOccurrence=!0,this.pos.match||!0;if(d){if(!A.line)return r(0);A={line:A.line-1,ch:this.cm.getLine(A.line-1).length}}else{var O=this.cm.lineCount();if(A.line==O-1)return r(O);A={line:A.line+1,ch:0}}}},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(d){this.atOccurrence&&(this.pos.to=this.cm.replaceRange(d,this.pos.from,this.pos.to))}};CodeMirror.defineExtension("getSearchCursor",
function(n,r,w){return new d(this,n,r,w)})})();