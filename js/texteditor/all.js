function setCookie(d,n,r){r||(r=15768E7);path="/";domain=document.domain;secure=!1;var x=new Date;x.setTime(x.getTime());x=new Date(x.getTime()+r);document.cookie=d+"="+escape(n)+(r?";expires="+x.toGMTString():"")+(path?";path="+path:"")+(domain?";domain="+domain:"")+(secure?";secure":"")}
function getCookie(d){d+="=";for(var n=0;n<=document.cookie.length;){var r=n+d.length;if(document.cookie.substring(n,r)==d)return-1==(endOfCookie=document.cookie.indexOf(";",r))&&(endOfCookie=document.cookie.length),unescape(document.cookie.substring(r,endOfCookie));n=document.cookie.indexOf(" ",n)+1;if(0==n)break}return""}function _getid(d){return document.getElementById(d)}function trim(d){return d.replace(/^\s*|\s*$/g,"")}
function html_entity_encode(d){d=d.replace(/&/gi,"&amp;");d=d.replace(/>/gi,"&gt;");d=d.replace(/</gi,"&lt;");d=d.replace(/\"/gi,"&quot;");return d=d.replace(/\'/gi,"&#039;")}function shortstring(d,n){d||(d="");d.length>n&&(d=d.substr(0,n)+"...");return d}function cutstringmiddle(d,n,r,x){if(d.length<=n)return d;n=d.substr(0,r);d=d.substr(d.length-x,d.length);return n+"....."+d}var messagetimer=null;
function show_message(d,n,r,x,B){function P(){var d=0;if("number"==typeof window.innerWidth)d=window.innerWidth;else var d=document.documentElement.clientWidth,n=document.body.clientWidth,d=0<d?d:n;d||(d=0);return d}function F(){var d=0;if("number"==typeof window.innerHeight)d=window.innerHeight;else var d=document.documentElement.clientHeight,n=document.body.clientHeight,d=0<d?d:n;d||(d=0);return d}function K(){var d;document.body&&document.body.scrollLeft?d=document.body.scrollLeft:document.documentElement&&
document.documentElement.scrollLeft&&(d=document.documentElement.scrollLeft);d||(d=0);return d}function A(){var d;document.body&&document.body.scrollTop?d=document.body.scrollTop:document.documentElement&&document.documentElement.scrollTop&&(d=document.documentElement.scrollTop);d||(d=0);return d}n||(n=10);r||(r=10);x||(x=5);B||(B=2E3);for(var y=1,v=1;4>=v;v++){var q="layer_message";1<v&&(q="layer_message"+v);if(q=document.getElementById(q)){y=v;break}}q.style.left="1px";q.style.top="1px";q.innerHTML=
"<label>"+d+"</label>";q.style.display="";1==y?(n=K()+n,r=A()+r):2==y?(n=K()+(P()-q.clientWidth)/2,r=A()+(F()-q.clientHeight)/2):(n=3==y?document.body.offsetWidth-q.clientWidth-5:K()+(P()-q.clientWidth)/2,r=A()+r);n=parseInt(n);r=parseInt(r);q.style.border="1px solid #000000";q.style.padding=x+"px";q.style.left=n+"px";q.style.top=r+"px";messagetimer&&clearTimeout(messagetimer);messagetimer=setTimeout(hide_message,B)}
function hide_message(){for(var d=1;4>=d;d++){var n="layer_message";1<d&&(n="layer_message"+d);if(n=document.getElementById(n))n.style.display="none"}}
var gecount=0,CodeMirror=function(){function d(a,b){function c(g){return 0<=g&&g<t.size}function e(g){for(var a=t;!a.lines;)for(var k=0;;++k){var b=a.children[k],e=b.chunkSize();if(g<e){a=b;break}g-=e}return a.lines[g]}function f(g,a){ea=!0;for(var k=a-g.height,b=g;b;b=b.parent)b.height+=k}function l(g){var a={line:0,ch:0};Wb(a,{line:t.size-1,ch:e(t.size-1).text.length},La(g),a,a);oa=!0}function h(g,a){if("string"==typeof g&&(g=Xb[g],!g))return!1;var k=Z;try{p.readOnly&&(Za=!0),a&&(Z=null),g(L)}catch(b){if(b!=
zc)throw b;return!1}finally{Z=k,Za=!1}return!0}function v(g){var a=n(p.keyMap),k=a.auto;clearTimeout(Zb);k&&!x(g)&&(Zb=setTimeout(function(){n(p.keyMap)==a&&(p.keyMap=k.call?k.call(null,L):k)},50));var b=ya[V(g,"keyCode")],e=!1;if(null==b||g.altGraphKey)return!1;V(g,"altKey")&&(b="Alt-"+b);V(g,"ctrlKey")&&(b="Ctrl-"+b);V(g,"metaKey")&&(b="Cmd-"+b);if(e=V(g,"shiftKey")?r("Shift-"+b,p.extraKeys,p.keyMap,function(g){return h(g,!0)})||r(b,p.extraKeys,p.keyMap,function(g){if("string"==typeof g&&/^go[A-Z]/.test(g))return h(g)}):
r(b,p.extraKeys,p.keyMap,h))M(g),za&&(g.oldKeyCode=g.keyCode,g.keyCode=0);return e}function Ac(g,a){var k=r("'"+a+"'",p.extraKeys,p.keyMap,h);k&&M(g);return k}function F(g){aa||Fa();za&&27==g.keyCode&&(g.returnValue=!1);Ga&&Ha()&&(Ga=!1);if(!p.onKeyEvent||!p.onKeyEvent(L,Bc(g))){var a=V(g,"keyCode");$b(16==a||V(g,"shiftKey"));var k=v(g);window.opera&&(qb=k?a:null,!k&&88==a&&V(g,rb?"metaKey":"ctrlKey")&&Ia(""))}}function Fa(){if("nocursor"!=p.readOnly){if(!aa){if(p.onFocus)p.onFocus(L);aa=!0;-1==I.className.search(/\bCodeMirror-focused\b/)&&
(I.className+=" CodeMirror-focused");Ma||$a(!0)}ab();ac()}}function sb(){if(aa){if(p.onBlur)p.onBlur(L);aa=!1;pa&&w(function(){pa&&(pa(),pa=null)})();I.className=I.className.replace(" CodeMirror-focused","")}clearInterval(tb);setTimeout(function(){aa||(Z=null)},150)}function Wb(g,a,k,b,e){if(!Za){if(W){var c=[];t.iter(g.line,a.line+1,function(g){c.push(g.text)});for(W.addChange(g.line,k.length,c);W.done.length>p.undoDepth;)W.done.shift()}ca(g,a,k,b,e)}}function bc(g,a){if(g.length){for(var k=g.pop(),
b=[],c=k.length-1;0<=c;--c){var H=k[c],f=[],l=H.start+H.added;t.iter(H.start,l,function(g){f.push(g.text)});b.push({start:H.start,added:H.old.length,old:f,time:H.time});var d=J({line:H.start+H.old.length-1,ch:Cc(f[f.length-1],H.old[H.old.length-1])});ca({line:H.start,ch:0},{line:l-1,ch:e(l-1).text.length},H.old,d,d)}oa=!0;a.push(b)}}function ca(g,a,k,b,c){function H(g){return g<=Math.min(a.line,a.line+r)?g:g+r}if(!Za){var l=!1,d=qa.length;p.lineWrapping||t.iter(g.line,a.line,function(g){if(g.text.length==
d)return l=!0});if(g.line!=a.line||1<k.length)ea=!0;var h=a.line-g.line,Q=e(g.line),n=e(a.line);if(0==g.ch&&0==a.ch&&""==k[k.length-1]){var R=[],Q=null;g.line?(Q=e(g.line-1),Q.fixMarkEnds(n)):n.fixMarkStarts();for(var C=0,q=k.length-1;C<q;++C)R.push(y.inheritMarks(k[C],Q));h&&t.remove(g.line,h,Na);R.length&&t.insert(g.line,R)}else if(Q==n)if(1==k.length)Q.replace(g.ch,a.ch,k[0]);else{n=Q.split(a.ch,k[k.length-1]);Q.replace(g.ch,null,k[0]);Q.fixMarkEnds(n);R=[];C=1;for(q=k.length-1;C<q;++C)R.push(y.inheritMarks(k[C],
Q));R.push(n);t.insert(g.line+1,R)}else if(1==k.length)Q.replace(g.ch,null,k[0]),n.replace(null,a.ch,""),Q.append(n),t.remove(g.line+1,h,Na);else{R=[];Q.replace(g.ch,null,k[0]);n.replace(null,a.ch,k[k.length-1]);Q.fixMarkEnds(n);C=1;for(q=k.length-1;C<q;++C)R.push(y.inheritMarks(k[C],Q));1<h&&t.remove(g.line+1,h-1,Na);t.insert(g.line+1,R)}if(p.lineWrapping){var w=u.clientWidth/ub()-3;t.iter(g.line,g.line+k.length,function(g){if(!g.hidden){var a=Math.ceil(g.text.length/w)||1;a!=g.height&&f(g,a)}})}else t.iter(g.line,
C+k.length,function(g){g=g.text;g.length>d&&(qa=g,d=g.length,ra=null,l=!1)}),l&&(d=0,qa="",ra=null,t.iter(0,t.size,function(g){g=g.text;g.length>d&&(d=g.length,qa=g)}));for(var n=[],r=k.length-h-1,C=0,h=fa.length;C<h;++C)R=fa[C],R<g.line?n.push(R):R>a.line&&n.push(R+r);C=g.line+Math.min(k.length,500);Dc(g.line,C);n.push(C);fa=n;vb(100);ba.push({from:g.line,to:a.line+1,diff:r});g={from:g,to:a,text:k};if(Oa){for(k=Oa;k.next;k=k.next);k.next=g}else Oa=g;Pa(b,c,H(m.from.line),H(m.to.line));u.clientHeight&&
(S.style.height=t.height*sa()+2*z.offsetTop+"px")}}function ga(g,a,k){function b(c){if(ha(c,a))return c;if(!ha(k,c))return e;var yc=c.line+g.length-(k.line-a.line)-1,f=c.ch;c.line==k.line&&(f+=g[g.length-1].length-(k.ch-(k.line==a.line?a.ch:0)));return{line:yc,ch:f}}a=J(a);k=k?J(k):a;g=La(g);var e;cc(g,a,k,function(g){e=g;return{from:b(m.from),to:b(m.to)}});return e}function Ia(g,a){cc(La(g),m.from,m.to,function(g){return"end"==a?{from:g,to:g}:"start"==a?{from:m.from,to:m.from}:{from:m.from,to:g}})}
function cc(g,a,k,b){b=b({line:a.line+g.length-1,ch:1==g.length?g[0].length+a.ch:g[g.length-1].length});Wb(a,k,g,b.from,b.to)}function ja(g,a){var b=g.line,c=a.line;if(b==c)return e(b).text.slice(g.ch,a.ch);var pb=[e(b).text.slice(g.ch)];t.iter(b+1,c,function(g){pb.push(g.text)});pb.push(e(c).text.slice(0,a.ch));return pb.join("\n")}function bb(){return ja(m.from,m.to)}function ab(){Ga||wb.set(p.pollInterval,function(){xb();Ha();aa&&ab();yb()})}function Qa(){function g(){xb();Ha()||a?(Ga=!1,ab()):
(a=!0,wb.set(60,g));yb()}var a=!1;Ga=!0;wb.set(20,g)}function Ha(){if(Ma||!aa||Ec(E)||p.readOnly)return!1;var g=E.value;if(g==ta)return!1;Z=null;for(var a=0,b=Math.min(ta.length,g.length);a<b&&ta[a]==g[a];)++a;a<ta.length?m.from={line:m.from.line,ch:m.from.ch-(ta.length-a)}:cb&&G(m.from,m.to)&&(m.to={line:m.to.line,ch:Math.min(e(m.to.line).text.length,m.to.ch+(g.length-a))});Ia(g.slice(a),"end");ta=g;return!0}function $a(g){G(m.from,m.to)?g&&(ta=E.value=""):(ta="",E.value=bb(),dc(E))}function la(){"nocursor"!=
p.readOnly&&E.focus()}function Fc(){if(U.getBoundingClientRect){var g=U.getBoundingClientRect();if(!za||g.top!=g.bottom){var a=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(0>g.top||g.bottom>a)&&U.scrollIntoView()}}}function zb(){var g=ma(m.inverted?m.from:m.to),a=p.lineWrapping?Math.min(g.x,z.offsetWidth):g.x;return na(a,g.y,a,g.yBot)}function na(g,a,b,e){var c=z.offsetLeft,f=z.offsetTop;a+=f;e+=f;g+=c;b+=c;var d=u.clientHeight,l=u.scrollTop,c=!1,
f=!0;a<l?(u.scrollTop=Math.max(0,a),c=!0):e>l+d&&(u.scrollTop=e-d,c=!0);a=u.clientWidth;e=u.scrollLeft;d=p.fixedGutter?T.clientWidth:0;g<e+d?(50>g&&(g=0),u.scrollLeft=Math.max(0,g-10-d),c=!0):b>a+e-3&&(u.scrollLeft=b+10-a,c=!0,b>S.clientWidth&&(f=!1));if(c&&p.onScroll)p.onScroll(L);return f}function Da(){var a=sa(),b=u.scrollTop-z.offsetTop,k=Math.max(0,Math.floor(b/a)),a=Math.ceil((b+u.clientHeight)/a);return{from:Ab(t,k),to:Ab(t,a)}}function Ja(a,b){function k(){ra=u.clientWidth;var a=X.firstChild,
g=!1;t.iter(O,Y,function(b){if(!b.hidden){var k=Math.round(a.offsetHeight/h)||1;b.height!=k&&(f(b,k),ea=g=!0)}a=a.nextSibling});g&&(S.style.height=t.height*h+2*z.offsetTop+"px");return g}if(u.clientWidth){var e=Da();if(!(!0!==a&&0==a.length&&e.from>O&&e.to<Y)){var c=Math.max(e.from-100,0),e=Math.min(t.size,e.to+100);O<c&&20>c-O&&(c=O);Y>e&&20>Y-e&&(e=Math.min(t.size,Y));for(var H=!0===a?[]:Ya([{from:O,to:Y,domStart:0}],a),d=0,l=0;l<H.length;++l){var m=H[l];m.from<c&&(m.domStart+=c-m.from,m.from=c);
m.to>e&&(m.to=e);m.from>=m.to?H.splice(l--,1):d+=m.to-m.from}if(d!=e-c){H.sort(function(a,g){return a.domStart-g.domStart});var h=sa(),d=T.style.display;X.style.display="none";ob(c,e,H);X.style.display=T.style.display="";(l=c!=O||e!=Y||ec!=u.clientHeight+h)&&(ec=u.clientHeight+h);O=c;Y=e;Ra=Bb(t,c);db.style.top=Ra*h+"px";u.clientHeight&&(S.style.height=t.height*h+2*z.offsetTop+"px");if(X.childNodes.length!=Y-O)throw Error("BAD PATCH! "+JSON.stringify(H)+" size="+(Y-O)+" nodes="+X.childNodes.length);
p.lineWrapping?k():(null==ra&&(ra=Cb(qa)),ra>u.clientWidth?(z.style.width=ra+"px",S.style.width="",S.style.width=u.scrollWidth+"px"):z.style.width=S.style.width="");T.style.display=d;(l||ea)&&Db()&&p.lineWrapping&&k()&&Db();fc();if(!b&&p.onUpdate)p.onUpdate(L);return!0}}}else O=Y=Ra=0}function Ya(a,b){for(var k=0,e=b.length||0;k<e;++k){for(var c=b[k],f=[],d=c.diff||0,l=0,m=a.length;l<m;++l){var h=a[l];c.to<=h.from&&c.diff?f.push({from:h.from+d,to:h.to+d,domStart:h.domStart}):c.to<=h.from||c.from>=
h.to?f.push(h):(c.from>h.from&&f.push({from:h.from,to:c.from,domStart:h.domStart}),c.to<h.to&&f.push({from:c.to+d,to:h.to+d,domStart:h.domStart+(c.to-h.from)}))}a=f}return a}function ob(a,b,k){if(k.length){for(var c=function(a){var g=a.nextSibling;a.parentNode.removeChild(a);return g},e=0,f=X.firstChild,d=0;d<k.length;++d){for(var l=k[d];l.domStart>e;)f=c(f),e++;for(var h=0,l=l.to-l.from;h<l;++h)f=f.nextSibling,e++}for(;f;)f=c(f)}else X.innerHTML="";var m=k.shift(),f=X.firstChild,h=a,p=document.createElement("div");
t.iter(a,b,function(a){m&&m.to==h&&(m=k.shift());if(!m||m.from>h){if(a.hidden)var g=p.innerHTML="<pre></pre>";else g="<pre"+(a.className?' class="'+a.className+'"':"")+">"+a.getHTML(gc)+"</pre>",a.bgClassName&&(g='<div style="position: relative"><pre class="'+a.bgClassName+'" style="position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2">&#160;</pre>'+g+"</div>");p.innerHTML=g;X.insertBefore(p.firstChild,f)}else f=f.nextSibling;++h})}function Db(){if(p.gutter||p.lineNumbers){var a=
db.offsetHeight,b=u.clientHeight;T.style.height=(2>a-b?b:a)+"px";var k=[],c=O,e;t.iter(O,Math.max(Y,O+1),function(a){if(a.hidden)k.push("<pre></pre>");else{var g=a.gutterMarker,b=p.lineNumbers?c+p.firstLineNumber:null;g&&g.text?b=g.text.replace("%N%",null!=b?b:""):null==b&&(b="\u00a0");k.push(g&&g.style?'<pre class="'+g.style+'">':"<pre>",b);for(b=1;b<a.height;++b)k.push("<br/>&#160;");k.push("</pre>");g||(e=c)}++c});T.style.display="none";Sa.innerHTML=k.join("");if(null!=e){for(var a=Sa.childNodes[e-
O],b=String(t.size).length,f=a.textContent||a.innerText||a.nodeValue||"",d="";f.length+d.length<b;)d+="\u00a0";d&&a.insertBefore(document.createTextNode(d),a.firstChild)}T.style.display="";a=2<Math.abs((parseInt(z.style.marginLeft)||0)-T.offsetWidth);z.style.marginLeft=T.offsetWidth+"px";ea=!1;return a}}function fc(){var a=G(m.from,m.to),b=ma(m.from,!0),k=a?b:ma(m.to,!0),c=m.inverted?b:k,e=sa(),f=Aa(I),d=Aa(X);Ba.style.top=Math.max(0,Math.min(u.offsetHeight,c.y+d.top-f.top))+"px";Ba.style.left=Math.max(0,
Math.min(u.offsetWidth,c.x+d.left-f.left))+"px";if(a)U.style.top=c.y+"px",U.style.left=(p.lineWrapping?Math.min(c.x,z.offsetWidth):c.x)+"px",U.style.display="",eb.style.display="none";else{var a=function(a,g,b,k){l+='<div class="CodeMirror-selected" style="position: absolute; left: '+a+"px; top: "+g+"px; right: "+b+"px; height: "+k+'px"></div>'},c=b.y==k.y,l="",f=z.clientWidth||z.offsetWidth,d=z.clientHeight||z.offsetHeight;m.from.ch&&0<=b.y&&a(b.x,b.y,c?f-k.x:0,e);var b=Math.max(0,b.y+(m.from.ch?
e:0)),h=Math.min(k.y,d)-b;h>.2*e&&a(0,b,0,h);c&&m.from.ch||!(k.y<d-.5*e)||a(0,k.y,f-k.x,e);eb.innerHTML=l;U.style.display="none";eb.style.display=""}}function $b(a){Z=a?Z||(m.inverted?m.to:m.from):null}function ua(a,b){var k=Z&&J(Z);k&&(ha(k,a)?a=k:ha(b,k)&&(b=k));Pa(a,b);fb=!0}function Pa(a,b,k,c){gb=null;null==k&&(k=m.from.line,c=m.to.line);if(!G(m.from,a)||!G(m.to,b)){if(ha(b,a)){var f=b;b=a;a=f}a.line!=k&&((k=hb(a,k,m.from.ch))?a=k:Eb(a.line,!1));b.line!=c&&(b=hb(b,c,m.to.ch));G(a,b)?m.inverted=
!1:G(a,m.to)?m.inverted=!1:G(b,m.from)&&(m.inverted=!0);if(p.autoClearEmptyLines&&G(m.from,m.to)&&(m.inverted?a:b).line!=m.from.line&&m.from.line<t.size){var d=e(m.from.line);/^\s+$/.test(d.text)&&setTimeout(w(function(){if(d.parent&&/^\s+$/.test(d.text)){var a=Ea(d);ga("",{line:a,ch:0},{line:a,ch:d.text.length})}},10))}m.from=a;m.to=b;va=!0}}function hb(a,b,k){function c(b){for(var da=a.line+b,f=1==b?t.size:-1;da!=f;){var d=e(da);if(!d.hidden){b=a.ch;if(b>k||b>d.text.length)b=d.text.length;return{line:da,
ch:b}}da+=b}}return e(a.line).hidden?a.line>=b?c(1)||c(-1):c(-1)||c(1):a}function wa(a,b,k){a=J({line:a,ch:b||0});(k?ua:Pa)(a,a)}function ib(a){return Math.max(0,Math.min(a,t.size-1))}function J(a){if(0>a.line)return{line:0,ch:0};if(a.line>=t.size)return{line:t.size-1,ch:e(t.size-1).text.length};var b=a.ch,k=e(a.line).text.length;return null==b||b>k?{line:a.line,ch:k}:0>b?{line:a.line,ch:0}:a}function Fb(a,b){function k(b){if(d==(0>a?0:l.text.length)){if(b=!b)a:{b=f+a;for(var k=0>a?-1:t.size;b!=k;b+=
a){var c=e(b);if(!c.hidden){f=b;l=c;b=!0;break a}}b=void 0}if(b)d=0>a?l.text.length:0;else return!1}else d+=a;return!0}var c=m.inverted?m.from:m.to,f=c.line,d=c.ch,l=e(f);if("char"==b)k();else if("column"==b)k(!0);else if("word"==b)for(c=!1;!(0>a)||k();){if(Gb(l.text.charAt(d)))c=!0;else if(c){0>a&&(a=1,k());break}if(0<a&&!k())break}return{line:f,ch:d}}function hc(a){for(var b=e(a.line).text,k=a.ch,c=a.ch;0<k&&Gb(b.charAt(k-1));)--k;for(;c<b.length&&Gb(b.charAt(c));)++c;ua({line:a.line,ch:k},{line:a.line,
ch:c})}function Vb(a){ua({line:a,ch:0},J({line:a+1,ch:0}))}function jb(a,b){b||(b="add");if("smart"==b)if(N.indent)var k=kb(a);else b="prev";var c=e(a),f=c.indentation(p.tabSize),d=c.text.match(/^\s*/)[0],l;"prev"==b?l=a?e(a-1).indentation(p.tabSize):0:"smart"==b?l=N.indent(k,c.text.slice(d.length),c.text):"add"==b?l=f+p.indentUnit:"subtract"==b&&(l=f-p.indentUnit);l=Math.max(0,l);if(l-f){f="";k=0;if(p.indentWithTabs)for(c=Math.floor(l/p.tabSize);c;--c)k+=p.tabSize,f+="\t";for(;k<l;)++k,f+=" "}else{if(m.from.line!=
a&&m.to.line!=a)return;f=d}ga(f,{line:a,ch:0},{line:a,ch:d.length})}function ic(){N=d.getMode(p,p.mode);t.iter(0,t.size,function(a){a.stateAfter=null});fa=[0];vb()}function Gc(a,b){if(p.lineWrapping){I.className+=" CodeMirror-wrap";var k=u.clientWidth/ub()-3;t.iter(0,t.size,function(a){if(!a.hidden){var g=Math.ceil(a.text.length/k)||1;1!=g&&f(a,g)}});z.style.width=S.style.width=""}else I.className=I.className.replace(" CodeMirror-wrap",""),ra=null,qa="",t.iter(0,t.size,function(a){1==a.height||a.hidden||
f(a,1);a.text.length>qa.length&&(qa=a.text)});ba.push({from:0,to:t.size})}function gc(a){a=p.tabSize-a%p.tabSize;var b=jc[a];if(b)return b;for(var b='<span class="cm-tab">',k=0;k<a;++k)b+=" ";return jc[a]={html:b+"</span>",width:a}}function kc(){u.className=u.className.replace(/\s*cm-s-\w+/g,"")+p.theme.replace(/(^|\s)\s*/g," cm-s-")}function Hb(){this.set=[]}function Ib(a,b,k){function c(a,g,b,k){e(a).addMark(new K(g,b,k,f))}a=J(a);b=J(b);var f=new Hb;if(!ha(a,b))return f;if(a.line==b.line)c(a.line,
a.ch,b.ch,k);else{c(a.line,a.ch,null,k);for(var d=a.line+1,l=b.line;d<l;++d)c(d,null,null,k);c(b.line,null,b.ch,k)}ba.push({from:a.line,to:b.line+1});return f}function lc(a,b){var c=a,f=a;"number"==typeof a?f=e(ib(a)):c=Ea(a);if(null!=c&&b(f,c))ba.push({from:c,to:c+1});else return null;return f}function Eb(a,b){return lc(a,function(a,g){if(a.hidden!=b){a.hidden=b;f(a,b?0:1);var c=m.from.line,e=m.to.line;if(b&&(c==g||e==g)){c=c==g?hb({line:c,ch:0},c,0):m.from;e=e==g?hb({line:e,ch:0},e,0):m.to;if(!e)return;
Pa(c,e)}return ea=!0}})}function Cb(a){xa.innerHTML="<pre><span>x</span></pre>";xa.firstChild.firstChild.firstChild.nodeValue=a;return xa.firstChild.firstChild.offsetWidth||10}function mc(a,b){if(0==b)return{top:0,left:0};var c="";p.lineWrapping&&(c=a.text.indexOf(" ",b+6),c=ia(a.text.slice(b+1,0>c?a.text.length:c+(za?5:0))));xa.innerHTML="<pre>"+a.getHTML(gc,b)+'<span id="CodeMirror-temp-'+nc+'">'+ia(a.text.charAt(b)||" ")+"</span>"+c+"</pre>";var c=document.getElementById("CodeMirror-temp-"+nc),
e=c.offsetTop,f=c.offsetLeft;za&&0==e&&0==f&&(e=document.createElement("span"),e.innerHTML="x",c.parentNode.insertBefore(e,c.nextSibling),e=e.offsetTop);return{top:e,left:f}}function ma(a,b){var c,f=sa(),d=f*(Bb(t,a.line)-(b?Ra:0));if(0==a.ch)c=0;else{var l=mc(e(a.line),a.ch);c=l.left;p.lineWrapping&&(d+=Math.max(0,l.top))}return{x:c,y:d,yBot:d+f}}function Jb(a,b){function c(a){a=mc(m,a);if(q){var b=Math.round(a.top/f);return Math.max(0,a.left+(b-r)*u.clientWidth)}return a.left}0>b&&(b=0);var f=sa(),
d=ub(),l=Ra+Math.floor(b/f),h=Ab(t,l);if(h>=t.size)return{line:t.size-1,ch:e(t.size-1).text.length};var m=e(h),n=m.text,q=p.lineWrapping,r=q?l-Bb(t,h):0;if(0>=a&&0==r)return{line:h,ch:0};for(var w=l=0,n=n.length,C=Math.min(n,Math.ceil((a+r*u.clientWidth*.9)/d));;){var v=c(C);if(v<=a&&C<n)C=Math.min(n,Math.ceil(1.2*C));else{d=v;n=C;break}}if(a>d)return{line:h,ch:n};C=Math.floor(.8*n);v=c(C);v<a&&(l=C,w=v);for(;;){if(1>=n-l)return{line:h,ch:d-a>a-w?l:n};C=Math.ceil((l+n)/2);v=c(C);v>a?(n=C,d=v):(l=
C,w=v)}}function sa(){if(null==Ca){Ca="<pre>";for(var a=0;49>a;++a)Ca+="x<br/>";Ca+="x</pre>"}a=X.clientHeight;if(a==oc)return Kb;oc=a;xa.innerHTML=Ca;Kb=xa.firstChild.offsetHeight/50||1;xa.innerHTML="";return Kb}function ub(){if(u.clientWidth==pc)return qc;pc=u.clientWidth;return qc=Cb("x")}function Ka(a,b){var c=Aa(u,!0),e,f;try{e=a.clientX,f=a.clientY}catch(d){return null}if(!b&&(e-c.left>u.clientWidth||f-c.top>u.clientHeight))return null;c=Aa(z,!0);return Jb(e-c.left,f-c.top)}function rc(a){function b(){var a=
La(E.value).join("\n");a!=d&&w(Ia)(a,"end");Ba.style.position="relative";E.style.cssText=f;sc&&(u.scrollTop=e);Ma=!1;$a(!0);ab()}var c=Ka(a),e=u.scrollTop;if(c&&!window.opera){(G(m.from,m.to)||ha(c,m.from)||!ha(c,m.to))&&w(wa)(c.line,c.ch);var f=E.style.cssText;Ba.style.position="absolute";E.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(a.clientY-5)+"px; left: "+(a.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";
Ma=!0;var d=E.value=bb();la();dc(E);if(lb){Ta(a);var l=D(window,"mouseup",function(){l();setTimeout(b,20)},!0)}else setTimeout(b,50)}}function ac(){clearInterval(tb);var a=!0;U.style.visibility="";tb=setInterval(function(){U.style.visibility=(a=!a)?"":"hidden"},650)}function tc(a){function b(a,g,c){if(a.text){var e=a.styles;a=h?0:a.text.length-1;for(var k,f=h?0:e.length-2,d=h?e.length:-2;f!=d;f+=2*p){var l=e[f];if(null!=e[f+1]&&e[f+1]!=r)a+=p*l.length;else for(var da=h?0:l.length-1,m=h?l.length:-1;da!=
m;da+=p,a+=p)if(a>=g&&a<c&&y.test(k=l.charAt(da))){var n=Lb[k];if(">"==n.charAt(1)==h)v.push(k);else{if(v.pop()!=n.charAt(0))return{pos:a,match:!1};if(!v.length)return{pos:a,match:!0}}}}}}var c=m.inverted?m.from:m.to,f=e(c.line),d=c.ch-1,l=0<=d&&Lb[f.text.charAt(d)]||Lb[f.text.charAt(++d)];if(l){l.charAt(0);for(var h=">"==l.charAt(1),p=h?1:-1,n=f.styles,q=d+1,l=0,u=n.length;l<u;l+=2)if(0>=(q-=n[l].length)){var r=n[l+1];break}for(var v=[f.text.charAt(d)],y=/[(){}[\]]/,l=c.line,u=h?Math.min(l+100,t.size):
Math.max(-1,l-100);l!=u;l+=p){var f=e(l),z=l==c.line;if(z=b(f,z&&h?d+1:0,z&&!h?d:f.text.length))break}z||(z={pos:null,match:!1});var r=z.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",Ha=Ib({line:c.line,ch:d},{line:c.line,ch:d+1},r),Yb=null!=z.pos&&Ib({line:l,ch:z.pos},{line:l,ch:z.pos+1},r),c=w(function(){Ha.clear();Yb&&Yb.clear()});a?setTimeout(c,800):pa=c}}function uc(a){var b,c,f=a;for(a-=40;f>a;--f){if(0==f)return 0;var d=e(f-1);if(d.stateAfter)return f;d=d.indentation(p.tabSize);
if(null==c||b>d)c=f-1,b=d}return c}function kb(a){var b=uc(a),c=b&&e(b-1).stateAfter,c=c?B(N,c):P(N);t.iter(b,a,function(a){a.highlight(N,c,p.tabSize);a.stateAfter=B(N,c)});b<a&&ba.push({from:b,to:a});a<t.size&&!e(a).stateAfter&&fa.push(a);return c}function Dc(a,b){var c=kb(a);t.iter(a,b,function(a){a.highlight(N,c,p.tabSize);a.stateAfter=B(N,c)})}function Hc(){for(var a=+new Date+p.workTime,b=fa.length;fa.length;){var c=e(O).stateAfter?fa.pop():O;if(!(c>=t.size)){var f=uc(c),d=f&&e(f-1).stateAfter,
d=d?B(N,d):P(N),l=0,h=N.compareStates,m=!1,n=f,q=!1;t.iter(n,t.size,function(b){var e=b.stateAfter;if(+new Date>a)return fa.push(n),vb(p.workDelay),m&&ba.push({from:c,to:n+1}),q=!0;var f=b.highlight(N,d,p.tabSize);f&&(m=!0);b.stateAfter=B(N,d);if(h){if(e&&h(e,d))return!0}else if(!1!==f||!e)l=0;else if(3<++l&&(!N.indent||N.indent(e,"")==N.indent(d,"")))return!0;++n});if(q)return;m&&ba.push({from:c,to:n+1})}}if(b&&p.onHighlightComplete)p.onHighlightComplete(L)}function vb(a){fa.length&&Ic.set(a,w(Hc))}
function xb(){oa=fb=Oa=null;ba=[];va=!1;Na=[]}function yb(){var a=!1,b;va&&(a=!zb());ba.length?b=Ja(ba,!0):(va&&fc(),ea&&Db());a&&zb();va&&(Fc(),ac());aa&&!Ma&&(!0===oa||!1!==oa&&va)&&$a(fb);va&&p.matchBrackets&&setTimeout(w(function(){pa&&(pa(),pa=null);G(m.from,m.to)&&tc(!1)}),20);var c=Oa,a=Na;if(va&&p.onCursorActivity)p.onCursorActivity(L);if(c&&p.onChange&&L)p.onChange(L,c);for(c=0;c<a.length;++c)a[c](L);if(b&&p.onUpdate)p.onUpdate(L)}function w(a){return function(){vc++||xb();try{var b=a.apply(this,
arguments)}finally{--vc||yb()}return b}}var p={},Mb=d.defaults,Ua;for(Ua in Mb)Mb.hasOwnProperty(Ua)&&(p[Ua]=(b&&b.hasOwnProperty(Ua)?b:Mb)[Ua]);var I=document.createElement("div");I.className="CodeMirror"+(p.lineWrapping?" CodeMirror-wrap":"");I.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px; height: 1em" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative; z-index: 0"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden;"></div><pre class="CodeMirror-cursor">&#160;</pre><div style="position: relative; z-index: -1"></div><div></div></div></div></div></div></div>';
a.appendChild?a.appendChild(I):a(I);var Ba=I.firstChild,E=Ba.firstChild,u=I.lastChild,S=u.firstChild,db=S.firstChild,T=db.firstChild,Sa=T.firstChild,z=T.nextSibling.firstChild,xa=z.firstChild,U=xa.nextSibling,eb=U.nextSibling,X=eb.nextSibling;kc();Nb&&(E.style.width="0px");Ob||(z.draggable=!0);z.style.outline="none";null!=p.tabindex&&(E.tabIndex=p.tabindex);p.autofocus&&la();p.gutter||p.lineNumbers||(T.style.display="none");Pb&&(Ba.style.height="1px",Ba.style.position="absolute");try{Cb("x")}catch(Qb){throw Qb.message.match(/runtime/i)&&
(Qb=Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")),Qb;}var wb=new Rb,Ic=new Rb,tb,N,t=new ka([new q([new y("")])]),fa,aa;ic();var m={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},Z,mb,Va,Sb=0,Tb,cb=!1,Za=!1,oa,fb,ba,Oa,va,Ma,ea,Na,Ra=0,O=0,Y=0,ec=0,pa,qa="",ra,jc={};w(function(){l(p.value||"");oa=!1})();var W=new Ub;D(u,"mousedown",w(function(a){function b(a){var g=Ka(a,!0);if(g&&!G(g,d)){aa||Fa();d=g;ua(f,g);oa=!1;var c=Da();if(g.line>=c.to||
g.line<c.from)l=setTimeout(w(function(){b(a)}),150)}}function c(a){clearTimeout(l);var b=Ka(a);b&&ua(f,b);M(a);la();oa=!0;h();n()}$b(V(a,"shiftKey"));for(var e=a.target||a.srcElement;e!=I;e=e.parentNode)if(e.parentNode==S&&e!=db)return;for(e=a.target||a.srcElement;e!=I;e=e.parentNode)if(e.parentNode==Sa){if(p.onGutterClick)p.onGutterClick(L,Wa(Sa.childNodes,e)+O,a);return M(a)}var f=Ka(a);switch(wc(a)){case 3:lb&&!rb&&rc(a);return;case 2:f&&wa(f.line,f.ch,!0);return}if(f){aa||Fa();e=+new Date;if(Va&&
Va.time>e-400&&G(Va.pos,f))return M(a),setTimeout(la,20),Vb(f.line);if(mb&&mb.time>e-400&&G(mb.pos,f))return Va={time:e,pos:f},M(a),hc(f);mb={time:e,pos:f};var d=f,l;if(!Jc||p.readOnly||G(m.from,m.to)||ha(f,m.from)||ha(m.to,f)){M(a);wa(f.line,f.ch,!0);var h=D(document,"mousemove",w(function(a){clearTimeout(l);M(a);za||wc(a)?b(a):c(a)}),!0),n=D(document,"mouseup",w(c),!0)}else{Ob&&(z.draggable=!0);var n=D(document,"mouseup",w(function(b){Ob&&(z.draggable=!1);Tb=!1;n();10>Math.abs(a.clientX-b.clientX)+
Math.abs(a.clientY-b.clientY)&&(M(b),wa(f.line,f.ch,!0),la())}),!0);Tb=!0;z.dragDrop&&z.dragDrop()}}else(a.target||a.srcElement)==u&&M(a)}));D(u,"dblclick",w(function(a){for(var b=a.target||a.srcElement;b!=I;b=b.parentNode)if(b.parentNode==Sa)return M(a);if(b=Ka(a))Va={time:+new Date,pos:b},M(a),hc(b)}));D(z,"dragstart",function(a){var b=bb();a.dataTransfer.setData("Text",b);if(lb||Kc)b=document.createElement("img"),b.scr="data:image/gif;base64,R0lGODdhAgACAIAAAAAAAP///ywAAAAAAgACAAACAoRRADs=",a.dataTransfer.setDragImage(b,
0,0)});D(z,"selectstart",M);lb||D(u,"contextmenu",rc);D(u,"scroll",function(){Sb=u.scrollTop;Ja([]);p.fixedGutter&&(T.style.left=u.scrollLeft+"px");if(p.onScroll)p.onScroll(L)});D(E,"keyup",w(function(a){if(p.onKeyUpEvent)p.onKeyUpEvent(L,a);16==V(a,"keyCode")&&(Z=null)}));D(E,"input",Qa);D(E,"keydown",w(F));D(E,"keypress",w(function(a){Ga&&Ha();var b=V(a,"keyCode"),c=V(a,"charCode");window.opera&&b==qb?(qb=null,M(a)):(window.opera&&!a.which||Pb)&&v(a)||(b=String.fromCharCode(null==c?b:c),p.electricChars&&
N.electricChars&&p.smartIndent&&!p.readOnly&&-1<N.electricChars.indexOf(b)&&setTimeout(w(function(){jb(m.to.line,"smart")}),75),Ac(a,b)||Qa())}));D(E,"focus",Fa);D(E,"blur",sb);D(u,"dragenter",Ta);D(u,"dragover",Ta);D(u,"drop",w(function(a){a.preventDefault();var b=Ka(a,!0),c=a.dataTransfer.files;if(b&&!p.readOnly)if(c&&c.length&&window.FileReader&&window.File){a=function(a,c){var g=new FileReader;g.onload=function(){f[c]=g.result;++d==e&&(b=J(b),w(function(){var a=ga(f.join(""),b,b);ua(b,a)})())};
g.readAsText(a)};for(var e=c.length,f=Array(e),d=0,l=0;l<e;++l)a(c[l],l)}else try{if(f=a.dataTransfer.getData("Text")){var l=m.from,h=m.to;ua(b,b);Tb&&ga("",l,h);Ia(f);la()}}catch(n){}}));D(u,"paste",function(){la();Qa()});D(E,"paste",Qa);D(E,"cut",w(function(a){p.readOnly||Ia("")}));Pb&&D(S,"mouseup",function(){document.activeElement==E&&E.blur();la()});var xc;try{xc=document.activeElement==E}catch(Lc){}xc||p.autofocus?setTimeout(Fa,20):sb();var L=I.CodeMirror={getValue:function(a){var b=[];t.iter(0,
t.size,function(a){b.push(a.text)});return b.join("\n")},setValue:w(l),getSelection:bb,replaceSelection:w(Ia),focus:function(){window.focus();la();Fa();Qa()},setOption:function(a,b){var c=p[a];p[a]=b;"mode"==a||"indentUnit"==a?ic():"readOnly"==a&&"nocursor"==b?(sb(),E.blur()):"readOnly"!=a||b?"theme"==a?kc():"lineWrapping"==a&&c!=b?w(Gc)():"tabSize"==a&&Ja(!0):$a(!0);if("lineNumbers"==a||"gutter"==a||"firstLineNumber"==a||"theme"==a)c=p.gutter||p.lineNumbers,T.style.display=c?"":"none",c?ea=!0:X.parentNode.style.marginLeft=
0,Ja(!0)},getOption:function(a){return p[a]},undo:w(function(){bc(W.done,W.undone)}),redo:w(function(){bc(W.undone,W.done)}),indentLine:w(function(a,b){"string"!=typeof b&&(b=null==b?p.smartIndent?"smart":"prev":b?"add":"subtract");c(a)&&jb(a,b)}),indentSelection:w(function(a){if(G(m.from,m.to))return jb(m.from.line,a);for(var b=m.to.line-(m.to.ch?0:1),c=m.from.line;c<=b;++c)jb(c,a)}),historySize:function(){return{undo:W.done.length,redo:W.undone.length,history:W}},clearHistory:function(){W=new Ub},
matchBrackets:w(function(){tc(!0)}),getTokenAt:w(function(a,b){a=J(a);var c=kb(a.line);c.acmode=b;return e(a.line).getTokenAt(N,c,a.ch)}),getStateAfter:function(a){a=ib(null==a?t.size-1:a);return kb(a+1)},cursorCoords:function(a,b){null==a&&(a=m.inverted);return this.charCoords(a?m.from:m.to,b)},charCoords:function(a,b){a=J(a);if("local"==b)return ma(a,!1);if("div"==b)return ma(a,!0);var c=ma(a,!0),e=Aa(z);return{x:e.left+c.x,y:e.top+c.y,yBot:e.top+c.yBot}},coordsChar:function(a){var b=Aa(z);return Jb(a.x-
b.left,a.y-b.top)},markText:w(Ib),setBookmark:function(a){a=J(a);var b=new A(a.ch);e(a.line).addMark(b);return b},findMarksAt:function(a){a=J(a);var b=[],c=e(a.line).marked;if(!c)return b;for(var f=0,d=c.length;f<d;++f){var l=c[f];(null==l.from||l.from<=a.ch)&&(null==l.to||l.to>=a.ch)&&b.push(l.marker||l)}return b},setMarker:w(function(a,b,c){"number"==typeof a&&(a=e(ib(a)));a.gutterMarker={text:b,style:c};ea=!0;return a}),clearMarker:w(function(a){"number"==typeof a&&(a=e(ib(a)));a.gutterMarker=
null;ea=!0}),setLineClass:w(function(a,b,c){return lc(a,function(a){if(a.className!=b||a.bgClassName!=c)return a.className=b,a.bgClassName=c,!0})}),hideLine:w(function(a){return Eb(a,!0)}),showLine:w(function(a){return Eb(a,!1)}),onDeleteLine:function(a,b){if("number"==typeof a){if(!c(a))return null;a=e(a)}(a.handlers||(a.handlers=[])).push(b);return a},lineInfo:function(a){if("number"==typeof a){if(!c(a))return null;var b=a;a=e(a);if(!a)return null}else if(b=Ea(a),null==b)return null;var f=a.gutterMarker;
return{line:b,handle:a,text:a.text,markerText:f&&f.text,markerClass:f&&f.style,lineClass:a.className,bgClass:a.bgClassName}},addWidget:function(a,b,c,e,f){a=ma(J(a));var d=a.yBot,l=a.x;b.style.position="absolute";S.appendChild(b);if("over"==e)d=a.y;else if("near"==e){e=Math.max(u.offsetHeight,t.height*sa());var h=Math.max(S.clientWidth,z.clientWidth)-z.offsetLeft;a.yBot+b.offsetHeight>e&&a.y>b.offsetHeight&&(d=a.y-b.offsetHeight);l+b.offsetWidth>h&&(l=h-b.offsetWidth)}b.style.top=d+z.offsetTop+"px";
b.style.left=b.style.right="";"right"==f?(l=S.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==f?l=0:"middle"==f&&(l=(S.clientWidth-b.offsetWidth)/2),b.style.left=l+z.offsetLeft+"px");c&&na(l,d,l+b.offsetWidth,d+b.offsetHeight)},lineCount:function(){return t.size},clipPos:J,getCursor:function(a){null==a&&(a=m.inverted);a=a?m.from:m.to;return{line:a.line,ch:a.ch}},somethingSelected:function(){return!G(m.from,m.to)},setCursor:w(function(a,b,c){null==b&&"number"==typeof a.line?wa(a.line,a.ch,
c):wa(a,b,c)}),scrollCursorIntoView2:function(){zb()},setSelection:w(function(a,b,c){(c?ua:Pa)(J(a),J(b||a))}),getLine:function(a){if(c(a))return e(a).text},getLineHandle:function(a){if(c(a))return e(a)},setLine:w(function(a,b){c(a)&&ga(b,{line:a,ch:0},{line:a,ch:e(a).text.length})}),removeLine:w(function(a){c(a)&&ga("",{line:a,ch:0},J({line:a+1,ch:0}))}),replaceRange:w(ga),getRange:function(a,b){return ja(J(a),J(b))},triggerOnKeyDown:w(F),execCommand:function(a){return Xb[a](L)},moveH:w(function(a,
b){var c=0>a?m.from:m.to;if(Z||G(m.from,m.to))c=Fb(a,b);wa(c.line,c.ch,!0)}),deleteH:w(function(a,b){G(m.from,m.to)?0>a?ga("",Fb(a,b),m.to):ga("",m.from,Fb(a,b)):ga("",m.from,m.to);fb=!0}),moveV:w(function(a,b){var c=0,e=ma(m.inverted?m.from:m.to,!0);null!=gb&&(e.x=gb);"page"==b?c=Math.min(u.clientHeight,window.innerHeight||document.documentElement.clientHeight):"line"==b&&(c=sa());c=Jb(e.x,e.y+c*a+2);"page"==b&&(u.scrollTop+=ma(c,!0).y-e.y);wa(c.line,c.ch,!0);gb=e.x}),toggleOverwrite:function(){cb?
(cb=!1,U.className=U.className.replace(" CodeMirror-overwrite","")):(cb=!0,U.className+=" CodeMirror-overwrite")},posFromIndex:function(a){var b=0,c;t.iter(0,t.size,function(e){e=e.text.length+1;if(e>a)return c=a,!0;a-=e;++b});return J({line:b,ch:c})},indexFromPos:function(a){if(0>a.line||0>a.ch)return 0;var b=a.ch;t.iter(0,a.line,function(a){b+=a.text.length+1});return b},scrollTo:function(a,b){null!=a&&(u.scrollLeft=a);null!=b&&(u.scrollTop=b);Ja([])},operation:function(a){return w(a)()},refresh:function(){Ja(!0);
u.scrollHeight>Sb&&(u.scrollTop=Sb)},getInputField:function(){return E},getWrapperElement:function(){return I},getScrollerElement:function(){return u},getGutterElement:function(){return T}},qb=null,Zb,Ga=!1,ta="",gb=null;Hb.prototype.clear=w(function(){for(var a=Infinity,b=-Infinity,c=0,e=this.set.length;c<e;++c){var f=this.set[c],d=f.marked;if(d&&f.parent)for(f=Ea(f),a=Math.min(a,f),b=Math.max(b,f),f=0;f<d.length;++f)d[f].marker==this&&d.splice(f--,1)}Infinity!=a&&ba.push({from:a,to:b+1})});Hb.prototype.find=
function(){for(var a,b,c=0,e=this.set.length;c<e;++c)for(var f=this.set[c],d=f.marked,l=0;l<d.length;++l){var h=d[l];if(h.marker==this&&(null!=h.from||null!=h.to)){var m=Ea(f);null!=m&&(null!=h.from&&(a={line:m,ch:h.from}),null!=h.to&&(b={line:m,ch:h.to}))}}return{from:a,to:b}};var nc=Math.floor(16777215*Math.random()).toString(16),Kb,oc,Ca,qc,pc=0,Lb={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},vc=0,Xa;for(Xa in nb)nb.propertyIsEnumerable(Xa)&&!L.propertyIsEnumerable(Xa)&&(L[Xa]=nb[Xa]);
return L}function n(a){return"string"==typeof a?ca[a]:a}function r(a,b,c,e){function f(b){b=n(b);var c=b[a];if(null!=c&&e(c))return!0;if(b.catchall)return e(b.catchall);b=b.fallthrough;if(null==b)return!1;if("[object Array]"!=Object.prototype.toString.call(b))return f(b);for(var c=0,d=b.length;c<d;++c)if(f(b[c]))return!0;return!1}return b&&f(b)?!0:f(c)}function x(a){a=ya[V(a,"keyCode")];return"Ctrl"==a||"Alt"==a||"Shift"==a||"Mod"==a}function B(a,b){if(!0===b)return b;if(a.copyState)return a.copyState(b);
var c={},e;for(e in b){var f=b[e];f instanceof Array&&(f=f.concat([]));c[e]=f}return c}function P(a,b,c){return a.startState?a.startState(b,c):!0}function F(a,b){this.pos=this.start=0;this.string=a;this.tabSize=b||8}function K(a,b,c,e){this.from=a;this.to=b;this.style=c;this.marker=e}function A(a){this.to=this.from=a;this.line=null}function y(a,b){this.styles=b||[a,null];this.text=a;this.height=1;this.stateAfter=this.parent=this.hidden=this.marked=this.gutterMarker=this.className=this.bgClassName=
this.handlers=null}function v(a,b,c,e){for(var f=0,d=0,h=0;d<b;f+=2){var n=c[f],q=d+n.length;0==h?(q>a&&e.push(n.slice(a-d,Math.min(n.length,b-d)),c[f+1]),q>=a&&(h=1)):1==h&&(q>b?e.push(n.slice(0,b-d),c[f+1]):e.push(n,c[f+1]));d=q}}function q(a){this.lines=a;this.parent=null;for(var b=0,c=a.length,e=0;b<c;++b)a[b].parent=this,e+=a[b].height;this.height=e}function ka(a){this.children=a;for(var b=0,c=0,e=0,f=a.length;e<f;++e){var d=a[e],b=b+d.chunkSize(),c=c+d.height;d.parent=this}this.size=b;this.height=
c;this.parent=null}function Ea(a){if(null==a.parent)return null;var b=a.parent;a=Wa(b.lines,a);for(var c=b.parent;c;b=c,c=c.parent)for(var e=0;c.children[e]!=b;++e)a+=c.children[e].chunkSize();return a}function Ab(a,b){var c=0;a:do{for(var e=0,f=a.children.length;e<f;++e){var d=a.children[e],h=d.height;if(b<h){a=d;continue a}b-=h;c+=d.chunkSize()}return c}while(!a.lines);e=0;for(f=a.lines.length;e<f;++e){d=a.lines[e].height;if(b<d)break;b-=d}return c+e}function Bb(a,b){var c=0;a:do{for(var e=0,f=
a.children.length;e<f;++e){var d=a.children[e],h=d.chunkSize();if(b<h){a=d;continue a}b-=h;c+=d.height}return c}while(!a.lines);for(e=0;e<b;++e)c+=a.lines[e].height;return c}function Ub(){this.time=0;this.done=[];this.undone=[]}function Vb(){Ta(this)}function Bc(a){a.stop||(a.stop=Vb);return a}function M(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function ob(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Ta(a){M(a);ob(a)}function wc(a){if(a.which)return a.which;if(a.button&
1)return 1;if(a.button&2)return 3;if(a.button&4)return 2}function V(a,b){return a.override&&a.override.hasOwnProperty(b)?a.override[b]:a[b]}function D(a,b,c,e){if("function"==typeof a.addEventListener){if(a.addEventListener(b,c,!1),e)return function(){a.removeEventListener(b,c,!1)}}else{var f=function(a){c(a||window.event)};a.attachEvent("on"+b,f);if(e)return function(){a.detachEvent("on"+b,f)}}}function Rb(){this.id=null}function Ya(a,b,c){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=a.length));
for(var e=0,f=0;e<b;++e)"\t"==a.charAt(e)?f+=c-f%c:++f;return f}function Aa(a,b){for(var c=a.ownerDocument.body,e=0,f=0,d=!1,h=a;h;h=h.offsetParent){var n=h.offsetLeft,q=h.offsetTop;h==c?(e+=Math.abs(n),f+=Math.abs(q)):(e+=n,f+=q);if(n=b)n=h.currentStyle?h.currentStyle:window.getComputedStyle(h,null),n="fixed"==n.position;n&&(d=!0)}c=b&&!d?null:c;for(h=a.parentNode;h!=c;h=h.parentNode)null!=h.scrollLeft&&(e-=h.scrollLeft,f-=h.scrollTop);return{left:e,top:f}}function dc(a){Nb?(a.selectionStart=0,a.selectionEnd=
a.value.length):a.select()}function G(a,b){return a.line==b.line&&a.ch==b.ch}function ha(a,b){return a.line<b.line||a.line==b.line&&a.ch<b.ch}function ia(a){ja.textContent=a;return ja.innerHTML}function Cc(a,b){if(!b)return 0;if(!a)return b.length;for(var c=a.length,e=b.length;0<=c&&0<=e&&a.charAt(c)==b.charAt(e);--c,--e);return e+1}function Wa(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,e=a.length;c<e;++c)if(a[c]==b)return c;return-1}function Gb(a){return/\w/.test(a)||a.toUpperCase()!=a.toLowerCase()}
d.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,smartIndent:!0,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,autoClearEmptyLines:!1,onKeyEvent:null,onKeyUpEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,
tabindex:null,autofocus:null};var Nb=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),rb=Nb||/Mac/.test(navigator.platform);/Win/.test(navigator.platform);var Da=d.modes={},na=d.mimeModes={};d.defineMode=function(a,b){d.defaults.mode||"null"==a||(d.defaults.mode=a);Da[a]=b};d.defineMIME=function(a,b){na[a]=b};d.resolveMode=function(a){if("string"==typeof a&&na.hasOwnProperty(a))a=na[a];else if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return d.resolveMode("application/xml");
return"string"==typeof a?{name:a}:a||{name:"null"}};d.getMode=function(a,b){b=d.resolveMode(b);var c=Da[b.name];return c?c(a,b):(window.console&&console.warn("No mode "+b.name+" found, falling back to plain text."),d.getMode(a,"text/plain"))};d.listModes=function(){var a=[],b;for(b in Da)Da.propertyIsEnumerable(b)&&a.push(b);return a};d.listMIMEs=function(){var a=[],b;for(b in na)na.propertyIsEnumerable(b)&&a.push({mime:b,mode:na[b]});return a};var nb=d.extensions={};d.defineExtension=function(a,
b){nb[a]=b};var Xb=d.commands={selectAll:function(a){a.setSelection({line:0,ch:0},{line:a.lineCount()-1})},killLine:function(a){var b=a.getCursor(!0),c=a.getCursor(!1),e=!G(b,c);e||a.getLine(b.line).length!=b.ch?a.replaceRange("",b,e?c:{line:b.line}):a.replaceRange("",b,{line:b.line+1,ch:0})},deleteLine:function(a){var b=a.getCursor().line;a.replaceRange("",{line:b,ch:0},{line:b})},undo:function(a){a.undo()},redo:function(a){a.redo()},goDocStart:function(a){a.setCursor(0,0,!0)},goDocEnd:function(a){a.setSelection({line:a.lineCount()-
1},null,!0)},goLineStart:function(a){a.setCursor(a.getCursor().line,0,!0)},goLineStartSmart:function(a){var b=a.getCursor(),c=a.getLine(b.line),c=Math.max(0,c.search(/\S/));a.setCursor(b.line,b.ch<=c&&b.ch?0:c,!0)},goLineEnd:function(a){a.setSelection({line:a.getCursor().line},null,!0)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,
"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goWordRight:function(a){a.moveH(1,"word")},delCharLeft:function(a){a.deleteH(-1,"char")},delCharRight:function(a){a.deleteH(1,"char")},delWordLeft:function(a){a.deleteH(-1,"word")},delWordRight:function(a){a.deleteH(1,"word")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},
insertTab:function(a){a.replaceSelection("\t","end")},transposeChars:function(a){var b=a.getCursor(),c=a.getLine(b.line);0<b.ch&&b.ch<c.length-1&&a.replaceRange(c.charAt(b.ch)+c.charAt(b.ch-1),{line:b.line,ch:b.ch-1},{line:b.line,ch:b.ch+1})},newlineAndIndent:function(a){a.replaceSelection("\n","end");a.indentLine(a.getCursor().line)},toggleOverwrite:function(a){a.toggleOverwrite()}},ca=d.keyMap={};ca.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",
PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"insertTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};ca.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft",
"Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"};ca.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft",
"Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]};ca["default"]=rb?ca.macDefault:ca.pcDefault;ca.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp",
"Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};d.fromTextArea=function(a,b){function c(){a.value=h.getValue()}b||(b={});b.value=a.value;!b.tabindex&&a.tabindex&&(b.tabindex=a.tabindex);null==b.autofocus&&null!=a.getAttribute("autofocus")&&(b.autofocus=!0);if(a.form){var e=D(a.form,"submit",c,!0);if("function"==typeof a.form.submit){var f=function(){c();a.form.submit=l;a.form.submit();
a.form.submit=f},l=a.form.submit;a.form.submit=f}}a.style.display="none";var h=d(function(b){a.parentNode.insertBefore(b,a.nextSibling)},b);h.save=c;h.getTextArea=function(){return a};h.toTextArea=function(){c();a.parentNode.removeChild(h.getWrapperElement());a.style.display="";a.form&&(e(),"function"==typeof a.form.submit&&(a.form.submit=l))};return h};d.copyState=B;d.startState=P;F.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)},
next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(a){var b=this.string.charAt(this.pos);if("string"==typeof a?b==a:b&&(a.test?a.test(b):a(b)))return++this.pos,b},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){a=this.string.indexOf(a,this.pos);
if(-1<a)return this.pos=a,!0},backUp:function(a){this.pos-=a},column:function(){return Ya(this.string,this.start,this.tabSize)},indentation:function(){return Ya(this.string,null,this.tabSize)},match:function(a,b,c){if("string"==typeof a){var e=function(a){return c?a.toLowerCase():a};if(e(this.string).indexOf(e(a),this.pos)==this.pos)return!1!==b&&(this.pos+=a.length),!0}else return(a=this.string.slice(this.pos).match(a))&&!1!==b&&(this.pos+=a[0].length),a},current:function(){return this.string.slice(this.start,
this.pos)}};d.StringStream=F;K.prototype={attach:function(a){this.marker.set.push(a)},detach:function(a){a=Wa(this.marker.set,a);-1<a&&this.marker.set.splice(a,1)},split:function(a,b){return this.to<=a&&null!=this.to?null:new K(this.from<a||null==this.from?null:this.from-a+b,null==this.to?null:this.to-a+b,this.style,this.marker)},dup:function(){return new K(null,null,this.style,this.marker)},clipTo:function(a,b,c,e,f){a&&e>this.from&&(e<this.to||null==this.to)?this.from=null:null!=this.from&&this.from>=
b&&(this.from=Math.max(e,this.from)+f);c&&(b<this.to||null==this.to)&&(b>this.from||null==this.from)?this.to=null:null!=this.to&&this.to>b&&(this.to=e<this.to?this.to+f:b)},isDead:function(){return null!=this.from&&null!=this.to&&this.from>=this.to},sameSet:function(a){return this.marker==a.marker}};A.prototype={attach:function(a){this.line=a},detach:function(a){this.line==a&&(this.line=null)},split:function(a,b){if(a<this.from)return this.from=this.to=this.from-a+b,this},isDead:function(){return this.from>
this.to},clipTo:function(a,b,c,e,f){(a||b<this.from)&&(c||e>this.to)?(this.from=0,this.to=-1):this.from>b&&(this.from=this.to=Math.max(e,this.from)+f)},sameSet:function(a){return!1},find:function(){return this.line&&this.line.parent?{line:Ea(this.line),ch:this.from}:null},clear:function(){if(this.line){var a=Wa(this.line.marked,this);-1!=a&&this.line.marked.splice(a,1);this.line=null}}};y.inheritMarks=function(a,b){var c=new y(a),e=b&&b.marked;if(e)for(var f=0;f<e.length;++f)if(null==e[f].to&&e[f].style){var d=
c.marked||(c.marked=[]),h=e[f].dup();d.push(h);h.attach(c)}return c};y.prototype={replace:function(a,b,c){var e=[],f=this.marked,d=null==b?this.text.length:b;v(0,a,this.styles,e);c&&e.push(c,null);v(d,this.text.length,this.styles,e);this.styles=e;this.text=this.text.slice(0,a)+c+this.text.slice(d);this.stateAfter=null;if(f)for(c=c.length-(d-a),e=0;e<f.length;++e){var h=f[e];h.clipTo(null==a,a||0,null==b,d,c);h.isDead()&&(h.detach(this),f.splice(e--,1))}},split:function(a,b){var c=[b,null],e=this.marked;
v(a,this.text.length,this.styles,c);c=new y(b+this.text.slice(a),c);if(e)for(var f=0;f<e.length;++f){var d=e[f],h=d.split(a,b.length);h&&(c.marked||(c.marked=[]),c.marked.push(h),h.attach(c),h==d&&e.splice(f--,1))}return c},append:function(a){var b=this.text.length,c=a.marked,e=this.marked;this.text+=a.text;v(0,a.text.length,a.styles,this.styles);if(e)for(a=0;a<e.length;++a)null==e[a].to&&(e[a].to=b);if(c&&c.length)a:for(e||(this.marked=e=[]),a=0;a<c.length;++a){var f=c[a];if(!f.from)for(var d=0;d<
e.length;++d){var h=e[d];if(h.to==b&&h.sameSet(f)){h.to=null==f.to?null:f.to+b;h.isDead()&&(h.detach(this),c.splice(a--,1));continue a}}e.push(f);f.attach(this);f.from+=b;null!=f.to&&(f.to+=b)}},fixMarkEnds:function(a){var b=this.marked;a=a.marked;if(b)for(var c=0;c<b.length;++c){var e=b[c],f=null==e.to;if(f&&a)for(var d=0;d<a.length;++d)if(a[d].sameSet(e)){f=!1;break}f&&(e.to=this.text.length)}},fixMarkStarts:function(){var a=this.marked;if(a)for(var b=0;b<a.length;++b)null==a[b].from&&(a[b].from=
0)},addMark:function(a){a.attach(this);null==this.marked&&(this.marked=[]);this.marked.push(a);this.marked.sort(function(a,c){return(a.from||0)-(c.from||0)})},highlight:function(a,b,c){c=new F(this.text,c);var e=this.styles,f=0,d=!1,h=e[0],n;for(""==this.text&&a.blankLine&&a.blankLine(b);!c.eol();){var q=a.token(c,b),r=this.text.slice(c.start,c.pos);c.start=c.pos;f&&e[f-1]==q?e[f-2]+=r:r&&(!d&&(e[f+1]!=q||f&&e[f-2]!=n)&&(d=!0),e[f++]=r,e[f++]=q,n=h,h=e[f]);if(5E3<c.pos){e[f++]=this.text.slice(c.pos);
e[f++]=null;break}}e.length!=f&&(e.length=f,d=!0);f&&e[f-2]!=n&&(d=!0);return d||(5>e.length&&10>this.text.length?null:!1)},getTokenAt:function(a,b,c){for(var e=new F(this.text);e.pos<c&&!e.eol();){e.start=e.pos;var f=a.token(e,b)}return{start:e.start,end:e.pos,string:e.current(),className:f||null,state:b}},indentation:function(a){return Ya(this.text,null,a)},getHTML:function(a,b){function c(b,c){if(b){d&&za&&" "==b.charAt(0)&&(b="\u00a0"+b.slice(1));d=!1;if(-1==b.indexOf("\t")){h+=b.length;var e=
ia(b)}else for(var e="",n=0;;){var q=b.indexOf("\t",n);if(-1==q){e+=ia(b.slice(n));h+=b.length-n;break}else{h+=q-n;var r=a(h),e=e+(ia(b.slice(n,q))+r.html);h+=r.width;n=q+1}}c?f.push('<span class="',c,'">',e,"</span>"):f.push(e)}}function e(a){return a?"cm-"+a.replace(/ +/g," cm-"):null}var f=[],d=!0,h=0,n=this.styles,q=this.text,r=this.marked,v=q.length;null!=b&&(v=Math.min(b,v));if(q||null!=b)if(r&&r.length)for(var y=function(){for(var a;B<r.length&&((a=r[B]).from==K||null==a.from);)null!=a.style&&
x.push(a),++B;D=B<r.length?r[B].from:Infinity;for(a=0;a<x.length;++a){var b=x[a].to||Infinity;b==K?x.splice(a--,1):D=Math.min(b,D)}},K=0,q=0,A="",D=r[0].from||0,x=[],B=0;K<v;){D==K&&y();for(var F=Math.min(v,D);;){if(A){for(var G=K+A.length,ka=P,M=0;M<x.length;++M)ka=(ka?ka+" ":"")+x[M].style;c(G>F?A.slice(0,F-K):A,ka);if(G>=F){A=A.slice(F-K);K=F;break}K=G}A=n[q++];P=e(n[q++])}}else for(y=q=0;y<v;q+=2){var A=n[q],P=n[q+1],F=A.length;y+F>v&&(A=A.slice(0,v-y));y+=F;c(A,e(P))}else c(" ");return f.join("")},
cleanUp:function(){this.parent=null;if(this.marked)for(var a=0,b=this.marked.length;a<b;++a)this.marked[a].detach(this)}};q.prototype={chunkSize:function(){return this.lines.length},remove:function(a,b,c){for(var e=a,f=a+b;e<f;++e){var d=this.lines[e];this.height-=d.height;d.cleanUp();if(d.handlers)for(var h=0;h<d.handlers.length;++h)c.push(d.handlers[h])}this.lines.splice(a,b)},collapse:function(a){a.splice.apply(a,[a.length,0].concat(this.lines))},insertHeight:function(a,b,c){this.height+=c;this.lines.splice.apply(this.lines,
[a,0].concat(b));a=0;for(c=b.length;a<c;++a)b[a].parent=this},iterN:function(a,b,c){for(b=a+b;a<b;++a)if(c(this.lines[a]))return!0}};ka.prototype={chunkSize:function(){return this.size},remove:function(a,b,c){this.size-=b;for(var e=0;e<this.children.length;++e){var f=this.children[e],d=f.chunkSize();if(a<d){var h=Math.min(b,d-a),n=f.height;f.remove(a,h,c);this.height-=n-f.height;d==h&&(this.children.splice(e--,1),f.parent=null);if(0==(b-=h))break;a=0}else a-=d}25>this.size-b&&(a=[],this.collapse(a),
this.children=[new q(a)],this.children[0].parent=this)},collapse:function(a){for(var b=0,c=this.children.length;b<c;++b)this.children[b].collapse(a)},insert:function(a,b){for(var c=0,e=0,f=b.length;e<f;++e)c+=b[e].height;this.insertHeight(a,b,c)},insertHeight:function(a,b,c){this.size+=b.length;this.height+=c;for(var e=0,f=this.children.length;e<f;++e){var d=this.children[e],h=d.chunkSize();if(a<=h){d.insertHeight(a,b,c);if(d.lines&&50<d.lines.length){for(;50<d.lines.length;)a=d.lines.splice(d.lines.length-
25,25),a=new q(a),d.height-=a.height,this.children.splice(e+1,0,a),a.parent=this;this.maybeSpill()}break}a-=h}},maybeSpill:function(){if(!(10>=this.children.length)){var a=this;do{var b=a.children.splice(a.children.length-5,5),b=new ka(b);if(a.parent){a.size-=b.size;a.height-=b.height;var c=Wa(a.parent.children,a);a.parent.children.splice(c+1,0,b)}else c=new ka(a.children),c.parent=a,a.children=[c,b],a=c;b.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}},iter:function(a,b,c){this.iterN(a,
b-a,c)},iterN:function(a,b,c){for(var e=0,d=this.children.length;e<d;++e){var l=this.children[e],h=l.chunkSize();if(a<h){h=Math.min(b,h-a);if(l.iterN(a,h,c))return!0;if(0==(b-=h))break;a=0}else a-=h}}};Ub.prototype={addChange:function(a,b,c){this.undone.length=0;var e=+new Date,d=this.done[this.done.length-1],l=d&&d[d.length-1];if(400<e-this.time||!l)this.done.push([{start:a,added:b,old:c,time:gecount++}]);else if(l.start>a+c.length||l.start+l.added<a-l.added+l.old.length)d.push({start:a,added:b,
old:c,time:gecount++});else{d=0;if(a<l.start){for(d=l.start-a-1;0<=d;--d)l.old.unshift(c[d]);d=Math.min(0,b-c.length);l.added+=l.start-a+d;l.start=a}else l.start<a&&(d=a-l.start,b+=d);d=l.added-d;for(a=c.length;d<a;++d)l.old.push(c[d]);l.added<b&&(l.added=b)}this.time=e}};d.e_stop=Ta;d.e_preventDefault=M;d.e_stopPropagation=ob;d.connect=D;Rb.prototype={set:function(a,b){clearTimeout(this.id);this.id=setTimeout(b,a)}};var zc=d.Pass={toString:function(){return"CodeMirror.Pass"}},lb=/gecko\/\d{7}/i.test(navigator.userAgent),
za=/MSIE \d/.test(navigator.userAgent),sc=/MSIE [1-8]\b/.test(navigator.userAgent),Ob=/WebKit\//.test(navigator.userAgent),Kc=/Chrome\//.test(navigator.userAgent),Pb=/KHTML\//.test(navigator.userAgent),Jc=function(){if(sc)return!1;var a=document.createElement("div");return"draggable"in a||"dragDrop"in a}();(function(){var a=document.createElement("textarea");a.value="foo\nbar";a.value.indexOf("\r")})();null!=document.documentElement.getBoundingClientRect&&(Aa=function(a,b){try{var c=a.getBoundingClientRect(),
c={top:c.top,left:c.left}}catch(e){c={top:0,left:0}}if(!b)if(null==window.pageYOffset){var d=document.documentElement||document.body.parentNode;null==d.scrollTop&&(d=document.body);c.top+=d.scrollTop;c.left+=d.scrollLeft}else c.top+=window.pageYOffset,c.left+=window.pageXOffset;return c});var ja=document.createElement("pre");"\na"==ia("a")?ia=function(a){ja.textContent=a;return ja.innerHTML.slice(1)}:"\t"!=ia("\t")&&(ia=function(a){ja.innerHTML="";ja.appendChild(document.createTextNode(a));return ja.innerHTML});
d.htmlEscape=ia;var La=3!="\n\nb".split(/\n/).length?function(a){for(var b=0,c,e=[];-1<(c=a.indexOf("\n",b));)e.push(a.slice(b,"\r"==a.charAt(c-1)?c-1:c)),b=c+1;e.push(a.slice(b));return e}:function(a){return a.split(/\r?\n/)};d.splitLines=La;var Ec=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return b&&b.parentElement()==a?0!=b.compareEndPoints("StartToEnd",b):!1};d.defineMode("null",
function(){return{token:function(a){a.skipToEnd()}}});d.defineMIME("text/plain","null");var ya={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",
63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};d.keyNames=ya;(function(){for(var a=0;10>a;a++)ya[a+48]=String(a);for(a=65;90>=a;a++)ya[a]=String.fromCharCode(a);for(a=1;12>=a;a++)ya[a+111]=ya[a+63235]="F"+a})();return d}();
(function(){function d(d,r,x,B){this.atOccurrence=!1;this.cm=d;null==B&&(B="string"==typeof r&&r==r.toLowerCase());x=x?d.clipPos(x):{line:0,ch:0};this.pos={from:x,to:x};if("string"!=typeof r)this.matches=function(K,A){if(K)for(var y=d.getLine(A.line).slice(0,A.ch),v=y.match(r),q=0;v;){var x=y.indexOf(v[0]),q=q+x,y=y.slice(x+1);if(x=y.match(r))v=x;else break;q++}else y=d.getLine(A.line).slice(A.ch),q=(v=y.match(r))&&A.ch+y.indexOf(v[0]);if(v)return{from:{line:A.line,ch:q},to:{line:A.line,ch:q+v[0].length},
match:v}};else{B&&(r=r.toLowerCase());var P=B?function(d){return d.toLowerCase()}:function(d){return d},F=r.split("\n");this.matches=1==F.length?function(x,A){var y=P(d.getLine(A.line)),v=r.length,q;if(x?A.ch>=v&&-1!=(q=y.lastIndexOf(r,A.ch-v)):-1!=(q=y.indexOf(r,A.ch)))return{from:{line:A.line,ch:q},to:{line:A.line,ch:q+v}}}:function(r,A){var y=A.line,v=r?F.length-1:0,q=F[v],x=P(d.getLine(y)),B=r?x.indexOf(q)+q.length:x.lastIndexOf(q);if(!(r?B>=A.ch||B!=q.length:B<=A.ch||B!=x.length-q.length))for(;r?
y:y!=d.lineCount()-1;){x=P(d.getLine(y+=r?-1:1));q=F[r?--v:++v];if(0<v&&v<F.length-1)if(x!=q)break;else continue;v=r?x.lastIndexOf(q):x.indexOf(q)+q.length;if(r?v!=x.length-q.length:v!=q.length)break;q={line:A.line,ch:B};y={line:y,ch:v};return{from:r?y:q,to:r?q:y}}}}}d.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(d){function r(d){d={line:d,ch:0};x.pos={from:d,to:d};return x.atOccurrence=!1}for(var x=this,B=this.cm.clipPos(d?this.pos.from:
this.pos.to);;){if(this.pos=this.matches(d,B))return this.atOccurrence=!0,this.pos.match||!0;if(d){if(!B.line)return r(0);B={line:B.line-1,ch:this.cm.getLine(B.line-1).length}}else{var P=this.cm.lineCount();if(B.line==P-1)return r(P);B={line:B.line+1,ch:0}}}},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(d){this.atOccurrence&&(this.pos.to=this.cm.replaceRange(d,this.pos.from,this.pos.to))}};CodeMirror.defineExtension("getSearchCursor",
function(n,r,x){return new d(this,n,r,x)})})();